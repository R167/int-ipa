(this["webpackJsonpint-ipa"]=this["webpackJsonpint-ipa"]||[]).push([[0],{154:function(e,t,r){},155:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(15),c=r.n(s),o=r(227),i=r(224),l=r(233),d=r(226),b=r(121),j=r(80),u=r(79),p=r(199),h=r(225),m=r(18),O=r(30),x=r(101);const g="./config",f=(e,t)=>`./config/${e}/${t}`,v=()=>new URL(g,window.location.href);class y extends Error{}const k=(e,t,r)=>{const n="string"===typeof e?e.split("\n"):e,a=t-1,s=Math.max(a-r,0),c=Math.max(a,a-r)-s;return a<0?[]:n.slice(a-r,a+r+1).map(((e,t)=>({num:s+t+1,contents:e,error:t===c})))},w=(e,t,r)=>{const n=e.split("\n"),a=n.findIndex((function(e){return this.pos+=e.length+1,t<this.pos}),{pos:0});return k(n,a+1,r)};class C extends y{constructor(e,t){super(t.message),this.dat=void 0,this.err=void 0,this.headline="File parsing error",this.dat=e,this.err=t}context(e=1){var t;const r=null===(t=this.err.linePos)||void 0===t?void 0:t.start;return r?k(this.dat,r.line,e):[]}}class S extends y{constructor(e,t,r){super(r.message),this.dat=void 0,this.doc=void 0,this.err=void 0,this.headline="File validation error",this.dat=e,this.doc=t,this.err=r}context(e=1){const t=this.doc.getIn(this.err.path,!0);return null!=t&&"object"===typeof t&&"range"in t?w(this.dat,t.range[0],e):[]}}class R extends y{constructor(e,t){super(e),this.originalMessage=void 0,this.originalMessage=t}}var E=r(8);const M=Object(E.d)({homepage:Object(E.d)({title:Object(E.h)(),body:Object(E.h)()}),classes:Object(E.a)(Object(E.d)({name:Object(E.h)(),folder:Object(E.h)(),hidden:Object(E.e)(Object(E.b)())})),ipaPlayer:Object(E.e)(Object(E.d)({enabled:Object(E.b)(),url:Object(E.h)()}))});var A=r(102),L=r.n(A);const P=(e,t)=>{const r=L.a.parseDocument(e,{prettyErrors:!0});if(r.warnings.forEach((e=>console.warn(e))),r.errors.length>0)throw r.errors.forEach((e=>console.error(e))),new C(e,r.errors[0]);const n=r.toJSON(),[a,s]=Object(E.k)(n,t);if(!s){if(!a)throw new y("Bad state. Both No valid and no error!");throw new S(e,r,a)}return s},N=e=>P(e,M);var $=r(59),D=r.n($);const T=new Map([["\u02a7","t\u0361\u0283"],["\u02a4","d\u0361\u0292"],["\u025a","\u0259\u02de"],["\u025d","\u025c\u02de"]]),z=new RegExp(Array.from(T.keys()).join("|"),"gu");var B=e=>e.normalize("NFKD").replace(z,(e=>T.get(e)||"\u2370"));const I=Object(E.d)({name:Object(E.h)(),columns:Object(E.e)(Object(E.c)()),symbols:Object(E.a)(Object(E.d)({ipa:Object(E.h)(),description:Object(E.h)()}))}),U=Object(E.d)({symbols:Object(E.a)(Object(E.h)()),additionalSections:Object(E.e)(Object(E.a)(I))}),F=Object(E.f)(Object(E.h)(),Object(E.a)(Object(E.h)())),H=Object(E.f)(Object(E.h)(),Object(E.j)([Object(E.b)(),Object(E.h)()])),W=Object(E.g)(H,"Segment",((e,t)=>{const r=t.path[t.path.length-1],n=t.branch[t.branch.length-2];if("string"===typeof r||!((e,t)=>Array.isArray(e)&&e.includes(t))(n,e))return"Segments may only occur in arrays";for(const a in e)if((a.includes("...")||a.includes("%"))&&!0===e[a])return"Correct options are not allowed to use wildcards";if(r<n.length-1){if(!0===e[""])return'You may only terminate with "" on the last segment';if(Object.values(e).reduce(((e,t)=>e&&!0!==t),!0))return"There must be at least one valid value per segment"}else if(!0===e[""])for(const a in e)if(""!==a&&!0===e[a])return"You cannot have both a termination and another valid option in the last segment";return!0})),V=Object(E.d)({display:Object(E.h)(),audio:Object(E.e)(Object(E.h)()),instructions:Object(E.e)(Object(E.h)()),segments:Object(E.a)(W)}),K=Object(E.d)({author:Object(E.h)(),title:Object(E.h)(),salt:Object(E.e)(Object(E.h)()),instructions:Object(E.e)(Object(E.h)()),macros:Object(E.e)(F),words:Object(E.a)(V),keyboard:Object(E.e)(U)}),G=["Bilabial","Labiodental","Dental","Alveolar","Postalveolar","Retroflex","Palatal","Velar","Uvular","Pharyngeal","Glottal"],Y=["Stop","Nasal","Trill","Tap","Fricative","Lateral fricative","Approximant","Lateral approximant"],_="_",q="",J=[["p","b",q,q,q,q,"t","d",q,q,"\u0288","\u0256","c","\u025f","k","g","q","\u0262",q,_,"\u0294",_],[q,"m",q,"\u0271",q,q,q,"n",q,q,q,"\u0273",q,"\u0272",q,"\u014b",q,"\u0274",_,_,_,_],[q,"\u0299",q,q,q,q,q,"r",q,q,q,q,q,q,_,_,q,"\u0280",q,q,_,_],[q,q,q,"\u2c71",q,q,q,"\u027e",q,q,q,"\u027d",q,q,_,_,q,q,q,q,_,_],["\u0278","\u03b2","f","v","\u03b8","\xf0","s","z","\u0283","\u0292","\u0282","\u0290","\xe7","\u029d","x","\u0263","\u03c7","\u0281","\u0127","\u0295","h","\u0266"],[_,_,_,_,q,q,"\u026c","\u026e",q,q,q,q,q,q,q,q,q,q,_,_,_,_],[q,q,q,"\u028b",q,q,q,"\u0279",q,q,q,"\u027b",q,"j",q,"\u0270",q,q,q,q,_,_],[_,_,_,_,q,q,q,"l",q,q,q,"\u026d",q,"\u028e",q,"\u029f",q,q,_,_,_,_]],Q=[["\u0298","Bilabial"],["\u01c0","Dental"],["\u01c3","(Post)alveolar"],["\u01c2","Palatoalveolar"],["\u01c1","Alveolar lateral"]],Z=[["\u0253","Bilabial"],["\u0257","Dental/alveolar"],["\u0284","Palatal"],["\u0260","Velar"],["\u029b","Uvular"]],X=[["\u02bc","Examples:"],["p\u02bc","Bilabial"],["t\u02bc","Dental/alveolar"],["k\u02bc","Velar"],["s\u02bc","Alveolar fricative"]],ee=[...Q,...Z,...X].map((e=>e[0])),te=["Close","Close-mid","Open-mid","Open"],re=["Front","Central","Back"],ne=[[["i","y"],[0,0]],[["\u0268","\u0289"],[.5,0]],[["\u026f","u"],[1,0]],[["\u026a","\u028f"],[.2,1/6]],[["","\u028a"],[.75,1/6]],[["e","\xf8"],[0,1/3]],[["\u0258","\u0275"],[.5,1/3]],[["\u0264","o"],[1,1/3]],["\u0259",[.5,.5]],[["\u025b","\u0153"],[0,2/3]],[["\u025c","\u025e"],[.5,2/3]],[["\u028c","\u0254"],[1,2/3]],[["\xe6",""],[0,5/6]],["\u0250",[.5,5/6]],[["a","\u0276"],[0,1]],[["\u0251","\u0252"],[1,1]]],ae=[{ipa:"\u0325",description:"Voiceless",examples:["n","d"]},{ipa:"\u032c",description:"Voiced",examples:["s","t"]},{ipa:"\u02b0",description:"Aspirated",examples:["t","d"]},{ipa:"\u0339",description:"More rounded",examples:["\u0254"]},{ipa:"\u031c",description:"Less rounded",examples:["\u0254"]},{ipa:"\u031f",description:"Advanced",examples:["u"]},{ipa:"\u0320",description:"Retracted",examples:["e"]},{ipa:"\u0308",description:"Centralized",examples:["e"]},{ipa:"\u033d",description:"Mid-centralized",examples:["e"]},{ipa:"\u0329",description:"Syllabic",examples:["n"]},{ipa:"\u032f",description:"Non-syllabic",examples:["n"]},{ipa:"\u02de",description:"Rhoticity",examples:["\u0259","a"]},{ipa:"\u0324",description:"Breathy voiced",examples:["b","a"]},{ipa:"\u0330",description:"Creaky voiced",examples:["b","a"]},{ipa:"\u033c",description:"Linguolabial",examples:["t","d"]},{ipa:"\u02b7",description:"Labialized",examples:["t","d"]},{ipa:"\u02b2",description:"Palatalized",examples:["t","d"]},{ipa:"\u02e0",description:"Velarized",examples:["t","d"]},{ipa:"\u02e4",description:"Pharyngealized",examples:["t","d"]},{ipa:"\u032a",description:"Dental",examples:["t","d"]},{ipa:"\u033a",description:"Apical",examples:["t","d"]},{ipa:"\u033b",description:"Laminal",examples:["t","d"]},{ipa:"\u0303",description:"Nasalized",examples:["e"]},{ipa:"\u207f",description:"Nasal release",examples:["d"]},{ipa:"\u02e1",description:"Lateral release",examples:["d"]},{ipa:"\u031a",description:"No audible release",examples:["d"]},{ipa:"\u0334",description:"Velarized or pharyngealized",examples:["l"]},{ipa:"\u031d",description:"Raised",examples:["e"]},{ipa:"\u031e",description:"Lowered",examples:["e"]},{ipa:"\u0318",description:"Advanced tongue root",examples:["e"]},{ipa:"\u0319",description:"Retracted tongue root",examples:["e"]}],se=[{ipa:"\u0361",sym:"\u25cc\u0361\u25cc",description:"Tie bar",examples:["t\u0361\u0283","d\u0361\u0292"]},{ipa:"w",sym:"w",description:"Voiced labial-velar approximant"},{ipa:"\u028d",sym:"\u028d",description:"Voiceless labial-velar fricative"},{ipa:"\u0265",sym:"\u0265",description:"Voiced labial-palatal approximant"},{ipa:"\u029c",sym:"\u029c",description:"Voiceless epiglottal fricative"},{ipa:"\u02a2",sym:"\u02a2",description:"Voiced epiglottal fricative"},{ipa:"\u02a1",sym:"\u02a1",description:"Epiglottal plosive"},{ipa:"\u027a",sym:"\u027a",description:"Voiced alveolar lateral flap"},{ipa:"\u0255",sym:"\u0255",description:"Voiceless alveolo-palatal fricative"},{ipa:"\u0291",sym:"\u0291",description:"Voiced alveolo-palatal fricative"},{ipa:"\u0267",sym:"\u0267",description:"Simultaneous \u0283 and x"}],ce=[{ipa:"\u02c8",sym:"\u02c8",description:"Primary stress"},{ipa:"\u02cc",sym:"\u02cc",description:"Secondary stress"},{ipa:"\u02d0",sym:"\u02d0",description:"Long",examples:["e\u02d0"]},{ipa:"\u02d1",sym:"\u02d1",description:"Half-long",examples:["e\u02d1"]},{ipa:"\u0306",sym:"\u25cc\u0306",description:"Extra-short",examples:["e\u0306"]},{ipa:"|",sym:"|",description:"Minor (foot) group"},{ipa:"\u2016",sym:"\u2016",description:"Major (intonation) group"},{ipa:".",sym:".",description:"Syllable break"},{ipa:"\u203f",sym:"\u203f",description:"Linking (absence of break)"}],oe="Whoops, that's not right. Try again!",ie="Hmmm... Are you sure there's more sounds here?",le=new RegExp(D()(D()("...")),"g"),de=new RegExp(D()(D()("%")),"g"),be=(e,t)=>{if(!t)return{correct:!1,message:ie};const r=B(e);let n;if(t.correct.includes(r))return{correct:!0};if(n=t.explanations.get(r))return{correct:!1,message:n};if(t.wildcards){const e=t.wildcards.find((({matcher:e})=>(e=>{const t=D()(e).replace(le,".*").replace(de,".");return new RegExp(`^${t}$`,"u")})(e).test(r)));if(e)return{correct:!1,message:e.message}}return{correct:!1,message:0===t.correct.length?ie:oe}},je=(e,t,r=[])=>{if(t.hasOwnProperty(e)){const n=[...r,e];let a=[];return t[e].forEach((e=>{if(t.hasOwnProperty(e)&&!n.includes(e)){const r=je(e,t,n);a=a.concat(r)}else a.push(e)})),a}return[e]},ue=(e,t)=>{let r={};return t.forEach((t=>{r[t]=e[t]})),r},pe=e=>{const t=P(e,K),r=ue(t,["author","title","salt","instructions"]),n=(e=>{if(e){let t={};for(const r in e)t[B(r)]=e[r].map(B);return t}return{}})(t.macros),a=t.words.map((e=>({...ue(e,["display","audio","instructions"]),segments:((e,t)=>{const r=e.map(((e,r)=>{let n=[],a=[];const s=new Map;let c;for(const o in e){const r=B(o),i=e[o];!0===i?n=n.concat(je(r,t)):r.includes("...")||r.includes("%")?a.push({matcher:r,message:i||oe}):"HINT"===r&&"string"===typeof i?c=i:je(r,t).forEach((e=>{s.set(e,i||oe)}))}return{correct:n,explanations:s,wildcards:a,hint:c}})),n=r[r.length-1];return 0===n.correct.length?(n.correct.push(""),n.final=!0):n.correct.includes("")?n.final=!0:r.push({correct:[""],explanations:new Map,final:!0}),r})(e.segments,n)}))),s={...r,macros:n,words:a};if(t.keyboard){const{symbols:e,additionalSections:r}=t.keyboard,n=ee.some((t=>e.includes(t)));s.keyboard={symbols:e,nonPulmonics:n,sections:r}}return s},he=Object(E.d)({name:Object(E.h)(),description:Object(E.h)(),file:Object(E.h)(),hidden:Object(E.e)(Object(E.b)())}),me=Object(E.d)({title:Object(E.h)(),description:Object(E.h)(),tasks:Object(E.a)(he)}),Oe={ipa:Object(E.h)(),audio:Object(E.h)(),video:Object(E.e)(Object(E.h)()),description:Object(E.e)(Object(E.h)())},xe=Object(E.d)(Oe),ge=Object(E.d)({name:Object(E.h)(),columns:Object(E.e)(Object(E.c)()),symbols:Object(E.a)(Object(E.d)({...Oe,description:Object(E.h)()}))}),fe=Object(E.i)({baseUrl:Object(E.e)(Object(E.h)()),packFile:Object(E.e)(Object(E.h)()),footer:Object(E.e)(Object(E.h)()),symbols:Object(E.a)(xe),additionalSections:Object(E.e)(Object(E.a)(ge))});var ve=r(2);const ye=Object(n.createContext)(null),ke=async()=>{const e=await fetch("./config/manifest.yaml",{credentials:"same-origin"}),t=await e.text();return{manifest:N(t),raw:t}},we=()=>{const e=Object(n.useContext)(ye);if(!e)throw new Error("Error: you must wrap in a <Manifest> context");return e},Ce="cached_manifest";let Se=!1;var Re=({children:e})=>{const{result:t,error:r,loading:n}=Object(O.a)(ke,[]),a={loading:n,error:r,fetched:!0,result:null===t||void 0===t?void 0:t.manifest};if(n&&!r)try{const e=localStorage.getItem(Ce);e&&(a.result=N(e),a.fetched=!1,a.loading=!1)}catch{}else r&&!Se?(Se=!0,console.error(r),r instanceof x.YAMLError?alert("Error: Your manifest.yaml contains invalid syntax. Please check the console for more info."):r instanceof S?alert(`Issue parsing manifest.yaml: ${r.message}`):alert("There was an error loading your manifest.yaml")):(null===t||void 0===t?void 0:t.raw)&&localStorage.setItem(Ce,t.raw);return Object(ve.jsx)(ye.Provider,{value:a,children:e})},Ee=r(44),Me=r(159),Ae=r(122),Le=r(125),Pe=r(213),Ne=r(214),$e=r(193),De=r(201),Te=r(228),ze=r(208),Be=r(209),Ie=r(210),Ue=r(211),Fe=r(212),He=r(191),We=r(113),Ve=r.n(We);const[Ke,Ge,Ye,_e]=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],qe=[Ke,Ke,Ge,Ge,Ye,_e,Ye,_e,"b","a"],Je=e=>{let t,r=0;return n=>{n.key===qe[r]?(clearTimeout(t),t=setTimeout((()=>r=0),1e3),r+=1,r===qe.length&&(e(),r=0)):r=0}},Qe=(e,t,r=!1)=>{const a=Object(n.useRef)(!1),[s,c]=Object(n.useState)((()=>{const r=e&&localStorage.getItem(e);return null===r?t:JSON.parse(r)}));Object(n.useDebugValue)({[e||"<nopersist>"]:s});const o=Object(n.useCallback)((e=>{c(e)}),[]);return Object(n.useEffect)((()=>{e&&(a.current||r)?localStorage.setItem(e,JSON.stringify(s)):a.current=!0}),[e,s,r]),[s,o]},Ze=Object(n.createContext)(!1),Xe=()=>Object(n.useContext)(Ze);var et=e=>{const[t,r]=Qe("debug_mode",!1);return Object(n.useEffect)((()=>{const e=Je((()=>alert("You really tried that? Really?"))),t=t=>{"."===t.key&&t.metaKey&&t.shiftKey&&r((e=>!e)),e(t)};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}}),[r]),Object(n.useEffect)((()=>{0}),[r]),Object(ve.jsx)(Ze.Provider,{value:t,children:e.children})},tt=r(234),rt=r(230),nt=r(95),at=r(107),st=r.n(at);const ct={prompt:"Name",debug:!1};var ot,it=e=>{const{salt:t,debug:r,prompt:a,name:s,onSubmit:c,controls:o}={...ct,...e},[i,l]=Object(n.useState)(s||""),[d,b]=Object(n.useState)(!!s),[j,u]=Object(n.useState)(!1),p=Object(n.useRef)(),h=Object(n.useRef)(),{result:m}=Object(O.a)(nt.b,[i,t,d]),x=m||i,g=Object(n.useCallback)((()=>{if(p.current){const e=p.current;e.select(),e.setSelectionRange(0,e.value.length),document.execCommand("copy"),u(!0),window.clearTimeout(h.current),h.current=window.setTimeout((()=>u(!1)),2e3)}}),[]),f=d?Object(ve.jsx)(He.a,{variant:"contained",color:"primary",onClick:g,startIcon:Object(ve.jsx)(st.a,{}),children:"Copy"}):Object(ve.jsx)(He.a,{type:"submit",variant:"contained",color:"primary",children:"Submit"});return Object(ve.jsx)("form",{onSubmit:e=>{e.preventDefault(),i.trim()&&(b(!0),c&&c(i))},children:Object(ve.jsxs)($e.a,{container:!0,spacing:2,alignItems:"center",justify:"center",children:[Object(ve.jsxs)($e.a,{item:!0,xs:12,sm:10,md:8,lg:6,children:[Object(ve.jsxs)(Ee.a,{variant:"h6",component:"p",gutterBottom:!0,children:["Congratulations on finishing this assignment! Type your ",a," below and hit submit to receive a unique code for completion."]}),Object(ve.jsx)(tt.a,{PopperProps:{disablePortal:!0},open:j,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:Object(ve.jsx)(Ee.a,{variant:"subtitle2",children:"Copied code!"}),children:Object(ve.jsx)(rt.a,{label:m?"Validation code":a,variant:"filled",InputProps:{readOnly:!!m},inputRef:p,fullWidth:!0,onChange:e=>l(e.target.value),value:x})})]}),Object(ve.jsx)($e.a,{item:!0,xs:12,children:Object(ve.jsxs)($e.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(ve.jsx)($e.a,{item:!0,children:f}),r&&Object(ve.jsx)($e.a,{item:!0,children:Object(ve.jsx)(He.a,{variant:"contained",color:"primary",onClick:()=>b(!1),children:"Reset"})}),o&&Object(ve.jsx)($e.a,{item:!0,children:o})]})})]})})};function lt(e,t){var r,n;const{value:a}=e,s=e.ref.current===document.activeElement||t.type===ot.MoveCursor,c=s?(null===(r=e.ref.current)||void 0===r?void 0:r.selectionStart)||0:e.cursor,o=s?(null===(n=e.ref.current)||void 0===n?void 0:n.selectionEnd)||c:e.cursorAfter,i=t=>{const r=void 0!==t.cursorAfter?t.cursorAfter:void 0!==t.cursor?t.cursor:e.cursorAfter;return{...e,...t,cursorAfter:r}};switch(t.type){case ot.Delete:if(c!==o)return i({cursor:c,cursorAfter:c,value:a.slice(0,c)+a.slice(o,a.length)});if(0===c)return e;return i({cursor:c-1,value:a.slice(0,c-1)+a.slice(c,a.length)});case ot.Append:return i({cursor:c+t.value.length,value:a.slice(0,c)+t.value+a.slice(o,a.length)});case ot.Set:return i({value:t.value,cursor:t.value.length});case ot.Type:return i({cursor:c,cursorAfter:o,value:t.value});case ot.MoveCursor:return i({cursor:c,cursorAfter:o})}}!function(e){e[e.Delete=0]="Delete",e[e.Append=1]="Append",e[e.Set=2]="Set",e[e.Type=3]="Type",e[e.MoveCursor=4]="MoveCursor"}(ot||(ot={}));var dt=()=>{const e=Object(n.useRef)(null),[{cursor:t,cursorAfter:r,value:a},s]=Object(n.useReducer)(lt,{cursor:0,cursorAfter:0,value:"",ref:e}),c=Object(n.useCallback)((e=>s({type:ot.Append,value:e})),[]),o=Object(n.useCallback)((e=>s({type:ot.Type,value:e.target.value})),[]),i=Object(n.useCallback)((()=>s({type:ot.Delete})),[]),l=Object(n.useCallback)((e=>s({type:ot.Set,value:e})),[]);return Object(n.useLayoutEffect)((()=>{const n=document.activeElement,a=e.current,c=()=>{null===a||void 0===a||a.focus({preventScroll:!0}),null===a||void 0===a||a.setSelectionRange(t,r)},o=()=>{s({type:ot.MoveCursor})};return n===a&&c(),null===a||void 0===a||a.addEventListener("focus",c),null===a||void 0===a||a.addEventListener("blur",o),()=>{null===a||void 0===a||a.removeEventListener("focus",c),null===a||void 0===a||a.removeEventListener("blur",o)}}),[t,r]),Object(n.useDebugValue)({cursor:t,value:a}),{handleKeyboard:c,handleDelete:i,handleType:o,setValue:l,value:a,ref:e}},bt=r(20),jt=r(124),ut=r(200),pt=r(196),ht=r(237),mt=r(236),Ot=r(198),xt=r(110),gt=r.n(xt),ft=r(109),vt=r.n(ft);const yt=Object(p.a)((e=>({label:{"&:not(.MuiInputLabel-shrink)":{[e.breakpoints.up("lg")]:{fontSize:"2rem"},fontSize:"1.5rem"}},input:{[e.breakpoints.up("lg")]:{fontSize:"2rem"},fontSize:"1.5rem","&> fieldset > legend > span":{fontSize:"0.75rem"}},noRightMargin:{marginRight:0},helpTextSize:{fontSize:"1rem",[e.breakpoints.up("lg")]:{fontSize:"1.5rem"}}}))),kt=e=>e.preventDefault();var wt=e=>{const t=yt(),{placeholder:r="Type IPA",value:a,onType:s,onDelete:c,inputRef:o,header:i,onCheck:l,checkDescription:d,error:b,helpText:j,headerTooltip:u}=e,[p,h]=Object(n.useState)(!1),m=Object(n.useCallback)((()=>{var e;l&&l((null===(e=o.current)||void 0===e?void 0:e.value)||"")}),[l,o]),O=Object(n.useCallback)((e=>{"Enter"===e.key&&m()}),[m]),x=l&&Object(ve.jsx)(tt.a,{title:d||"Submit IPA Symbol or End Word",enterDelay:500,children:Object(ve.jsx)(Me.a,{"aria-label":"check",onMouseDown:kt,onClick:m,children:Object(ve.jsx)(vt.a,{})})}),g=j&&Object(ve.jsx)(Ee.a,{variant:"body2",component:"span",className:t.helpTextSize,children:j});Object(n.useEffect)((()=>{i&&u&&(h(!0),window.setTimeout((()=>h(!1)),1500))}),[i,u]);const f=i&&Object(ve.jsx)(ut.a,{disablePointerEvents:!0,disableTypography:!0,position:"start",classes:{positionStart:t.noRightMargin},children:u?Object(ve.jsx)(tt.a,{open:p,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,placement:"bottom-end",TransitionComponent:Le.a,TransitionProps:{timeout:400},title:Object(ve.jsx)(Ee.a,{variant:"subtitle2",children:u}),children:Object(ve.jsx)("span",{children:i})}):i});return Object(ve.jsxs)(pt.a,{fullWidth:!0,error:b,variant:"outlined",children:[Object(ve.jsx)(ht.a,{htmlFor:"ipa-typer",className:t.label,children:r}),Object(ve.jsx)(mt.a,{id:"ipa-typer",label:r,onKeyPress:O,className:t.input,onChange:s,value:a,inputRef:o,inputProps:{spellCheck:"false",autoCorrect:"off",autoComplete:"off",style:{lineHeight:2}},endAdornment:Object(ve.jsxs)(ut.a,{position:"end",children:[Object(ve.jsx)(tt.a,{title:"Delete",enterDelay:500,children:Object(ve.jsx)(Me.a,{"aria-label":"delete",onMouseDown:kt,onClick:c,children:Object(ve.jsx)(gt.a,{})})}),x]}),startAdornment:f}),Object(ve.jsx)(De.a,{in:b,children:Object(ve.jsx)(Ot.a,{error:!0,variant:"outlined",children:g})})]})},Ct=r(4),St=r(14);const Rt=e=>{if(void 0===e)return()=>!0;if("function"===typeof e)return e;if(Array.isArray(e)){const t=new Set(e);return e=>t.has(e)}return t=>e.has(t)},Et=e=>Object(n.useMemo)((()=>Rt(e)),[e]),Mt=e=>"light"===e.palette.type?Object(St.e)(Object(St.c)(e.palette.divider,1),.88):Object(St.a)(Object(St.c)(e.palette.divider,1),.68),At=e=>2===e?6:3===e?4:12;var Lt=r(202),Pt=r(203),Nt=r(204),$t=r(205),Dt=r(206),Tt=r(207);const zt=Object(p.a)((e=>({symbol:{padding:e.spacing(0,.5),userSelect:"none",fontSize:"1.5rem",cursor:"default",color:e.palette.action.disabled},clickable:{color:e.palette.text.primary,cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover}},impossible:{backgroundColor:e.palette.action.disabledBackground,color:"transparent",cursor:"default","&:hover":{backgroundColor:e.palette.action.disabledBackground}},leftSideBorder:{borderLeft:`1px solid ${Mt(e)}`},rightSideBorder:{borderRight:`1px solid ${Mt(e)}`},caps:{padding:"6px 5.5px"},header:{minWidth:"56px",borderLeft:`1px solid ${Mt(e)}`,borderRight:`1px solid ${Mt(e)}`}}))),Bt=e=>{const t=zt(),{onClick:r,subset:a}=e,s=Et(a),c=Object(n.useCallback)((e=>e!==_&&""!==e&&r&&s(e)?()=>r(e):void 0),[r,s]),o=Object(n.useCallback)((e=>e.preventDefault()),[]),i=Object(n.useCallback)((({x:e,y:r})=>{var n,a;const i=null===(n=J[r])||void 0===n?void 0:n[2*e],l=null===(a=J[r])||void 0===a?void 0:a[2*e+1],d=e<2||e>4||4===r;return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Lt.a,{align:"center",className:Object(Ct.a)(t.symbol,i&&s(i)&&t.clickable,i===_&&t.impossible,d&&t.leftSideBorder),padding:"none",onClick:c(i),onMouseDown:o,children:i}),Object(ve.jsx)(Lt.a,{align:"center",className:Object(Ct.a)(t.symbol,l&&s(l)&&t.clickable,l===_&&t.impossible,d&&t.rightSideBorder),padding:"none",onClick:c(l),onMouseDown:o,children:l})]})}),[s,t,c,o]);return Object(ve.jsx)(Pt.a,{children:Object(ve.jsxs)(Nt.a,{size:"small","aria-label":"Consonants (Pulmonics)",children:[Object(ve.jsx)($t.a,{children:Object(ve.jsxs)(Dt.a,{children:[Object(ve.jsx)(Lt.a,{}),G.map((e=>Object(ve.jsx)(Lt.a,{align:"center",className:Object(Ct.a)(t.header,t.caps),colSpan:2,padding:"none",children:e},`keyboard-place-${e}`)))]})}),Object(ve.jsx)(Tt.a,{children:Y.map(((e,r)=>Object(ve.jsxs)(Dt.a,{children:[Object(ve.jsx)(Lt.a,{className:t.caps,children:e}),G.map(((t,n)=>Object(ve.jsx)(i,{x:n,y:r},`keyboard-l-${e}-${t}`)))]},`keyboard-manner-${e}`)))})]})})};var It=Object(n.memo)(Bt);const Ut=Object(p.a)((e=>({symbol:{padding:e.spacing(.75,1),textAlign:"center",userSelect:"none",fontSize:"1.5rem",borderLeft:`1px solid ${Mt(e)}`},disabled:{cursor:"default",color:e.palette.action.disabled},clickable:{cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover}},descr:{fontSize:"0.8rem",verticalAlign:"middle",padding:e.spacing(0,.5),borderRight:`1px solid ${Mt(e)}`},header:{padding:e.spacing(.75,1.5),borderLeft:`1px solid ${Mt(e)}`,borderRight:`1px solid ${Mt(e)}`}}))),Ft=e=>{const t=Ut(),{onClick:r,subset:a}=e,s=Et(a),c=Object(n.useMemo)((()=>Q.map(((e,t)=>[e,Z[t],X[t]]))),[]),o=Object(n.useCallback)((e=>e.preventDefault()),[]),i=Object(n.useCallback)((({symbol:e,name:n})=>{const a=r&&s(e)?()=>r(e):void 0;return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Lt.a,{className:Object(Ct.a)(t.symbol,s(e)?t.clickable:t.disabled),onClick:a,onMouseDown:o,children:e}),Object(ve.jsx)(Lt.a,{className:t.descr,children:n})]})}),[t,r,o,s]);return Object(ve.jsx)(Pt.a,{children:Object(ve.jsxs)(Nt.a,{size:"small","aria-label":"Consonants (Pulmonics)",children:[Object(ve.jsx)("colgroup",{span:2}),Object(ve.jsx)("colgroup",{span:2}),Object(ve.jsx)("colgroup",{span:2}),Object(ve.jsx)($t.a,{children:Object(ve.jsxs)(Dt.a,{children:[Object(ve.jsx)(Lt.a,{align:"center",className:t.header,colSpan:2,children:"Clicks"}),Object(ve.jsx)(Lt.a,{align:"center",className:t.header,colSpan:2,children:"Voiced implosives"}),Object(ve.jsx)(Lt.a,{align:"center",className:t.header,colSpan:2,children:"Ejectives"})]})}),Object(ve.jsx)(Tt.a,{children:c.map(((e,t)=>Object(ve.jsx)(Dt.a,{children:e.map((([e,r],n)=>Object(ve.jsx)(i,{symbol:e,name:r},`keyboard-nonpulmonic-${t}-${n}`)))},`keyboard-nonpulmonic-${t}`)))})]})})};var Ht=Object(n.memo)(Ft);function Wt(){return(Wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Vt=n.createElement("g",{strokeWidth:4,fill:"none",strokeLinecap:"butt",strokeLinejoin:"miter"},n.createElement("path",{d:"M24 17.74l950.68-.94L976 683.2l-477.16-1.23L24 17.74zM499.85 17.74l235.9 664.23M183.29 239.78l791.4-.94"}),n.createElement("path",{d:"M343.58 461.81l629.09-1.88h1V459"}));function Kt({title:e,titleId:t,...r},a){return n.createElement("svg",Wt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 700",preserveAspectRatio:"none",fillRule:"evenodd",clipRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,Vt)}const Gt=n.forwardRef(Kt);r.p;const Yt=Object(p.a)((e=>({root:{width:"100%",height:"100%"},outerQuad:{padding:e.spacing(1,3),fontSize:"1.5rem",position:"relative",height:"100%",minHeight:"275px",minWidth:"270px"},fullRel:{height:"100%",width:"100%",position:"relative"},trapezium:{position:"absolute",height:"100%",width:"100%",stroke:e.palette.text.primary},quad:{position:"absolute",height:"95%",width:"95%",left:"2.5%",top:"2.75%"},element:{userSelect:"none",cursor:"default",position:"absolute",transform:"translate(-50%, -50%)",overflow:"visible",width:"1.2em",textAlign:"center","& > div":{display:"inline-block"}},rounded:{position:"absolute",width:"1.2em",left:"0.75em"},unrounded:{position:"absolute",width:"1.2em",right:"0.75em"},mid:{width:"100%"},clickable:{cursor:"pointer","&:hover":{borderRadius:"3px",backgroundColor:e.palette.action.hover}},disabled:{color:e.palette.action.disabled},paperBack:{"&::before":{zIndex:"-1",left:"0",content:"''",borderRadius:"3px",position:"absolute",display:"inline-block",width:"1.2em",height:"100%",backgroundColor:e.palette.background.paper}},fullHeight:{height:"100%"},vowelPos:{padding:e.spacing(0,2)},vowelHeight:{padding:e.spacing(.5,0)}}))),_t=([e,t])=>{const r=.5*t;return{left:100*(r+(1-r)*e)+"%",top:100*t+"%"}},qt=e=>{const t=Yt(),{onClick:r,subset:a}=e,s=Et(a),c=Object(n.useCallback)((e=>e.preventDefault()),[]),o=Object(n.useCallback)((e=>r&&s(e)?()=>r(e):void 0),[s,r]),i=Object(n.useCallback)((e=>s(e)?t.clickable:t.disabled),[s,t]),l=Object(n.useCallback)((({vowels:e,coords:r})=>{if("string"===typeof e){const n=e;return Object(ve.jsx)(Te.a,{className:Object(Ct.a)(t.element,t.paperBack),style:_t(r),children:Object(ve.jsx)("div",{className:Object(Ct.a)(t.mid,i(n)),onClick:o(n),onMouseDown:c,children:n})})}{const n=e.join("").length<2,a=n?"\xa0":"\u2022",[s,l]=e;return Object(ve.jsxs)(Te.a,{className:Object(Ct.a)(t.element,{[t.paperBack]:!n}),style:_t(r),children:[a,Object(ve.jsx)("div",{className:Object(Ct.a)(t.unrounded,i(s),t.paperBack),onClick:o(s),onMouseDown:c,children:s}),Object(ve.jsx)("div",{className:Object(Ct.a)(t.rounded,i(l),t.paperBack),onClick:o(l),onMouseDown:c,children:l})]})}}),[i,t,o,c]),d=Object(n.useMemo)((()=>Object(ve.jsx)(Te.a,{className:t.outerQuad,children:Object(ve.jsxs)("div",{className:t.fullRel,children:[Object(ve.jsx)(Gt,{className:t.trapezium}),Object(ve.jsx)("div",{className:t.quad,children:ne.map((([e,t])=>Object(ve.jsx)(l,{vowels:e,coords:t},`vowelbox-${e}`)))})]})})),[t,l]);return Object(ve.jsx)(Te.a,{id:"vowelQuad",className:t.root,children:Object(ve.jsxs)($e.a,{container:!0,className:t.fullHeight,wrap:"nowrap",children:[Object(ve.jsx)($e.a,{item:!0,children:Object(ve.jsxs)($e.a,{container:!0,direction:"column",className:Object(Ct.a)(t.fullHeight),children:[Object(ve.jsx)(Ee.a,{variant:"body1",component:"p",children:"\u200b"}),Object(ve.jsx)($e.a,{item:!0,xs:!0,children:Object(ve.jsx)($e.a,{container:!0,direction:"column",justify:"space-between",className:Object(Ct.a)(t.fullHeight,t.vowelHeight),children:te.map((e=>Object(ve.jsx)(Ee.a,{variant:"body1",component:"p",children:e},e)))})})]})}),Object(ve.jsx)($e.a,{item:!0,xs:!0,children:Object(ve.jsxs)($e.a,{container:!0,direction:"column",className:t.fullHeight,children:[Object(ve.jsx)($e.a,{item:!0,children:Object(ve.jsx)($e.a,{container:!0,justify:"space-between",className:t.vowelPos,children:re.map((e=>Object(ve.jsx)(Ee.a,{variant:"body1",component:"p",children:e},e)))})}),Object(ve.jsx)($e.a,{item:!0,xs:!0,children:d})]})})]})})};var Jt=Object(n.memo)(qt);const Qt=Object(p.a)((e=>{return{root:{width:"100%",height:"100%"},symbol:{userSelect:"none",textAlign:"center",fontSize:"1.5rem",cursor:"default",color:e.palette.action.disabled},clickable:{color:e.palette.text.primary,cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover}},description:{padding:"2px",fontSize:"0.8rem"},descriptionParent:{display:"flex",justifyContent:"center",flexDirection:"column",height:"100%"},bordered:{boxShadow:(t="1px",r=Mt(e),`${t} 0 0 0 ${r}, 0 ${t} 0 0 ${r}, ${t} ${t} 0 0 ${r}, ${t} 0 0 0 ${r} inset, 0 ${t} 0 0 ${r} inset`)}};var t,r})),Zt=e=>{const t=Qt(),{onClick:r,content:a,breakpoints:s={},genSym:c=(e=>e),combine:o,subset:i}=e,l=Et(i),d=Object(n.useCallback)((e=>e.preventDefault()),[]),b=Object(n.useCallback)((e=>r&&l(e)?()=>r(e):void 0),[l,r]);return Object(ve.jsx)($e.a,{container:!0,spacing:0,children:a.map((({ipa:e,sym:r,description:a,examples:i})=>Object(n.createElement)($e.a,{item:!0,xs:12,...s,key:a,className:t.bordered},Object(ve.jsxs)($e.a,{container:!0,children:[Object(ve.jsx)($e.a,{item:!0,xs:r&&r.length>8||2,className:Object(Ct.a)(t.symbol,l(e)&&t.clickable),onClick:b(e),onMouseDown:d,children:r||c(e)}),Object(ve.jsx)($e.a,{item:!0,xs:!0,children:Object(ve.jsx)("div",{className:t.descriptionParent,children:Object(ve.jsx)("div",{className:t.description,children:a})})}),null===i||void 0===i?void 0:i.map((r=>{const n=o?`${r}${e}`:r;return Object(ve.jsx)($e.a,{item:!0,xs:2,className:Object(Ct.a)(t.symbol,l(n)&&t.clickable),onClick:b(n),onMouseDown:d,children:n},n)}))]}))))})};var Xt=Object(n.memo)(Zt);const er={md:4,sm:6},tr=e=>Object(ve.jsx)(Xt,{...e,content:ae,breakpoints:er,genSym:e=>`\u25cc${e}`,combine:!0});var rr=Object(n.memo)(tr);const nr={sm:6},ar=e=>Object(ve.jsx)(Xt,{...e,content:se,breakpoints:nr});var sr=Object(n.memo)(ar);const cr={md:12,sm:6,xs:12},or=e=>Object(ve.jsx)(Xt,{...e,content:ce,breakpoints:cr});var ir=Object(n.memo)(or);const lr=Object(p.a)((e=>({paper:{padding:e.spacing(1),height:"100%"},childOrder:{[e.breakpoints.up("md")]:dr(1,3,2)}}))),dr=(...e)=>{let t={"& > *":{order:100}};return e.forEach(((e,r)=>{t[`& > :nth-child(${r+1})`]={order:e}})),t},br=e=>{const t=lr(),{onClick:r,subset:n,children:a}=e;return Object(ve.jsxs)($e.a,{container:!0,spacing:2,className:t.childOrder,children:[Object(ve.jsxs)(jr,{subset:n,onClick:r,children:[Object(ve.jsx)(mr,{size:"full",header:"Consonants (Pulmonics)",footer:"Symbols to the right in a cell are voiced, to the left are voiceless. Shaded areas denote articulations judged impossible.",children:Object(ve.jsx)(It,{})}),Object(ve.jsx)(mr,{size:"half",children:Object(ve.jsx)(Jt,{})}),Object(ve.jsx)(mr,{size:"half",header:"Other",children:Object(ve.jsx)(sr,{})})]}),Object(ve.jsx)(jr,{subset:n,onClick:r,children:a})]})},jr=e=>{const{onClick:t,subset:r,children:n}=e;return Object(ve.jsx)(ve.Fragment,{children:a.a.Children.map(n,(e=>e&&a.a.cloneElement(e,{subset:r,onClick:t})))})},ur=e=>{var t;const{onClick:r,keys:n}=e,a=[];n.nonPulmonics&&a.push(Object(ve.jsx)(mr,{size:"half",header:"Consonants (Non-pulmonics)",children:Object(ve.jsx)(Ht,{})}));const s=[...n.symbols];null===(t=n.sections)||void 0===t||t.forEach((({symbols:e,columns:t,name:r})=>{e.forEach((({ipa:e})=>s.push(e)));const n=e.map((({ipa:e,description:t})=>({ipa:e,sym:e,description:t}))),c=At(t);a.push(Object(ve.jsx)(mr,{size:"half",header:r,children:Object(ve.jsx)(Xt,{content:n,breakpoints:{xs:c}})},r))}));const c=Rt(s);return Object(ve.jsx)(br,{onClick:r,subset:c,children:a})},pr=e=>{const{onClick:t,subset:r,keys:n}=e;return n&&n.symbols.length>0?Object(ve.jsx)(ur,{onClick:t,keys:n}):Object(ve.jsxs)(br,{onClick:t,subset:r,children:[Object(ve.jsx)(mr,{size:"more",header:"Diacritics",children:Object(ve.jsx)(rr,{})}),Object(ve.jsx)(mr,{size:"less",header:"Suprasegmentals",children:Object(ve.jsx)(ir,{})}),Object(ve.jsx)(mr,{size:"half",header:"Consonants (Non-pulmonics)",children:Object(ve.jsx)(Ht,{})})]})},hr={full:void 0,more:8,half:6,less:4},mr=({header:e,footer:t,children:r,size:n,subset:s,onClick:c})=>{const o=lr(),i=a.a.Children.only(r);return Object(ve.jsx)($e.a,{item:!0,xs:12,md:n&&hr[n],children:Object(ve.jsxs)(jt.a,{className:o.paper,children:[e&&Object(ve.jsx)(Ee.a,{variant:"h6",component:"p",gutterBottom:!0,children:e}),a.a.cloneElement(i,{subset:s,onClick:c}),t&&Object(ve.jsx)(Ee.a,{variant:"caption",align:"center",component:"p",children:t})]})})};var Or=Object(n.memo)(pr);const xr=Object(p.a)((e=>({sticky:{pointerEvents:"none",zIndex:10,position:"sticky",top:`${e.spacing(-1)}px`,marginBottom:`${e.spacing("dark"===e.palette.type?0:1)}px`},input:{pointerEvents:"auto",backgroundColor:"dark"===e.palette.type?e.palette.background.default:e.palette.background.paper,borderRadius:"8px"}})));var gr=e=>{const t=Object(bt.a)(),r=xr(),{handleKeyboard:n,subset:a,keys:s,...c}=e,o="dark"===t.palette.type?0:3;return Object(ve.jsxs)("div",{children:[Object(ve.jsx)(Te.a,{paddingY:2,className:r.sticky,children:Object(ve.jsx)($e.a,{container:!0,alignItems:"center",justify:"center",spacing:2,children:Object(ve.jsx)($e.a,{item:!0,xs:!0,md:8,component:jt.a,elevation:o,className:r.input,children:Object(ve.jsx)(wt,{...c})})})}),Object(ve.jsx)(Or,{onClick:n,subset:a,keys:s})]})};let fr;!function(e){e[e.Reset=0]="Reset",e[e.SoftReset=1]="SoftReset",e[e.SetHeader=2]="SetHeader",e[e.NextSegment=3]="NextSegment",e[e.ErrorMessage=4]="ErrorMessage",e[e.ClearError=5]="ClearError"}(fr||(fr={}));const vr=e=>({word:e,segment:0,header:"",error:!1,attempt:0}),yr=(e,t)=>{switch(t.type){case fr.SoftReset:return Object.is(t.value,e.word)?e:vr(t.value);case fr.Reset:return vr(t.value);case fr.SetHeader:return{...e,header:t.value};case fr.NextSegment:return{...e,segment:e.segment+1,header:e.header+t.value,attempt:0};case fr.ClearError:return e.error?{...e,error:!1}:e;case fr.ErrorMessage:const{attempt:r}=e,{hint:n}=e.word.segments[e.segment],a=r>=5&&n?n:t.value;return{...e,error:!0,errorMessage:a,attempt:r+1}}},kr=Object(p.a)((e=>({correct:{color:"dark"===e.palette.type?e.palette.success.main:e.palette.success.dark}})));var wr=e=>{const t=kr(),r=Xe(),{word:a,onSubmit:s,keys:c}=e,{handleKeyboard:o,handleDelete:i,handleType:l,setValue:d,value:b,ref:j}=dt(),[u,p]=(e=>Object(n.useReducer)(yr,e,vr))(a);Object(n.useEffect)((()=>p({type:fr.SoftReset,value:a})),[a,p]),Object(n.useEffect)((()=>p({type:fr.ClearError})),[b,p]);const h=Object(n.useCallback)((e=>{if(r&&"winston"===e)return d(""),p({type:fr.SetHeader,value:e}),void s();const t=a.segments[u.segment],n=be(e,t);n.correct?(p({type:fr.NextSegment,value:e}),d(""),t.final&&s()):p({type:fr.ErrorMessage,value:n.message})}),[a,u.segment,d,s,r,p]),{header:m,error:O,errorMessage:x}=u,g=Object(n.useMemo)((()=>m&&Object(ve.jsx)("span",{className:t.correct,children:m})),[m,t.correct]);return Object(ve.jsx)(gr,{placeholder:`Transcribe "${a.display}"`,value:b,onDelete:i,onType:l,inputRef:j,onCheck:h,header:g,error:O,helpText:x,headerTooltip:"Correct!",handleKeyboard:o,keys:c})};var Cr=e=>{const{onClose:t,open:r,title:n,body:a}=e;return Object(ve.jsxs)(ze.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs","aria-labelledby":"confirmation-dialog-title",open:r,children:[Object(ve.jsx)(Be.a,{id:"confirmation-dialog-title",children:n}),Object(ve.jsx)(Ie.a,{children:Object(ve.jsx)(Ue.a,{children:a})}),Object(ve.jsxs)(Fe.a,{children:[Object(ve.jsx)(He.a,{autoFocus:!0,onClick:()=>{t(!1)},color:"primary",children:"Cancel"}),Object(ve.jsx)(He.a,{onClick:()=>{t(!0)},color:"primary",children:"Ok"})]})]})},Sr=r(111),Rr=r.n(Sr);const Er=e=>{const{file:t,baseUrl:r}=e,a=((e,t)=>{const r=Object(n.useRef)(!1);return Object(n.useMemo)((()=>{r.current=!1;const n=(()=>{if(e){const r=new URL(e,t).toString();return new Audio(r)}})();if(n)return()=>{try{n.paused||(n.currentTime=0),r.current?(console.info("This player has seeking issues. Forcing load"),n.load()):setTimeout((()=>{n.seeking&&(console.log("Player has seeking issues. Switching to LOAD approach"),r.current=!0,n.load(),n.play())}),50),n.play().catch((e=>{console.error({message:"unable to play url",src:n.src,err:e})}))}catch(e){console.error({message:"unable to play url",src:n.src,err:e})}}}),[e,t])})(t,r),s=!a;return Object(ve.jsx)(tt.a,{title:s?"No sound file to play":"",children:Object(ve.jsx)("div",{children:Object(ve.jsx)(He.a,{title:"Play sound",variant:"contained",color:"secondary",startIcon:Object(ve.jsx)(Rr.a,{}),onClick:a,disabled:s,children:"Play"})})})};var Mr=Object(n.memo)(Er),Ar=r(112),Lr=r(161),Pr=r(232),Nr=r(97);const $r=Object(p.a)((e=>({codeBlock:{fontSize:"1rem",padding:`${e.spacing(1)}px`},inline:{padding:e.spacing(.25,.5),"pre &":{padding:0,boxShadow:"none",borderRadius:0}}}))),Dr=e=>{const t=$r(),{block:r,children:n}=e,a=r?"pre":"code",s=r?t.codeBlock:t.inline;return Object(ve.jsx)(jt.a,{className:s,component:a,children:n})};var Tr=Object(n.memo)(Dr);const zr=/^(https?:)?\/\//i,Br=e=>({component:Ee.a,props:{variant:e,component:"p",gutterBottom:!0}}),Ir=e=>{const{baseUrl:t,src:r,...n}=e,a=t&&r?new URL(r,t).toString():r;return Object(ve.jsx)("img",{...n,src:a})},Ur=e=>{const{href:t,...r}=e;return(null===t||void 0===t?void 0:t.match(zr))?Object(ve.jsx)(Lr.a,{href:t,...r}):Object(ve.jsx)(Nr.a,{to:t||"#",...r})},Fr=e=>"checkbox"===e.type?Object(ve.jsx)(Pr.a,{checked:e.checked,readOnly:e.readOnly,disabled:e.readOnly}):Object(ve.jsx)("input",{...e}),Hr=e=>{const{children:t,baseUrl:r,allowTags:n,paragraph:a="body1"}=e,s={disableParsingRawHTML:!n,forceBlock:!0,overrides:{img:{component:Ir,props:{baseUrl:r}},h1:Br("h1"),h2:Br("h2"),h3:Br("h3"),h4:Br("h4"),h5:Br("h5"),h6:Br("h6"),p:Br(a),a:{component:Ur},pre:{component:Tr,props:{block:!0}},code:{component:Tr},input:{component:Fr}}};return Object(ve.jsx)(Ar.a,{children:t,options:s})};var Wr,Vr=Object(n.memo)(Hr);!function(e){e[e.FullReset=0]="FullReset",e[e.ShowReset=1]="ShowReset",e[e.WordReset=2]="WordReset",e[e.CloseReset=3]="CloseReset",e[e.DismissModal=4]="DismissModal",e[e.Submit=5]="Submit",e[e.ModalExit=6]="ModalExit"}(Wr||(Wr={}));const Kr=(e,t)=>{const{currWord:r}=e;switch(t){case Wr.DismissModal:return{...e,showModal:!1,currWord:r+1};case Wr.Submit:return{...e,showModal:!0,modalWord:r+1};case Wr.ModalExit:return e;case Wr.ShowReset:return{...e,resetModal:!0};case Wr.CloseReset:return{...e,resetModal:!1};case Wr.WordReset:return{...e,inputKey:Math.random().toString(36)};case Wr.FullReset:return{modalWord:0,currWord:0,showModal:!1,resetModal:!1,inputKey:Math.random().toString(36)}}},Gr=(e,t)=>Object(n.useCallback)((()=>e(t)),[t,e]),Yr=e=>{const{task:t,baseUrl:r,noPersist:a}=e,{title:s,words:c,instructions:o,keyboard:i}=t,l=a?null:`persist-${r}`,[d,b]=Qe(l,{word:0,name:""}),[{currWord:j,modalWord:u,showModal:p,resetModal:h,...m},O]=Object(n.useReducer)(Kr,{modalWord:d.word,currWord:d.word,showModal:!1,resetModal:!1,inputKey:"original"}),[x,g]=Object(n.useState)(null),f=Xe(),v=j<c.length,y=v?c[j]:c[c.length-1],k=Gr(O,Wr.Submit),w=Gr(O,Wr.DismissModal),C=Gr(O,Wr.ModalExit),S=Object(n.useCallback)((()=>{g(null),O(Wr.WordReset)}),[]),R=Object(n.useCallback)((()=>{g(null),O(Wr.ShowReset)}),[]),E=Object(n.useCallback)((e=>{O(e?Wr.FullReset:Wr.CloseReset)}),[]);Object(n.useEffect)((()=>{window.scroll({top:0,behavior:"smooth"}),b((e=>({name:0===u?"":e.name,word:u})))}),[u,b]);const M=Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Me.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:e=>{g(e.currentTarget)},title:"More options",children:Object(ve.jsx)(Ve.a,{})}),Object(ve.jsxs)(Ae.a,{id:"simple-menu",anchorEl:x,keepMounted:!0,open:!!x,TransitionComponent:Le.a,onClose:()=>{g(null)},MenuListProps:{subheader:Object(ve.jsx)(Pe.a,{children:"Options"})},children:[Object(ve.jsx)(Ne.a,{onClick:R,children:"Reset assignment"}),Object(ve.jsx)(Ne.a,{onClick:S,children:"Reset transcription"})]})]}),A=y.instructions&&Object(ve.jsx)($e.a,{container:!0,justify:"center",spacing:2,children:Object(ve.jsx)($e.a,{item:!0,xs:!0,md:8,children:Object(ve.jsx)(Vr,{children:y.instructions})})});return Object(ve.jsxs)("div",{children:[Object(ve.jsx)(Ee.a,{variant:"h3",component:"h2",gutterBottom:!0,align:"center",children:s}),Object(ve.jsxs)(De.a,{in:v,children:[Object(ve.jsx)(Te.a,{mb:2,children:Object(ve.jsx)(Vr,{children:o||"",baseUrl:r})}),Object(ve.jsxs)($e.a,{container:!0,spacing:1,justify:"center",alignItems:"center",children:[Object(ve.jsx)($e.a,{item:!0,children:Object(ve.jsxs)(Ee.a,{variant:"h4",component:"p",align:"center",children:[Math.min(j+1,c.length),"/",c.length,': Transcribe "',y.display,'"']})}),Object(ve.jsx)($e.a,{item:!0,children:Object(ve.jsx)(Mr,{file:y.audio,baseUrl:r})}),Object(ve.jsx)($e.a,{item:!0,children:M})]}),A,Object(ve.jsx)(wr,{word:y,onSubmit:k,keys:i},m.inputKey)]}),Object(ve.jsx)(De.a,{in:!v,mountOnEnter:!0,unmountOnExit:!0,children:Object(ve.jsx)(it,{salt:t.salt,debug:f,onSubmit:e=>b((t=>({...t,name:e}))),name:d.name,controls:M})}),Object(ve.jsx)(_r,{show:p,dismiss:w,onExited:C,action:u<c.length?"Next word":"Finish"}),Object(ve.jsx)(Cr,{open:h,onClose:E,title:"Reset Assignment",body:"Are you sure you want to reset all progress on this assignment?"})]})},_r=Object(n.memo)((function(e){return Object(ve.jsxs)(ze.a,{open:e.show,onClose:e.dismiss,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",onExited:e.onExited,children:[Object(ve.jsx)(Be.a,{id:"alert-dialog-title",children:"Congrats! You got it correct"}),Object(ve.jsx)(Ie.a,{children:Object(ve.jsx)(Ue.a,{id:"alert-dialog-description",children:"You did a good job of getting the word correct!"})}),Object(ve.jsx)(Fe.a,{children:Object(ve.jsx)(He.a,{onClick:e.dismiss,variant:"contained",color:"primary",disabled:!e.show,autoFocus:!0,disableFocusRipple:!0,children:e.action})})]})}));var qr=Object(n.memo)(Yr),Jr=r(215);const Qr=Object(p.a)((e=>({fileDump:{fontSize:e.typography.h6.fontSize,lineHeight:1.3},line:{"&::before":{content:'attr(data-line) "| "'}},errorLine:{color:e.palette.error.main}})));var Zr=e=>{const t=Qr(),{defaultHeader:r,error:n,context:a=2}=e;if(console.error(n),(s=n)instanceof y&&"context"in s){const e=n.context(a);return Object(ve.jsxs)("div",{children:[Object(ve.jsx)(Ee.a,{variant:"h3",component:"p",gutterBottom:!0,children:n.headline}),Object(ve.jsx)(Ee.a,{variant:"h5",component:"p",gutterBottom:!0,children:n.message}),Object(ve.jsx)(Tr,{block:!0,children:n.message}),Object(ve.jsx)(Tr,{block:!0,children:Object(ve.jsx)("code",{className:t.fileDump,children:e.map((({num:e,contents:r,error:n})=>Object(ve.jsxs)("span",{className:Object(Ct.a)(t.line,n&&t.errorLine),"data-line":e.toString().padStart(3,"0"),children:[r,"\n"]},e)))})})]})}return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Ee.a,{variant:"h3",component:"p",gutterBottom:!0,children:r}),Object(ve.jsx)(Ee.a,{variant:"h5",component:"p",gutterBottom:!0,children:n.message})]});var s};const Xr=async e=>{if(!e)return void console.log("empty task");const t=await fetch(e).catch((e=>{throw e instanceof TypeError?(console.error(e),new R("Cannot fetch resource. Permissions may not be correctly configured.",e.message)):e}));if(200!==t.status)throw new R(`${t.statusText}: Resource cannot be retrieved`);const r=await t.text();return pe(r)},en=({children:e,error:t})=>Object(ve.jsxs)(Ee.a,{variant:"h3",component:"p",gutterBottom:!0,align:"center",children:[t&&"Error: ",e]});var tn=e=>{const{taskFileUrl:t}=e,r=Object(O.a)(Xr,[t]),n=new URL(t,v()).toString();return r.result?Object(ve.jsx)(qr,{task:r.result,baseUrl:n}):r.loading?Object(ve.jsx)(Le.a,{in:!0,style:{transitionDelay:"500ms"},unmountOnExit:!0,children:Object(ve.jsx)(Ee.a,{variant:"h4",component:"h1",align:"center",children:Object(ve.jsx)(Jr.a,{})})}):r.error?Object(ve.jsx)(Zr,{error:r.error,context:3,defaultHeader:"Cannot load task file"}):Object(ve.jsx)(en,{error:!0,children:"Unreachable state???"})},rn=r(60),nn=r(26);const an="v0.7.1",sn="ipa.wdurand.com",cn=()=>{const e=Object(m.h)(),t=new URLSearchParams(e.search).get("config");if(t){const e=Object(rn.a)(t),r=e.includes("://")?e:`https://${e}`;return Object(ve.jsx)(tn,{taskFileUrl:r})}return Object(ve.jsx)(on,{})},on=()=>{const[e,t]=Object(n.useState)(""),r=new URLSearchParams({config:Object(rn.b)(e,!0)}).toString(),a=new URL(window.location.href);a.hostname=sn;const s=`${a}?${r}`;return Object(ve.jsxs)($e.a,{container:!0,spacing:2,alignItems:"center",justify:"center",children:[Object(ve.jsxs)($e.a,{item:!0,xs:12,sm:!0,md:8,children:[Object(ve.jsx)(Ee.a,{variant:"h6",component:"p",gutterBottom:!0,children:"Enter the URL of a task file below."}),Object(ve.jsx)(rt.a,{label:"Resource",variant:"filled",fullWidth:!0,onChange:e=>t(e.target.value),value:e,InputProps:{endAdornment:Object(ve.jsx)(ut.a,{position:"end",children:Object(ve.jsx)(He.a,{color:"primary",variant:"contained",component:nn.c,to:{search:r},children:"Go!"})})}})]}),Object(ve.jsx)($e.a,{item:!0,xs:12,children:Object(ve.jsx)(Ee.a,{variant:"body1",align:"center",children:s})})]})};var ln=()=>{const{klass:e,assignment:t}=Object(m.i)();return Object(ve.jsx)(tn,{taskFileUrl:f(e,`${t}.yaml`)})};const dn=(e,t)=>`${e}/${t.replace(".yaml","")}`;var bn=e=>{const{tasks:t,path:r}=e;return 0===t.length?Object(ve.jsx)(Ee.a,{children:"No tasks to do"}):Object(ve.jsx)($e.a,{container:!0,spacing:4,children:t.map(((e,t)=>!e.hidden&&Object(ve.jsx)($e.a,{item:!0,lg:6,xs:12,children:Object(ve.jsxs)(Te.a,{component:jt.a,p:2,height:"100%",display:"flex",alignContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",children:[Object(ve.jsxs)(Te.a,{children:[Object(ve.jsx)(Ee.a,{color:"primary",gutterBottom:!0,children:e.name}),Object(ve.jsx)(Ee.a,{variant:"body2",gutterBottom:!0,children:e.description})]}),Object(ve.jsx)(Te.a,{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",width:"100%",children:Object(ve.jsx)(He.a,{component:nn.c,color:"secondary",variant:"contained",to:dn(r,e.file),children:"Work on task"})})]})},`tasklist-${t}`)))})};const jn=async e=>{if(!e)return void console.log("empty class");const t=f(e,"tasks.yaml"),r=await fetch(t).catch((e=>{throw e instanceof TypeError?(console.error(e),new R("Cannot fetch resource. Permissions may not be correctly configured.",e.message)):e}));if(200!==r.status)throw new R(`${r.statusText}: Resource cannot be retrieved`);const n=await r.text();return P(n,me)},un=({msg:e,error:t})=>Object(ve.jsxs)(Ee.a,{variant:"h3",component:"h1",gutterBottom:!0,align:"center",children:[t&&"Error: ",e]});var pn=e=>{var t,r;const n=e.match.params.klass,a=we(),s=null===a||void 0===a||null===(t=a.result)||void 0===t||null===(r=t.classes)||void 0===r?void 0:r.find((({folder:e})=>n===e)),c=Object(O.a)(jn,[n]);if(c.result){const{title:t,description:r,tasks:n}=c.result;return Object(ve.jsxs)("div",{children:[Object(ve.jsxs)("div",{children:[Object(ve.jsx)(Ee.a,{variant:"h3",component:"h1",gutterBottom:!0,align:"center",children:t}),Object(ve.jsx)(Ee.a,{variant:"subtitle1",gutterBottom:!0,align:"center",children:r})]}),Object(ve.jsx)(Ee.a,{variant:"h5",gutterBottom:!0,children:"Assignments:"}),Object(ve.jsx)(bn,{tasks:n,path:e.location.pathname})]})}return c.loading&&s?Object(ve.jsx)("div",{children:Object(ve.jsxs)(Ee.a,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:["Loading ",s.name,"..."]})}):a.loading||c.loading?Object(ve.jsx)(Ee.a,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:"Loading..."}):c.error?Object(ve.jsx)(Zr,{error:c.error,context:3,defaultHeader:"No such class exists"}):Object(ve.jsx)(un,{error:!0,msg:"Unreachable state???"})};var hn=()=>{const{result:e,loading:t}=we();if(e){const{title:t,body:r}=e.homepage;return Object(ve.jsxs)(Te.a,{paddingY:2,children:[Object(ve.jsx)(Ee.a,{align:"center",variant:"h3",component:"h2",gutterBottom:!0,children:t}),Object(ve.jsx)($e.a,{container:!0,justify:"center",children:Object(ve.jsx)($e.a,{item:!0,xs:!0,md:10,lg:8,children:Object(ve.jsx)(Vr,{children:r,paragraph:"h5"})})})]})}return Object(ve.jsx)(Ee.a,{variant:"h3",align:"center",children:t?"Loading":"Error"})},mn=r(69);const On=Object(n.lazy)((()=>r.e(3).then(r.bind(null,242))));var xn=e=>Object(ve.jsx)(n.Suspense,{fallback:null,children:Object(ve.jsx)(On,{match:e.match})}),gn=r(231),fn=r(216),vn=r(229);const yn=async e=>{if(!e)return;console.debug("Fetching packFile",e);const t=await fetch(e);if(200!==t.status||null==t.body)throw new Error("Unable to load packfile");return await Object(vn.a)(t.body)},kn=async e=>{if(!e)return;console.debug("Creating audio context");const t=new AudioContext({latencyHint:"interactive"}),r=Object.keys(e).map((async r=>[r,await t.decodeAudioData(wn(e[r]))])),n=new Map(await Promise.all(r));return{context:t,buffers:n}},wn=e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),Cn=e=>e.target.play(),Sn="canplaythrough",Rn=(e,t)=>{const{result:r,error:a}=Object(O.a)(yn,[null===e||void 0===e?void 0:e.packFile]),{result:s,error:c}=Object(O.a)(kn,[r]),o=Object(n.useRef)(null),i=Object(n.useRef)(null);a&&console.error(a),c&&console.error(c);const l=Object(n.useCallback)((()=>{(e=>{var t,r;null===(t=e.current)||void 0===t||t.pause(),null===(r=e.current)||void 0===r||r.removeEventListener(Sn,Cn),e.current=null})(i),(e=>{var t,r;null===(t=e.current)||void 0===t||t.stop(0),null===(r=e.current)||void 0===r||r.disconnect(),e.current=null})(o)}),[]);return{play:Object(n.useCallback)((r=>{l();const n=e.symbols.get(r);return!!n&&(s&&((e,t,r)=>{const{context:n,buffers:a}=t,s=a.get(r);if(!s)return!1;n.resume();const c=n.createBufferSource();return c.buffer=s,c.connect(n.destination),c.start(0),e.current=c,!0})(o,s,n.audio)||((e,t)=>{const r=new Audio(t);return e.current=r,r.addEventListener(Sn,Cn),!0})(i,new URL(n.audio,t).toString()))}),[l,e.symbols,s,t]),stop:l}},En=({sound:e,baseUrl:t,close:r})=>Object(ve.jsxs)(ze.a,{open:!!e,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(ve.jsxs)(Be.a,{id:"alert-dialog-title",children:["IPA: [",null===e||void 0===e?void 0:e.ipa,"]"]}),Object(ve.jsx)(Ie.a,{children:e&&Object(ve.jsx)("video",{controls:!0,autoPlay:!0,style:{width:"100%"},src:new URL(e.video||(null===e||void 0===e?void 0:e.audio),t).toString()})})]});var Mn=({sounds:e,baseUrl:t,video:r})=>{const{play:a}=Rn(e,t),[s,c]=Object(n.useState)(),o=Object(n.useCallback)((t=>e.symbols.has(t)),[e]),i=Object(n.useCallback)((t=>{r?c(e.symbols.get(t)):a(t)}),[a,e.symbols,r]),l=Object(n.useMemo)((()=>{var t;const r=[Object(ve.jsx)(mr,{size:"half",header:"Consonants (Non-pulmonics)",children:Object(ve.jsx)(Ht,{})},"non-pulmonic")];return null===e||void 0===e||null===(t=e.sections)||void 0===t||t.forEach((({name:e,symbols:t,columns:n})=>{const a=t.map((({ipa:e,description:t})=>({ipa:e,sym:e,description:t}))),s=At(n);r.push(Object(ve.jsx)(mr,{size:"half",header:e,children:Object(ve.jsx)(Xt,{content:a,breakpoints:{xs:s}})},e))})),r}),[e.sections]);return Object(ve.jsxs)("div",{children:[Object(ve.jsx)($e.a,{container:!0,spacing:2,justify:"center",children:Object(ve.jsx)($e.a,{item:!0,md:8,children:Object(ve.jsx)(Ee.a,{gutterBottom:!0,children:"Click around to hear the sounds of the International Phonetic Alphabet. Press a symbol to hear it spoken."})})}),r&&Object(ve.jsx)(En,{sound:s,baseUrl:t,close:()=>c(void 0)}),Object(ve.jsx)(br,{subset:o,onClick:i,children:l}),e.footer&&Object(ve.jsx)($e.a,{container:!0,spacing:2,justify:"center",children:Object(ve.jsx)($e.a,{item:!0,md:8,xs:12,children:Object(ve.jsx)(Vr,{children:e.footer})})})]})};const An=async e=>{if(!e)return void console.debug("No url for fetching sounds");const t=await fetch(e).catch((e=>{throw e instanceof TypeError?new R("Cannot fetch resource. Permissions may not be correctly configured.",e.message):e}));if(200!==t.status)throw new R(`${t.statusText}: Resource cannot be retrieved`);return(e=>{const{symbols:t,packFile:r,baseUrl:n,footer:a,additionalSections:s}=P(e,fe),c=new Map,o=e=>t=>{const{ipa:r}=t;if(c.has(r))throw new Error(`Duplicate entry for ${r}`);c.set(r,{...t,extra:e})};return t.forEach(o(!1)),null===s||void 0===s||s.forEach((e=>e.symbols.forEach(o(!0)))),{symbols:c,baseUrl:n,packFile:r,footer:a,sections:s}})(await t.text())},Ln=({children:e,error:t})=>Object(ve.jsxs)(Ee.a,{variant:"h3",component:"p",gutterBottom:!0,align:"center",children:[t&&"Error: ",e]});var Pn=({video:e})=>{var t,r,n;const a=we(),s=Object(O.a)(An,[null===(t=a.result)||void 0===t||null===(r=t.ipaPlayer)||void 0===r?void 0:r.url]);if(a.result&&(null===(n=a.result.ipaPlayer)||void 0===n?void 0:n.enabled)&&s.result){const t=new URL(s.result.baseUrl||a.result.ipaPlayer.url,v()).toString();return Object(ve.jsx)(Mn,{baseUrl:t,sounds:s.result,video:e})}return a.error?Object(ve.jsx)(Zr,{error:a.error,context:3,defaultHeader:"Cannot manifest"}):s.error?Object(ve.jsx)(Zr,{error:s.error,context:3,defaultHeader:"Cannot sounds manifest"}):a.loading||s.loading?Object(ve.jsx)(Le.a,{in:!0,style:{transitionDelay:"500ms"},unmountOnExit:!0,children:Object(ve.jsx)(Ee.a,{variant:"h4",component:"h1",align:"center",children:Object(ve.jsx)(Jr.a,{})})}):Object(ve.jsx)(Ln,{error:!0,children:"Audible IPA Chart is not available"})};var Nn=()=>{const{handleKeyboard:e,handleDelete:t,handleType:r,value:n,ref:a}=dt();return Object(ve.jsx)(gr,{value:n,inputRef:a,onType:r,onDelete:t,handleKeyboard:e})};var $n,Dn=e=>{const t=Object(n.useRef)(e.visible);return e.visible||t.current?(t.current=!0,Object(ve.jsx)("div",{hidden:!e.visible,children:e.children})):Object(ve.jsx)("div",{hidden:!0})};!function(e){e.Type="type",e.Audio="audio",e.Video="video"}($n||($n={}));const Tn=[{name:"Type",path:$n.Type},{name:"Audio",path:$n.Audio},{name:"Audio + Video",path:$n.Video}],zn=({tab:e})=>{const t=Object(m.g)();return Object(ve.jsx)($e.a,{container:!0,justify:"center",component:Te.a,mb:1,children:Object(ve.jsx)($e.a,{item:!0,children:Object(ve.jsx)(jt.a,{square:!0,children:Object(ve.jsx)(gn.a,{indicatorColor:"primary",textColor:"primary",onChange:(e,r)=>{t.push(`/keyboard/${Tn[r].path}`)},value:e,children:Tn.map((({name:e,path:t})=>Object(ve.jsx)(fn.a,{label:e},t)))})})})})};var Bn=()=>{var e;const{page:t}=Object(m.i)(),{result:r}=we(),n=t?Tn.findIndex((({path:e})=>e===t)):0;if(n<0)return Object(ve.jsx)(mn.a,{});const{path:a}=Tn[n];return Object(ve.jsxs)("div",{children:[Object(ve.jsx)(Ee.a,{variant:"h4",component:"h2",align:"center",children:"Interactive IPA Chart"}),(null===r||void 0===r||null===(e=r.ipaPlayer)||void 0===e?void 0:e.enabled)&&Object(ve.jsx)(zn,{tab:n}),Object(ve.jsx)(Dn,{visible:a===$n.Type,children:Object(ve.jsx)(Nn,{})}),Object(ve.jsx)(Dn,{visible:a===$n.Audio||a===$n.Video,children:Object(ve.jsx)(Pn,{video:a===$n.Video})})]})};var In=()=>Object(ve.jsxs)(m.d,{children:[Object(ve.jsx)(m.b,{path:"/",exact:!0,component:hn}),Object(ve.jsx)(m.b,{path:"/class/:klass",exact:!0,component:pn}),Object(ve.jsx)(m.b,{path:"/class/:klass/:assignment+",exact:!0,component:ln}),Object(ve.jsx)(m.b,{path:"/remote",exact:!0,component:cn}),Object(ve.jsx)(m.b,{path:"/keyboard/:page?",exact:!0,component:Bn}),Object(ve.jsx)(m.a,{from:"/type",exact:!0,to:"/keyboard/type"}),Object(ve.jsx)(m.a,{from:"/listen",exact:!0,to:"/keyboard/audio"}),Object(ve.jsx)(m.a,{from:"/ipa-player",exact:!0,to:"/keyboard/audio"}),Object(ve.jsx)(m.b,{path:"/tools",component:xn}),Object(ve.jsx)(m.b,{component:mn.a})]}),Un=r(162),Fn=r(217),Hn=r(218),Wn=r(219),Vn=r(7),Kn=r(220),Gn=r(197),Yn=r(221),_n=r(238),qn=r(222),Jn=r(223),Qn=r(118),Zn=r.n(Qn),Xn=r(114),ea=r.n(Xn),ta=r(116),ra=r.n(ta),na=r(115),aa=r.n(na),sa=r(117),ca=r.n(sa),oa=r(78);const ia=e=>({paddingLeft:`max(env(safe-area-inset-left, 0px), ${e.spacing(2)}px)`,paddingRight:`max(env(safe-area-inset-right, 0px), ${e.spacing(2)}px)`,[e.breakpoints.up("sm")]:{paddingLeft:`max(env(safe-area-inset-left, 0px), ${e.spacing(3)}px)`,paddingRight:`max(env(safe-area-inset-right, 0px), ${e.spacing(3)}px)`}}),la=Object(p.a)((e=>({itemGutters:{paddingLeft:`max(env(safe-area-inset-left, 0px), ${e.spacing(2)}px)`},gutters:ia(e)}))),da=({error:e})=>Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Un.a,{children:Object(ve.jsx)(Fn.a,{primary:e?"Error loading classes.":"Loading classes..."})}),Object(ve.jsx)(Hn.a,{})]}),ba=e=>{const{pathname:t}=Object(m.h)(),{to:r,text:n,icon:a,exact:s,gutters:c}=e,o=!!Object(m.f)(t,{path:r,exact:s});return Object(ve.jsxs)(Un.a,{button:!0,component:nn.c,to:r,selected:o,classes:{gutters:c},children:[a&&Object(ve.jsx)(Wn.a,{children:a}),Object(ve.jsx)(Fn.a,{primary:n})]})},ja=Object(Vn.a)({switchBase:{color:oa.a[100],"&$checked":{color:"black"},"&$checked + $track":{backgroundColor:oa.a[500]}},checked:{},track:{}})(Kn.a);var ua=e=>{var t;const[r,a]=Object(n.useState)(!1),s=la(),{changeDarkMode:c}=e,{result:o,loading:i,error:l}=we(),d=null===o||void 0===o||null===(t=o.ipaPlayer)||void 0===t?void 0:t.enabled,b=Object(n.useCallback)((()=>{a(!0)}),[]),j=Object(n.useCallback)((()=>{a(!1)}),[]),u=Object(n.useCallback)((e=>{c(e.target.checked)}),[c]),p=Object(ve.jsxs)("div",{children:[Object(ve.jsx)(Gn.a,{children:Object(ve.jsx)(ba,{to:"/",text:"Home",icon:Object(ve.jsx)(ea.a,{}),exact:!0,gutters:s.itemGutters})}),Object(ve.jsx)(Yn.a,{}),Object(ve.jsxs)(Gn.a,{children:[Object(ve.jsx)(Pe.a,{classes:{gutters:s.itemGutters},children:"Classes"}),l&&Object(ve.jsx)(da,{error:!0}),i&&Object(ve.jsx)(da,{}),o&&o.classes.map((({name:e,folder:t,hidden:r},n)=>!r&&Object(ve.jsx)(ba,{to:`/class/${t}`,text:e,gutters:s.itemGutters},`class-list-${n}`)))]}),Object(ve.jsx)(Yn.a,{}),Object(ve.jsxs)(Gn.a,{children:[Object(ve.jsx)(Pe.a,{classes:{gutters:s.itemGutters},children:"Tools"}),Object(ve.jsx)(ba,{to:"/remote",text:"Hosted Task",icon:Object(ve.jsx)(aa.a,{}),exact:!0,gutters:s.itemGutters}),Object(ve.jsx)(ba,{to:"/keyboard/type",text:"IPA Keyboard",icon:Object(ve.jsx)(ra.a,{}),exact:!0,gutters:s.itemGutters}),d&&Object(ve.jsx)(ba,{to:"/keyboard/audio",text:"IPA Player",icon:Object(ve.jsx)(ca.a,{}),exact:!0,gutters:s.itemGutters})]})]});return Object(ve.jsxs)("div",{children:[Object(ve.jsx)(_n.a,{anchor:"left",open:r,onClose:j,children:Object(ve.jsxs)(Te.a,{display:"flex",minWidth:275,flexDirection:"column",justifyContent:"space-between",height:"100%",overflow:"hidden",role:"presentation",children:[p,Object(ve.jsxs)(Te.a,{mb:2,children:[Object(ve.jsx)(Ee.a,{component:"div",children:Object(ve.jsxs)($e.a,{component:"label",container:!0,justify:"center",alignItems:"center",spacing:1,children:[Object(ve.jsx)($e.a,{item:!0,children:"Light"}),Object(ve.jsx)($e.a,{item:!0,children:Object(ve.jsx)(ja,{color:"default",checked:e.darkMode,onChange:u})}),Object(ve.jsx)($e.a,{item:!0,children:"Dark"})]})}),Object(ve.jsxs)(Ee.a,{variant:"body2",component:"div",align:"center",color:"textSecondary",children:["Int IPA \u2013"," ",Object(ve.jsx)(Lr.a,{href:"#",color:"inherit",children:an})]})]})]})}),Object(ve.jsx)(qn.a,{position:"static",color:"secondary",children:Object(ve.jsxs)(Jn.a,{classes:{gutters:s.gutters},children:[Object(ve.jsx)(Me.a,{onClick:b,edge:"start",color:"inherit","aria-label":"menu",children:Object(ve.jsx)(Zn.a,{})}),Object(ve.jsx)(Ee.a,{variant:"h6",children:"Int IPA"})]})})]})};const pa=Object(p.a)((()=>({root:{marginTop:"1rem",marginBottom:"1rem"}})));var ha=()=>{const e=pa();return Object(ve.jsx)(i.a,{maxWidth:"lg",component:"footer",classes:{root:e.root},children:Object(ve.jsxs)(Ee.a,{align:"center",variant:"body2",color:"textSecondary",children:["Created and maintained by ",Object(ve.jsx)(Lr.a,{href:"https://github.com/R167/int-ipa",color:"textPrimary",children:"Winston Durand"}),". Source code and examples released under the"," ",Object(ve.jsx)(Lr.a,{href:"https://github.com/R167/int-ipa/blob/master/LICENSE",color:"textPrimary",children:"MIT"})," ","license. Website and documentation licensed under"," ",Object(ve.jsx)(Lr.a,{href:"https://creativecommons.org/licenses/by/4.0/",color:"textPrimary",children:"CC BY 4.0"}),"."]})})},ma=window.AudioContext||window.webkitAudioContext,Oa=r(119),xa=r.n(Oa);const ga={palette:{type:"light",primary:{main:j.a[900]},secondary:{main:u.a[700]}}},fa={palette:{type:"dark",primary:{main:j.a[500]},secondary:{main:u.a[700]}}},va=Object(p.a)((e=>({containerRoot:{marginTop:`${e.spacing(1)}px`,width:"100%",boxSizing:"border-box",display:"block",...ia(e)},debug:{pointerEvents:"none",zIndex:1150},debugRoot:{minWidth:0,background:"rgba(240, 240, 240, 0.25)",color:e.palette.text.disabled},siteRoot:{marginBottom:"env(safe-area-inset-bottom, 0px)",display:"flex",minHeight:"100vh",flexDirection:"column"},siteContent:{flex:1}})));function ya(){const e=va(),t=Xe(),r=Object(h.a)("(prefers-color-scheme: dark)"),[a,s]=Qe("useDarkMode",null);Object(n.useEffect)((()=>{0}),[]),Object(n.useEffect)((()=>{const e=()=>{document.removeEventListener("click",e),new ma({latencyHint:"interactive"})};document.addEventListener("click",e)}),[]);const c=null===a?r:a,j=Object(n.useMemo)((()=>Object(b.a)(c?fa:ga)),[c]);return Object(ve.jsx)("div",{className:e.siteRoot,children:Object(ve.jsxs)(d.a,{theme:j,children:[Object(ve.jsx)(xa.a,{children:Object(ve.jsx)("meta",{name:"theme-color",content:j.palette.secondary.main})}),Object(ve.jsx)(o.a,{}),Object(ve.jsx)(ua,{darkMode:c,changeDarkMode:s}),Object(ve.jsx)(i.a,{maxWidth:"lg",classes:{root:e.containerRoot},className:e.siteContent,children:Object(ve.jsx)(In,{})}),Object(ve.jsx)(ha,{}),Object(ve.jsx)(l.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:t,message:"Debug mode",className:e.debug,ContentProps:{classes:{root:e.debugRoot},elevation:c?1:0}})]})})}var ka=r(120),wa=r.n(ka);r(154);const Ca=({children:e})=>Object(ve.jsx)(nn.b,{children:e});c.a.render(Object(ve.jsx)(n.StrictMode,{children:Object(ve.jsx)(et,{children:Object(ve.jsx)(Re,{children:Object(ve.jsx)(Ca,{children:Object(ve.jsx)(ya,{})})})})}),document.getElementById("root")),wa.a.polyfill()},69:function(e,t,r){"use strict";var n=r(44),a=r(2);t.a=()=>Object(a.jsx)(n.a,{variant:"h2",align:"center",children:"The page you are looking for cannot be found \ud83d\ude2b"})},95:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i}));var n=r(60);const a=/[^a-zA-Z0-9-]/g;const s=new Date("2020-02-02"),c="vowelsAreCool!!!",o=async(e,t,r=!0,o)=>{if("undefined"===typeof e||!r)return;const i=t||c,l=(e=>e.replace(/[\s-]+/g,"-").replace(a,""))(e),d=l.toLowerCase(),b=(o||(()=>{const e=new Date;return Math.floor((e.getTime()-s.getTime())/1e3/60).toString(36)})()).toLowerCase(),j=[`${d}_${b}`,i].join("_");return[l,((e,t)=>{const r=[t.length.toString(36)];for(let n=0;n<t.length;n++)r.push(e.charAt(n)),r.push(t.charAt(n));return r.push(e.slice(t.length,e.length)),r.join("")})((await async function(e){const t=await crypto.subtle.digest("SHA-256",e);return Object(n.c)(new Uint8Array(t))}((new TextEncoder).encode(j))).toLowerCase().replace(/[^a-z0-9]/g,"").slice(0,16),b)].join("_")},i=async(e,t)=>{var r;const n=t||c,i=e.split("_"),[l,d]=i;if(2!==i.length||d.match(a)){return{name:e,correct:!1,message:i.length<2?"Missing validation hash":"Invalid characters in string"}}const[b,j]=(e=>{const t=parseInt(e.charAt(0),36),r=e.slice(1,e.length),n=[],a=[];for(let s=0;s<2*t;s+=2)n.push(r.charAt(s)),a.push(r.charAt(s+1));return n.push(r.slice(2*t,r.length)),[n.join(""),a.join("")]})(d.toLowerCase()),u=(e=>{const t=60*parseInt(e,36)*1e3+s.getTime();return new Date(t)})(j);16!==(null===b||void 0===b?void 0:b.length)&&console.warn("sha segment differs from expected length.");const p=e.toLowerCase();return{name:l,date:u,correct:(null===(r=await o(l,n,!0,j))||void 0===r?void 0:r.toLowerCase())===p,message:e}}},97:function(e,t,r){"use strict";var n=r(161),a=r(26),s=r(2);t.a=e=>Object(s.jsx)(n.a,{component:a.c,...e})}},[[155,1,2]]]);
//# sourceMappingURL=main.7611542c.chunk.js.map