{"version":3,"sources":["constants.ts","Manifest.tsx","components/TaskList.tsx","components/ClassPage.tsx","components/Homepage.tsx","utils/ipa.ts","utils/normalize.ts","utils/parsers/task.ts","components/keyboard/IPAInput.tsx","components/keyboard/common.ts","components/keyboard/Pulmonics.tsx","components/keyboard/NonPulmonics.tsx","components/keyboard/trapezium.svg","components/keyboard/Vowels.tsx","components/keyboard/Diacritics.tsx","components/keyboard/Keyboard.tsx","components/keyboard/useKeyboard.ts","components/WordInput.tsx","components/Task.tsx","components/TypeIPA.tsx","Router.tsx","utils/styles.ts","components/Header.tsx","App.tsx","index.tsx"],"names":["MANIFEST_FILE","process","ManifestContext","React","createContext","fetchManifest","async","req","fetch","body","text","YAML","parse","prettyErrors","useManifest","asyncManifest","useContext","Error","errorShown","Manifest","children","manifest","useAsync","error","console","log","message","name","match","alert","Provider","value","taskLink","path","file","replace","TaskList","props","tasks","length","Typography","Grid","container","spacing","map","task","i","hidden","item","lg","xs","Box","component","Paper","p","height","display","alignContent","alignItems","flexWrap","color","gutterBottom","variant","description","justifyContent","width","Button","Link","to","fetchClassTasks","classId","url","folder","Status","msg","align","ClassPage","params","klass","result","classes","find","classTasks","title","location","pathname","loading","Homepage","paddingY","RLink","PLACES","MANNERS","IMPOSSIBLE","NUL","PULMONICS","CLICKS","IMPLOSIVES","EJECTIVES","VOWEL_HEIGHTS","VOWEL_FRONTEDNESS","VOWELS","DIACRITICS","ipa","examples","CANONICAL_FORMS","Map","MATCHER","RegExp","Array","from","keys","join","normalize","str","replaceAll","get","END_MESSAGE","REGEX_REPLACE","escapeStringRegexp","matchSegment","rawInput","segment","correct","input","includes","explanations","wildcards","matcher","wildcard","wildcardToRegex","test","expandMacro","macros","encountered","hasOwnProperty","newEncountered","results","forEach","expanded","concat","push","pickValues","values","ops","key","parseTask","contents","fileContents","metadata","author","salt","instructions","answer","getMacros","words","word","audio","segments","isArray","validSegments","sym","expand","set","lastElement","final","getSegments","useStyles","makeStyles","theme","label","breakpoints","up","fontSize","noRightMargin","marginRight","helpTextSize","IPAInput","placeholder","onType","onDelete","inputRef","header","onCheck","checkDescription","helpText","handleSubmit","useCallback","current","handleEnter","e","preventDefault","check","IconButton","aria-label","onMouseDown","onClick","helperText","className","TextField","InputLabelProps","id","fullWidth","onChange","inputProps","spellCheck","autoCorrect","autoComplete","style","lineHeight","InputProps","endAdornment","InputAdornment","position","startAdornment","disablePointerEvents","disableTypography","positionStart","onKeyPress","borderColor","palette","type","lighten","fade","divider","darken","voiceless","cursor","float","backgroundColor","action","hover","voiced","impossible","disabledBackground","symbol","userSelect","sideBorder","borderLeft","borderRight","caps","padding","Pulmonics","clickCallback","char","undefined","Cell","x","y","hasBorders","TableCell","clsx","TableContainer","Table","size","TableHead","TableRow","place","TableBody","manner","memo","textAlign","descr","verticalAlign","NonPulmonics","sounds","useMemo","click","span","colSpan","row","j","_extends","Object","assign","target","arguments","source","prototype","call","apply","this","_ref","strokeWidth","fill","strokeLinecap","strokeLinejoin","d","SvgTrapezium","titleId","svgRef","viewBox","preserveAspectRatio","fillRule","clipRule","ref","ForwardRef","root","outerQuad","minHeight","minWidth","fullRel","trapezium","stroke","primary","quad","left","top","element","transform","overflow","rounded","unrounded","right","mid","borderRadius","paperBack","zIndex","content","background","paper","fullHeight","vowelPos","vowelHeight","vowelCoords","offset","Vowels","VowelElement","vowels","coords","noCenter","center","vowelChart","wrap","direction","justify","pos","descriptionParent","flexDirection","bordered","boxShadow","Diacritics","sm","combined","childOrder","orderChildren","styles","order","child","Keyboard","md","Op","reducer","state","selectionStart","cursorAfter","selectionEnd","Delete","slice","Append","Set","Type","useKeyboard","useRef","dispatch","useReducer","handleKeyboard","handleType","handleDelete","setValue","val","useLayoutEffect","oldFocus","document","activeElement","focus","setSelectionRange","blur","useDebugValue","sticky","search","default","success","dark","reset","SoftReset","is","Reset","SetHeader","NextSegment","ClearError","errorMessage","ErrorMessage","WordInput","onSubmit","useEffect","handleCheck","currentValue","headerValue","AudioContext","window","webkitAudioContext","playButton","info","light","margin","boxSizing","fetchTask","taskFileUrl","Task","currWord","setCurrWord","useState","showModal","setShowModal","showWord","setShowWord","hash","setHash","lastWord","dismissModal","prev","latencyHint","sampleRate","audioFile","Audio","playAudio","currentTime","play","dismissText","startIcon","Collapse","in","Dialog","open","onClose","aria-labelledby","aria-describedby","disableRestoreFocus","DialogTitle","DialogContent","DialogContentText","DialogActions","LoadTask","TypeIPA","Router","exact","render","r","notchGutters","paddingLeft","paddingRight","itemGutters","gutters","Loading","ListItem","ListItemText","LinearProgress","ListLink","useLocation","icon","selected","matchPath","button","ListItemIcon","DarkSwitch","withStyles","switchBase","grey","checked","track","Switch","Header","drawer","setDrawer","changeDarkMode","openDrawer","closeDrawer","toggleDarkMode","event","list","List","Divider","ListSubheader","Drawer","anchor","role","mb","darkMode","AppBar","Toolbar","edge","lightTheme","createMuiTheme","main","blue","secondary","indigo","darkTheme","containerRoot","DARK_KEY","App","prefersDarkMode","useMediaQuery","setDark","localStorage","getItem","setItem","toString","ThemeProvider","CssBaseline","Container","maxWidth","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.501089b2.chunk.js","sourcesContent":["// A list of constants for the project\n\n// PUBLIC_URL access\nexport const BASE_URL = process.env.PUBLIC_URL;\n\n// URL of teh manifest file\nexport const MANIFEST_FILE = `${BASE_URL}/manifest.yaml`;\n\n// Name of the task file\nexport const TASK_FILE = \"tasks.yaml\";\n\n// Generate a full file URL given the folder and the pathname\nexport const fileUrl = (folder: string, path: string) => `${BASE_URL}/${folder}/${path}`;\n","import React, { useContext } from \"react\";\nimport { UseAsyncReturn, useAsync } from \"react-async-hook\";\nimport YAML from \"yaml\";\nimport { MANIFEST_FILE } from \"./constants\";\n\nimport { ManifestType } from \"./utils/parsers\";\n\nconst ManifestContext = React.createContext<UseAsyncReturn<ManifestType, never[]> | null>(null);\n\nconst fetchManifest = async (): Promise<ManifestType> => {\n  // TODO: Change to force fetch even when cached\n  const req = await fetch(MANIFEST_FILE);\n  const body = await req.text();\n  return YAML.parse(body, { prettyErrors: true });\n};\n\nexport const useManifest = () => {\n  const asyncManifest = useContext(ManifestContext);\n  if (!asyncManifest) {\n    // Absurd\n    throw new Error(\"Error: you must create an initial manifest object\");\n  }\n  return asyncManifest;\n};\n\ntype Props = {\n  children: React.ReactNode;\n};\n\n// Only show the error once\nlet errorShown = false;\n\nconst Manifest = ({ children }: Props) => {\n  const manifest = useAsync(fetchManifest, []);\n  if (manifest.error && !errorShown) {\n    errorShown = true;\n    console.log(manifest.error.message);\n    console.log(manifest.error);\n    if (manifest.error.name.match(/^YAML/)) {\n      // This is a YAML error\n      alert(\n        `Error: Your manifest.yaml contains invalid syntax. Please check the console for more info.`\n      );\n    } else {\n      alert(\"There was an error loading your manifest.yaml\");\n    }\n  }\n  return <ManifestContext.Provider value={manifest}>{children}</ManifestContext.Provider>;\n};\n\nexport default Manifest;\n","import React from \"react\";\n\nimport { Box, Button, Grid, Paper, Typography } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\n\ninterface TaskInfo {\n  name: string;\n  description: string;\n  file: string;\n  hidden?: boolean;\n}\n\ninterface Props {\n  tasks: TaskInfo[];\n  path: string;\n}\n\n// const taskLink = (path: string, file: string) => `${path}/${file.replace(\".yaml\", \"\")}`;\nconst taskLink = (path: string, file: string) => `${path.replace(\"class\", \"ex\")}/${file}`;\n\nconst TaskList = (props: Props) => {\n  const { tasks, path } = props;\n\n  if (tasks.length === 0) {\n    return <Typography>No tasks to do</Typography>;\n  } else {\n    return (\n      <Grid container spacing={4}>\n        {tasks.map(\n          (task: TaskInfo, i: number) =>\n            !task.hidden && (\n              <Grid item key={`tasklist-${i}`} lg={6} xs={12}>\n                <Box\n                  component={Paper}\n                  p={2}\n                  height=\"100%\"\n                  display=\"flex\"\n                  alignContent=\"space-between\"\n                  alignItems=\"flex-start\"\n                  flexWrap=\"wrap\"\n                >\n                  <Box>\n                    <Typography color=\"primary\" gutterBottom>\n                      {task.name}\n                    </Typography>\n                    <Typography variant=\"body2\" gutterBottom>\n                      {task.description}\n                    </Typography>\n                  </Box>\n                  <Box display=\"flex\" justifyContent=\"flex-end\" alignItems=\"flex-end\" width=\"100%\">\n                    <Button\n                      component={Link}\n                      color=\"secondary\"\n                      variant=\"contained\"\n                      to={taskLink(path, task.file)}\n                    >\n                      Work on task\n                    </Button>\n                  </Box>\n                </Box>\n              </Grid>\n            )\n        )}\n      </Grid>\n    );\n  }\n};\n\nexport default TaskList;\n","import React from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport { useManifest } from \"../Manifest\";\n\nimport { useAsync } from \"react-async-hook\";\nimport { TASK_FILE, fileUrl } from \"../constants\";\nimport YAML from \"yaml\";\nimport { Typography } from \"@material-ui/core\";\nimport TaskList from \"./TaskList\";\n\ninterface MatchParams {\n  klass: string;\n}\n\ninterface Props extends RouteComponentProps<MatchParams> {}\n\nconst fetchClassTasks = async (classId: string) => {\n  if (!classId) {\n    // Absurd. klass will actually always be defined\n    console.log(\"empty class\");\n    return;\n  }\n  const url = fileUrl(classId, TASK_FILE);\n\n  const req = await fetch(url);\n  const body = await req.text();\n\n  return YAML.parse(body, { prettyErrors: true });\n};\n\ninterface StatusProps {\n  msg: string;\n  error?: boolean;\n}\n\nconst Status = ({ msg, error }: StatusProps) => (\n  <Typography variant=\"h3\" component=\"h1\" gutterBottom align=\"center\">\n    {error && \"Error: \"}\n    {msg}\n  </Typography>\n);\nconst ClassPage = (props: Props) => {\n  const classId = props.match.params.klass;\n\n  const manifest = useManifest();\n  const klass = manifest?.result?.classes?.find(({ folder }) => classId === folder);\n  // classTasks can begin loading before we confirm classId\n  const classTasks = useAsync(fetchClassTasks, [classId]);\n\n  /**\n   * Cases:\n   * if classTasks.result : Good\n   * while loading class && manifest: Class name\n   * while loading manifest: Loading...\n   * if (classTasks.error) : \"cannot load class X\"\n   *\n   */\n\n  if (classTasks.result) {\n    const { title, description, tasks } = classTasks.result;\n    return (\n      <div>\n        <div>\n          <Typography variant=\"h3\" component=\"h1\" gutterBottom align=\"center\">\n            {title}\n          </Typography>\n          <Typography variant=\"subtitle1\" gutterBottom align=\"center\">\n            {description}\n          </Typography>\n        </div>\n        <Typography variant=\"h5\" gutterBottom>\n          Assignments:\n        </Typography>\n        <TaskList tasks={tasks} path={props.location.pathname} />\n      </div>\n    );\n  } else if (classTasks.loading && klass) {\n    return (\n      <div>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom align=\"center\">\n          Loading {klass.name}...\n        </Typography>\n      </div>\n    );\n  } else if (manifest.loading || classTasks.loading) {\n    return (\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom align=\"center\">\n        Loading...\n      </Typography>\n    );\n  } else if (classTasks.error) {\n    if (klass) {\n      return <Status error msg=\"Cannot load class task file\" />;\n    } else {\n      return <Status error msg=\"No such class exists\" />;\n    }\n  } else {\n    return <Status error msg=\"Unreachable state???\" />;\n  }\n};\n\nexport default ClassPage;\n","import { Box, Link, Typography } from \"@material-ui/core\";\nimport React from \"react\";\nimport { Link as RLink } from \"react-router-dom\";\n\nconst Homepage = () => {\n  return (\n    <Box paddingY={2}>\n      <Typography align=\"center\" variant=\"h3\" component=\"h1\" gutterBottom>\n        Welcome to Int IPA\n      </Typography>\n      <Typography variant=\"h5\" component=\"p\">\n        This is just some place holder text right now. I'm not really sure what you want on this\n        page. One possible option is a self description, etc. I don't really know. Here's a link to\n        the{\" \"}\n        <Link component={RLink} to=\"/type\" color=\"secondary\">\n          the IPA keyboard\n        </Link>\n        .\n      </Typography>\n    </Box>\n  );\n};\n\nexport default Homepage;\n","/**\n * Places of articulation\n */\nexport const PLACES = [\n  \"Bilabial\",\n  \"Labiodental\",\n  \"Dental\",\n  \"Alveolar\",\n  \"Postalveolar\",\n  \"Retroflex\",\n  \"Palatal\",\n  \"Velar\",\n  \"Uvular\",\n  \"Pharyngeal\",\n  \"Glottal\",\n] as const;\n\n/**\n * Manners of articulation\n */\nexport const MANNERS = [\n  \"Plosive\",\n  \"Nasal\",\n  \"Trill\",\n  \"Tap\",\n  \"Fricative\",\n  \"Lateral fricative\",\n  \"Approximant\",\n  \"Lateral approximant\",\n] as const;\n\nexport type PlaceOfArt = typeof PLACES[number];\nexport type MannerOfArt = typeof MANNERS[number];\n\n// The sounds that are either impossible or not used\nexport const IMPOSSIBLE = \"_\";\nconst IMP = IMPOSSIBLE;\nexport const NOT_USED = \"\";\nconst NUL = NOT_USED;\n\n// prettier-ignore\nexport const PULMONICS = [\n  [\"p\", \"b\", NUL, NUL, NUL, NUL, \"t\", \"d\", NUL, NUL, \"ʈ\", \"ɖ\", \"c\", \"ɟ\", \"k\", \"g\", \"q\", \"ɢ\", NUL, IMP, \"ʔ\", IMP],\n  [NUL, \"m\", NUL, \"ɱ\", NUL, NUL, NUL, \"n\", NUL, NUL, NUL, \"ɳ\", NUL, \"ɲ\", NUL, \"ŋ\", NUL, \"ɴ\", IMP, IMP, IMP, IMP],\n  [NUL, \"ʙ\", NUL, NUL, NUL, NUL, NUL, \"r\", NUL, NUL, NUL, NUL, NUL, NUL, IMP, IMP, NUL, \"ʀ\", NUL, NUL, IMP, IMP],\n  [NUL, NUL, NUL, \"ⱱ\", NUL, NUL, NUL, \"ɾ\", NUL, NUL, NUL, \"ɽ\", NUL, NUL, IMP, IMP, NUL, NUL, NUL, NUL, IMP, IMP],\n  [\"ɸ\", \"β\", \"f\", \"v\", \"θ\", \"ð\", \"s\", \"z\", \"ʃ\", \"ʒ\", \"ʂ\", \"ʐ\", \"ç\", \"ʝ\", \"x\", \"ɣ\", \"χ\", \"ʁ\", \"ħ\", \"ʕ\", \"h\", \"ɦ\"],\n  [IMP, IMP, IMP, IMP, NUL, NUL, \"ɬ\", \"ɮ\", NUL, NUL, NUL, NUL, NUL, NUL, NUL, NUL, NUL, NUL, IMP, IMP, IMP, IMP],\n  [NUL, NUL, NUL, \"ʋ\", NUL, NUL, NUL, \"ɹ\", NUL, NUL, NUL, \"ɻ\", NUL, \"j\", NUL, \"ɰ\", NUL, NUL, NUL, NUL, IMP, IMP],\n  [IMP, IMP, IMP, IMP, NUL, NUL, NUL, \"l\", NUL, NUL, NUL, \"ɭ\", NUL, \"ʎ\", NUL, \"ʟ\", NUL, NUL, IMP, IMP, IMP, IMP]\n] as const;\n\nexport const CLICKS = [\n  [\"ʘ\", \"Bilabial\"],\n  [\"ǀ\", \"Dental\"],\n  [\"ǃ\", \"(Post)alveolar\"],\n  [\"ǂ\", \"Palatoalveolar\"],\n  [\"ǁ\", \"Alveolar lateral\"],\n] as const;\n\nexport const IMPLOSIVES = [\n  [\"ɓ\", \"Bilabial\"],\n  [\"ɗ\", \"Dental/alveolar\"],\n  [\"ʄ\", \"Palatal\"],\n  [\"ɠ\", \"Velar\"],\n  [\"ʛ\", \"Uvular\"],\n] as const;\n\n// U+02BC\nexport const EJECTIVE = \"ʼ\";\n\nexport const EJECTIVES = [\n  [\"ʼ\", \"Examples:\"],\n  [\"pʼ\", \"Bilabial\"],\n  [\"tʼ\", \"Dental/alveolar\"],\n  [\"kʼ\", \"Velar\"],\n  [\"sʼ\", \"Alveolar fricative\"],\n] as const;\n\nexport const FILLER = \"◌\";\n\nexport const OTHERS = [\n  [\"ʍ\", \"voiceless labial-velar fricative\"],\n  [\"w\", \"voiced labial-velar approximant\"],\n  [\"ɥ\", \"voiced labial-palatal approximant\"],\n  [\"ʜ\", \"voiceless epiglottal fricative\"],\n  [\"ʢ\", \"voiced epiglottal fricative\"],\n  [\"ʡ\", \"epiglottal plosive\"],\n];\n\nexport const VOWEL_HEIGHTS = [\"Close\", \"Close-mid\", \"Open-mid\", \"Open\"] as const;\nexport const VOWEL_FRONTEDNESS = [\"Front\", \"Central\", \"Back\"] as const;\n\nexport type VowelLiteral = readonly [string, string] | string;\nexport type Coords = readonly [number, number];\n\ntype VowelCoords = readonly (readonly [VowelLiteral, Coords])[];\n\n/**\n * Associative array of Vowel pairs and ~coordinates\n *\n * Coords are specified on the range [0, 1]\n * x = frontedness\n * y = height\n *\n * Upper left (close front) is origin. Everything is translated afterwards to be\n * in the trapezium shape\n */\n// prettier-ignore\nexport const VOWELS: VowelCoords = [\n  // Close vowels\n  [[\"i\", \"y\"], [0, 0]],\n  [[\"ɨ\", \"ʉ\"], [0.5, 0]],\n  [[\"ɯ\", \"u\"], [1, 0]],\n\n  // Near close vowels\n  [[\"ɪ\", \"ʏ\"], [0.2, 1/6]],\n  [[\"\", \"ʊ\"], [0.75, 1/6]],\n\n  // Close-mid\n  [[\"e\", \"ø\"], [0, 1/3]],\n  [[\"ɘ\", \"ɵ\"], [0.5, 1/3]],\n  [[\"ɤ\", \"o\"], [1, 1/3]],\n\n  // Mid\n  [\"ə\", [0.5, 0.5]],\n\n  // Open-mid\n  [[\"ɛ\", \"œ\"], [0, 2/3]],\n  [[\"ɜ\", \"ɞ\"], [0.5, 2/3]],\n  [[\"ʌ\", \"ɔ\"], [1, 2/3]],\n\n  // Near-open\n  [[\"æ\", \"\"], [0, 5/6]],\n  [\"ɐ\", [0.5, 5/6]],\n\n  // Open\n  [[\"a\", \"ɶ\"], [0, 1]],\n  [[\"ɑ\", \"ɒ\"], [1, 1]],\n];\n\nexport const STRESS = \"ˈ\";\nexport const SECONDARY_STRESS = \"ˌ\";\n\ninterface Diacritic {\n  ipa: string;\n  description: string;\n  examples: string[];\n  width?: number;\n}\n\nexport type DiacriticsList = readonly Diacritic[];\n\nexport const DIACRITICS: DiacriticsList = [\n  { ipa: \"\\u0325\", description: \"Voiceless\", examples: [\"n\", \"d\"] },\n  { ipa: \"\\u032C\", description: \"Voiced\", examples: [\"s\", \"t\"] },\n  { ipa: \"\\u02B0\", description: \"Aspirated\", examples: [\"t\", \"d\"] },\n  { ipa: \"\\u0339\", description: \"More rounded\", examples: [\"ɔ\"] },\n  { ipa: \"\\u031C\", description: \"Less rounded\", examples: [\"ɔ\"] },\n  { ipa: \"\\u031F\", description: \"Advanced\", examples: [\"u\"] },\n  { ipa: \"\\u0320\", description: \"Retracted\", examples: [\"e\"] },\n  { ipa: \"\\u0308\", description: \"Centralized\", examples: [\"e\"] },\n  { ipa: \"\\u033D\", description: \"Mid-centralized\", examples: [\"e\"] },\n  { ipa: \"\\u0329\", description: \"Syllabic\", examples: [\"n\"] },\n  { ipa: \"\\u032F\", description: \"Non-syllabic\", examples: [\"n\"] },\n  { ipa: \"\\u02DE\", description: \"Rhoticity\", examples: [\"ə\", \"a\"] },\n  { ipa: \"\\u0324\", description: \"Breathy voiced\", examples: [\"b\", \"a\"] },\n  { ipa: \"\\u0330\", description: \"Creaky voiced\", examples: [\"b\", \"a\"] },\n  { ipa: \"\\u033C\", description: \"Linguolabial\", examples: [\"t\", \"d\"] },\n  { ipa: \"\\u02B7\", description: \"Labialized\", examples: [\"t\", \"d\"] },\n  { ipa: \"\\u02B2\", description: \"Palatalized\", examples: [\"t\", \"d\"] },\n  { ipa: \"\\u02E0\", description: \"Velarized\", examples: [\"t\", \"d\"] },\n  { ipa: \"\\u02E4\", description: \"Pharyngealized\", examples: [\"t\", \"d\"] },\n\n  { ipa: \"\\u032A\", description: \"Dental\", examples: [\"t\", \"d\"] },\n  { ipa: \"\\u033A\", description: \"Apical\", examples: [\"t\", \"d\"] },\n  { ipa: \"\\u033B\", description: \"Laminal\", examples: [\"t\", \"d\"] },\n  { ipa: \"\\u0303\", description: \"Nasalized\", examples: [\"e\"] },\n  { ipa: \"\\u207F\", description: \"Nasal release\", examples: [\"d\"] },\n  { ipa: \"\\u02E1\", description: \"Lateral release\", examples: [\"d\"] },\n  { ipa: \"\\u031A\", description: \"No audible release\", examples: [\"d\"] },\n\n  { ipa: \"\\u0334\", description: \"Velarized or pharyngealized\", examples: [\"l\"], width: 2 },\n\n  { ipa: \"\\u031D\", description: \"Raised\", examples: [\"e\"] },\n  { ipa: \"\\u031E\", description: \"Lowered\", examples: [\"e\"] },\n  { ipa: \"\\u0318\", description: \"Advanced tongue root\", examples: [\"e\"] },\n  { ipa: \"\\u0319\", description: \"Retracted tongue root\", examples: [\"e\"] },\n];\n","import { STRESS } from \"./ipa\";\n\n// We will always prefer the multi char version of a symbol, so always expand it\nconst CANONICAL_FORMS = new Map([\n  [\"ʧ\", \"t͡ʃ\"],\n  [\"ʤ\", \"d͡ʒ\"],\n  [\"ɚ\", \"ə˞\"],\n  [\"ɝ\", \"ɜ˞\"],\n  // coerce an exclamation point to postalveolar click\n  [\"!\", \"ǃ\"],\n  // coerce an apostrophe to the ejective\n  [\"'\", STRESS],\n]);\n\nconst NORM = \"NFKD\";\n\nconst MATCHER = new RegExp(Array.from(CANONICAL_FORMS.keys()).join(\"|\"), \"gu\");\n\nconst normalize = (str: string) => {\n  const normalized = str.normalize(NORM);\n  return normalized.replaceAll(MATCHER, (match) => CANONICAL_FORMS.get(match) || \"⍰\");\n};\n\nexport default normalize;\n","import YAML from \"yaml\";\nimport escapeStringRegexp from \"escape-string-regexp\";\nimport normalize from \"../normalize\";\n\nexport interface TaskDef {\n  author: string;\n  title: string;\n  instructions?: string;\n  salt?: string;\n  answer?: string;\n  macros: Macros;\n  words: Word[];\n}\n\ntype Explanations = Map<string, string>;\ninterface Wildcard {\n  matcher: string;\n  message: string;\n}\n\nexport interface WordSegment {\n  final?: boolean;\n  correct: string[];\n  explanations: Explanations;\n  wildcards?: Wildcard[];\n}\n\nexport interface Word {\n  display: string;\n  audio?: string;\n  segments: WordSegment[];\n}\n\ninterface SegmentMatch {\n  correct: boolean;\n  message?: string;\n}\n\nexport const DEFAULT_MESSAGE = \"Whoops, that's not right. Try again!\";\nexport const END_MESSAGE = \"Hmmm... Are you sure there's more sounds here?\";\nconst REGEX_REPLACE = escapeStringRegexp(\"...\");\n\nexport const wildcardToRegex = (wildcard: string) => {\n  const str = escapeStringRegexp(wildcard);\n  return new RegExp(`^${str.replaceAll(REGEX_REPLACE, \".*\")}$`, \"u\");\n};\n\n/**\n * Attempt to match a word segment\n * @param input The user inputted value to check\n * @param segment The word segment we are matching\n */\nexport const matchSegment = (rawInput: string, segment?: WordSegment): SegmentMatch => {\n  if (!segment) {\n    return { correct: false, message: END_MESSAGE };\n  }\n\n  const input = normalize(rawInput);\n\n  let message: string | undefined;\n  if (segment.correct.includes(input)) {\n    return { correct: true };\n  } else if ((message = segment.explanations.get(input))) {\n    return { correct: false, message: message };\n  } else if (segment.wildcards) {\n    // Do the wildcard lookup :(\n    const match = segment.wildcards.find(({ matcher }) => {\n      return wildcardToRegex(matcher).test(input);\n    });\n    if (match) {\n      return { correct: false, message: match.message };\n    }\n  }\n\n  // Return a the end message if there are no correct options\n  return { correct: false, message: segment.correct.length === 0 ? END_MESSAGE : DEFAULT_MESSAGE };\n};\n\ntype Macro = string;\n\ninterface Macros {\n  [k: string]: string[];\n}\n\nexport const expandMacro = (str: Macro, macros: Macros, encountered: string[] = []): string[] => {\n  if (macros.hasOwnProperty(str)) {\n    // Key exists\n    const newEncountered = [...encountered, str];\n    let results: string[] = [];\n\n    macros[str].forEach((value) => {\n      if (macros.hasOwnProperty(value) && !newEncountered.includes(value)) {\n        // If we find another macro we haven't encountered, append it's expansion\n        const expanded = expandMacro(value, macros, newEncountered);\n        results = results.concat(expanded);\n      } else {\n        results.push(value);\n      }\n    });\n    return results;\n  } else {\n    // Resolve the base case of no macros\n    return [str];\n  }\n};\n\nconst pickValues = <T extends { [k: string]: boolean }>(\n  values: any,\n  ops: T\n): { [K in keyof T]: T[K] extends true ? string : string | undefined } => {\n  let result: any = {};\n  for (const key in ops) {\n    if (ops[key] && !values.hasOwnProperty(key)) {\n      throw new Error(`Missing required property ${key}`);\n    }\n    result[key] = values[key];\n  }\n  return result;\n};\n\nconst getMacros = (macros: any): Macros => {\n  if (macros) {\n    // TODO: add real type safety here\n    let result: Macros = {};\n    for (const key in macros) {\n      result[normalize(key)] = macros[key].map(normalize);\n    }\n\n    return result;\n  } else {\n    return {};\n  }\n};\n\n// I am not proud of this method...\nconst getSegments = (segments: any, macros: Macros): WordSegment[] => {\n  if (segments && Array.isArray(segments)) {\n    const validSegments = segments.map(\n      (segment: any, i): WordSegment => {\n        let correct: string[] = [];\n        let wildcards: Wildcard[] = [];\n        const explanations = new Map<string, string>();\n\n        for (const key in segment) {\n          const sym = normalize(key);\n          const value = segment[key];\n          if (value === true) {\n            correct = correct.concat(expandMacro(sym, macros));\n          } else if (sym.includes(\"...\")) {\n            // wildcard matcher\n            wildcards.push({ matcher: sym, message: value });\n          } else {\n            // We just have a normal explanation\n            expandMacro(sym, macros).forEach((expand) => {\n              explanations.set(expand, value);\n            });\n          }\n        }\n\n        if (i < segments.length - 1 && correct.includes(\"\")) {\n          throw new Error(\"You can only have the empty string as a key in the last segment\");\n        }\n\n        return { correct, explanations, wildcards };\n      }\n    );\n\n    // Ensure we have a final element listed\n    const lastElement = validSegments[validSegments.length - 1];\n    if (lastElement.correct.length === 0) {\n      // Add the terminating element if it doesn't exist\n      lastElement.correct.push(\"\");\n      lastElement.final = true;\n    } else if (lastElement.correct.includes(\"\")) {\n      lastElement.final = true;\n    } else {\n      validSegments.push({ correct: [\"\"], explanations: new Map(), final: true });\n    }\n\n    return validSegments;\n  } else {\n    throw new Error(\"Segments must be an array\");\n  }\n};\n\n// TODO: Actually do validations and make this type safe\nexport const parseTask = (contents: string): TaskDef => {\n  const fileContents = YAML.parse(contents, { prettyErrors: true });\n  // TODO: Write a more robust type checker than this\n  const metadata = pickValues(fileContents, {\n    author: true,\n    title: true,\n    salt: false,\n    instructions: false,\n    answer: false,\n  });\n\n  const macros = getMacros(fileContents.macros);\n  const words = fileContents.words.map(\n    (word: any): Word => {\n      const meta = pickValues(word, { display: true, audio: false });\n      const segments = getSegments(word.segments, macros);\n\n      return { ...meta, segments };\n    }\n  );\n\n  return { ...metadata, macros, words };\n};\n","import { IconButton, InputAdornment, TextField, makeStyles } from \"@material-ui/core\";\nimport React, { KeyboardEvent, RefObject, useCallback } from \"react\";\nimport BackspaceOutlinedIcon from \"@material-ui/icons/BackspaceOutlined\";\nimport CheckIcon from \"@material-ui/icons/Check\";\n\nconst useStyles = makeStyles((theme) => ({\n  label: {\n    \"&:not(.MuiInputLabel-shrink)\": {\n      [theme.breakpoints.up(\"lg\")]: {\n        fontSize: \"2rem\",\n      },\n      fontSize: \"1.5rem\",\n    },\n  },\n  input: {\n    [theme.breakpoints.up(\"lg\")]: {\n      fontSize: \"2rem\",\n    },\n    fontSize: \"1.5rem\",\n    \"&> fieldset > legend > span\": {\n      fontSize: \"0.75rem\",\n    },\n  },\n  noRightMargin: {\n    marginRight: 0,\n  },\n  helpTextSize: {\n    fontSize: \"1rem\",\n    [theme.breakpoints.up(\"lg\")]: {\n      fontSize: \"1.5rem\",\n    },\n  },\n}));\n\ninterface Props {\n  inputRef: RefObject<HTMLInputElement>;\n  value: string;\n  onType: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  onDelete: () => void;\n  // optional header stuff\n  header?: React.ReactNode;\n  onCheck?: (val: string) => void;\n  checkDescription?: string;\n\n  error?: boolean;\n  helpText?: string;\n  placeholder?: string;\n}\n\nconst IPAInput = (props: Props) => {\n  const classes = useStyles();\n  const {\n    placeholder = \"Type IPA\",\n    value,\n    onType,\n    onDelete,\n    inputRef,\n    header,\n    onCheck,\n    checkDescription,\n    error,\n    helpText,\n  } = props;\n\n  // This should be fine (famous last words...)\n  const handleSubmit = useCallback(() => {\n    onCheck && onCheck(inputRef.current?.value || \"\");\n  }, [onCheck, inputRef]);\n\n  const handleEnter = useCallback(\n    (e: KeyboardEvent<HTMLDivElement>) => {\n      if (e.key === \"Enter\") {\n        handleSubmit();\n      }\n    },\n    [handleSubmit]\n  );\n\n  const preventDefault = useCallback((e) => e.preventDefault(), []);\n\n  const check = onCheck && (\n    <IconButton\n      aria-label=\"check\"\n      title={checkDescription || \"Submit IPA Symbol or End Word\"}\n      onMouseDown={preventDefault}\n      onClick={handleSubmit}\n      color=\"primary\"\n    >\n      <CheckIcon />\n    </IconButton>\n  );\n\n  const helperText = helpText && <span className={classes.helpTextSize}>{helpText}</span>;\n\n  // TODO: refactor so this uses the individual components rather than just TextField\n  //       honestly, it's starting to get pretty unwieldy and then I can have more control\n\n  return (\n    <TextField\n      InputLabelProps={{ className: classes.label }}\n      id=\"ipa-typer\"\n      fullWidth\n      inputRef={inputRef}\n      value={value}\n      onChange={onType}\n      variant=\"outlined\"\n      inputProps={{\n        spellCheck: \"false\",\n        autoCorrect: \"off\",\n        autoComplete: \"off\",\n        style: { lineHeight: 2 },\n      }}\n      label={placeholder}\n      InputProps={{\n        className: classes.input,\n        endAdornment: (\n          <InputAdornment position=\"end\">\n            <IconButton\n              aria-label=\"delete\"\n              title=\"Delete\"\n              onMouseDown={preventDefault}\n              onClick={onDelete}\n              color=\"inherit\"\n            >\n              <BackspaceOutlinedIcon />\n            </IconButton>\n            {check}\n          </InputAdornment>\n        ),\n        startAdornment: header && (\n          <InputAdornment\n            disablePointerEvents\n            disableTypography\n            position=\"start\"\n            classes={{ positionStart: classes.noRightMargin }}\n          >\n            {header}\n          </InputAdornment>\n        ),\n      }}\n      onKeyPress={handleEnter}\n      error={error}\n      helperText={helperText}\n    />\n  );\n};\n\nexport default IPAInput;\n","import { Theme, darken, fade, lighten } from \"@material-ui/core/styles\";\n\nexport interface Clickable {\n  onClick?: (char: string) => void;\n}\n\nexport const borderColor = (theme: Theme) =>\n  theme.palette.type === \"light\"\n    ? lighten(fade(theme.palette.divider, 1), 0.88)\n    : darken(fade(theme.palette.divider, 1), 0.68);\n\nexport const shadowBorder = (size: string, color: string) => {\n  return `${size} 0 0 0 ${color}, 0 ${size} 0 0 ${color}, ${size} ${size} 0 0 ${color}, ${size} 0 0 0 ${color} inset, 0 ${size} 0 0 ${color} inset`;\n};\n","import React, { useCallback } from \"react\";\n\nimport clsx from \"clsx\";\nimport { Clickable, borderColor } from \"./common\";\n\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { IMPOSSIBLE, MANNERS, NOT_USED, PLACES, PULMONICS } from \"../../utils/ipa\";\n\nconst useStyles = makeStyles((theme) => ({\n  voiceless: {\n    cursor: \"pointer\",\n    width: \"50%\",\n    float: \"left\",\n    \"&:hover\": {\n      backgroundColor: theme.palette.action.hover,\n    },\n  },\n  voiced: {\n    height: \"100%\",\n    cursor: \"pointer\",\n    width: \"50%\",\n    float: \"right\",\n    \"&:hover\": {\n      backgroundColor: theme.palette.action.hover,\n    },\n  },\n  impossible: {\n    backgroundColor: theme.palette.action.disabledBackground,\n    color: \"transparent\",\n    cursor: \"default\",\n    \"&:hover\": {\n      backgroundColor: theme.palette.action.disabledBackground,\n    },\n  },\n  symbol: {\n    userSelect: \"none\",\n    fontSize: \"1.5rem\",\n  },\n  sideBorder: {\n    borderLeft: `1px solid ${borderColor(theme)}`,\n    borderRight: `1px solid ${borderColor(theme)}`,\n  },\n  caps: {\n    padding: \"6px 5.5px\",\n    // \"td&\": {\n    //   padding: \"0px 5.5px\",\n    // },\n  },\n  header: {\n    borderLeft: `1px solid ${borderColor(theme)}`,\n    borderRight: `1px solid ${borderColor(theme)}`,\n  },\n}));\n\ninterface Props extends Clickable {}\n\nconst Pulmonics = (props: Props) => {\n  const classes = useStyles();\n  const { onClick } = props;\n  const clickCallback = useCallback(\n    (char) =>\n      (char !== IMPOSSIBLE && char !== NOT_USED && onClick && (() => onClick(char))) || undefined,\n    [onClick]\n  );\n\n  const preventDefault = useCallback((e) => e.preventDefault(), []);\n\n  const Cell = React.useCallback(\n    ({ x, y }: { x: number; y: number }) => {\n      const voiceless = PULMONICS[y]?.[x * 2];\n      const voiced = PULMONICS[y]?.[x * 2 + 1];\n\n      const hasBorders = x < 2 || x > 4 || y === 4;\n\n      return (\n        <TableCell\n          align=\"center\"\n          className={clsx(classes.symbol, hasBorders && classes.sideBorder)}\n          padding=\"none\"\n        >\n          <span\n            className={clsx(classes.voiceless, voiceless === IMPOSSIBLE && classes.impossible)}\n            onClick={clickCallback(voiceless)}\n            onMouseDown={preventDefault}\n          >\n            {voiceless}\n          </span>\n          <span\n            className={clsx(classes.voiced, voiced === IMPOSSIBLE && classes.impossible)}\n            onClick={clickCallback(voiced)}\n            onMouseDown={preventDefault}\n          >\n            {voiced}\n          </span>\n        </TableCell>\n      );\n    },\n    [classes, clickCallback, preventDefault]\n  );\n\n  return (\n    <TableContainer>\n      <Table size=\"small\" aria-label=\"Consonants (Pulmonics)\">\n        <TableHead>\n          <TableRow>\n            <TableCell>{/* Filler for articulation */}</TableCell>\n            {PLACES.map((place) => (\n              <TableCell\n                key={`keyboard-place-${place}`}\n                align=\"center\"\n                className={clsx(classes.header, classes.caps)}\n              >\n                {place}\n              </TableCell>\n            ))}\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {MANNERS.map((manner, y) => (\n            <TableRow key={`keyboard-manner-${manner}`}>\n              <TableCell className={classes.caps}>{manner}</TableCell>\n              {PLACES.map((place, x) => (\n                <Cell key={`keyboard-l-${manner}-${place}`} x={x} y={y} />\n              ))}\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nexport default React.memo(Pulmonics);\n","import React, { useCallback, useMemo } from \"react\";\n\nimport { Clickable, borderColor } from \"./common\";\n\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { CLICKS, EJECTIVES, IMPLOSIVES } from \"../../utils/ipa\";\n\nconst useStyles = makeStyles((theme) => ({\n  symbol: {\n    padding: theme.spacing(0.75, 1),\n    textAlign: \"center\",\n    userSelect: \"none\",\n    fontSize: \"1.5rem\",\n    cursor: \"pointer\",\n    \"&:hover\": {\n      backgroundColor: theme.palette.action.hover,\n    },\n    borderLeft: `1px solid ${borderColor(theme)}`,\n  },\n  descr: {\n    fontSize: \"0.8rem\",\n    verticalAlign: \"middle\",\n    padding: theme.spacing(0, 0.5),\n    borderRight: `1px solid ${borderColor(theme)}`,\n  },\n  header: {\n    padding: theme.spacing(0.75, 1.5),\n    borderLeft: `1px solid ${borderColor(theme)}`,\n    borderRight: `1px solid ${borderColor(theme)}`,\n  },\n}));\n\ninterface Props extends Clickable {}\n\nconst NonPulmonics = (props: Props) => {\n  const classes = useStyles();\n  const { onClick = () => {} } = props;\n\n  const sounds = useMemo(() => {\n    return CLICKS.map((click, i) => [click, IMPLOSIVES[i], EJECTIVES[i]]);\n  }, []);\n\n  const preventDefault = useCallback((e) => e.preventDefault(), []);\n\n  const Cell = useCallback(\n    ({ symbol, name }: { symbol: string; name: string }) => {\n      return (\n        <>\n          <TableCell\n            className={classes.symbol}\n            onClick={() => onClick(symbol)}\n            onMouseDown={preventDefault}\n          >\n            {symbol}\n          </TableCell>\n          <TableCell className={classes.descr}>{name}</TableCell>\n        </>\n      );\n    },\n    [classes, onClick, preventDefault]\n  );\n\n  return (\n    <TableContainer>\n      <Table size=\"small\" aria-label=\"Consonants (Pulmonics)\">\n        <colgroup span={2}></colgroup>\n        <colgroup span={2}></colgroup>\n        <colgroup span={2}></colgroup>\n        <TableHead>\n          <TableRow>\n            <TableCell align=\"center\" className={classes.header} colSpan={2}>\n              Clicks\n            </TableCell>\n            <TableCell align=\"center\" className={classes.header} colSpan={2}>\n              Voiced implosives\n            </TableCell>\n            <TableCell align=\"center\" className={classes.header} colSpan={2}>\n              Ejectives\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {sounds.map((row, i) => (\n            <TableRow key={`keyboard-nonpulmonic-${i}`}>\n              {row.map(([symbol, name], j) => (\n                <Cell key={`keyboard-nonpulmonic-${i}-${j}`} symbol={symbol} name={name} />\n              ))}\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nexport default React.memo(NonPulmonics);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"g\", {\n  strokeWidth: 4,\n  fill: \"none\",\n  strokeLinecap: \"butt\",\n  strokeLinejoin: \"miter\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M24 17.74l950.68-.94L976 683.2l-477.16-1.23L24 17.74zM499.85 17.74l235.9 664.23M183.29 239.78l791.4-.94\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M343.58 461.81l629.09-1.88h1V459\"\n}));\n\nfunction SvgTrapezium({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 1000 700\",\n    preserveAspectRatio: \"none\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref);\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgTrapezium);\nexport default __webpack_public_path__ + \"static/media/trapezium.dacff88a.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback, useMemo } from \"react\";\nimport clsx from \"clsx\";\nimport { Clickable } from \"./common\";\n\nimport { Box, Grid, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Coords, VOWELS, VOWEL_FRONTEDNESS, VOWEL_HEIGHTS, VowelLiteral } from \"../../utils/ipa\";\n\nimport { ReactComponent as Trapezium } from \"./trapezium.svg\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    height: \"100%\",\n  },\n  outerQuad: {\n    padding: theme.spacing(1, 3),\n    fontSize: \"1.5rem\",\n    position: \"relative\",\n    height: \"100%\",\n    minHeight: \"275px\",\n    minWidth: \"270px\",\n  },\n  fullRel: {\n    height: \"100%\",\n    width: \"100%\",\n    position: \"relative\",\n  },\n  trapezium: {\n    position: \"absolute\",\n    height: \"100%\",\n    width: \"100%\",\n    stroke: theme.palette.text.primary,\n  },\n  quad: {\n    position: \"absolute\",\n    height: \"95%\",\n    width: \"95%\",\n    left: \"2.5%\",\n    top: \"2.75%\",\n  },\n  element: {\n    userSelect: \"none\",\n    cursor: \"default\",\n    position: \"absolute\",\n    transform: \"translate(-50%, -50%)\",\n    overflow: \"visible\",\n    width: \"1.2em\",\n    textAlign: \"center\",\n  },\n  rounded: {\n    position: \"absolute\",\n    width: \"1.2em\",\n    left: \"0.75em\",\n  },\n  unrounded: {\n    position: \"absolute\",\n    width: \"1.2em\",\n    right: \"0.75em\",\n  },\n  mid: {\n    width: \"100%\",\n  },\n  symbol: {\n    display: \"inline-block\",\n    cursor: \"pointer\",\n    \"&:hover\": {\n      borderRadius: \"3px\",\n      backgroundColor: theme.palette.action.hover,\n    },\n  },\n  paperBack: {\n    \"&::before\": {\n      zIndex: \"-1\",\n      left: \"0\",\n      content: \"''\",\n      borderRadius: \"3px\",\n      position: \"absolute\",\n      display: \"inline-block\",\n      width: \"1.2em\",\n      height: \"100%\",\n      backgroundColor: theme.palette.background.paper,\n    },\n  },\n  fullHeight: {\n    height: \"100%\",\n  },\n  vowelPos: {\n    padding: theme.spacing(0, 2),\n  },\n  vowelHeight: {\n    padding: theme.spacing(0.5, 0),\n  },\n}));\n\ninterface Props extends Clickable {}\n\nconst vowelCoords = ([x, y]: Coords): { left: string; top: string } => {\n  const offset = y * 0.5;\n  const val = offset + (1 - offset) * x;\n  return { left: `${val * 100}%`, top: `${y * 100}%` };\n};\n\n/**\n * Vowel chart\n */\nconst Vowels = (props: Props) => {\n  const classes = useStyles();\n  const { onClick = () => {} } = props;\n\n  const preventDefault = useCallback((e) => e.preventDefault(), []);\n\n  const VowelElement = useCallback(\n    ({ vowels, coords }: { vowels: VowelLiteral; coords: Coords }) => {\n      if (typeof vowels === \"string\") {\n        return (\n          <Box className={clsx(classes.element, classes.paperBack)} style={vowelCoords(coords)}>\n            <div\n              className={clsx(classes.mid, classes.symbol)}\n              onClick={() => onClick(vowels)}\n              onMouseDown={preventDefault}\n            >\n              {vowels}\n            </div>\n          </Box>\n        );\n      } else {\n        const noCenter = vowels.join(\"\").length < 2;\n        // Zero width space or dot\n        const center = noCenter ? \"\\u00A0\" : \"•\";\n        return (\n          <Box\n            className={clsx(classes.element, { [classes.paperBack]: !noCenter })}\n            style={vowelCoords(coords)}\n          >\n            {center}\n            <div\n              className={clsx(classes.unrounded, classes.symbol, classes.paperBack)}\n              onClick={() => onClick(vowels[0])}\n              onMouseDown={preventDefault}\n            >\n              {vowels[0]}\n            </div>\n            <div\n              className={clsx(classes.rounded, classes.symbol, classes.paperBack)}\n              onClick={() => onClick(vowels[1])}\n              onMouseDown={preventDefault}\n            >\n              {vowels[1]}\n            </div>\n          </Box>\n        );\n      }\n    },\n    [classes, onClick, preventDefault]\n  );\n\n  const vowelChart = useMemo(\n    () => (\n      <Box className={classes.outerQuad}>\n        <div className={classes.fullRel}>\n          <Trapezium className={classes.trapezium} />\n          <div className={classes.quad}>\n            {VOWELS.map(([vowels, coords]) => (\n              <VowelElement key={`vowelbox-${vowels}`} vowels={vowels} coords={coords} />\n            ))}\n          </div>\n        </div>\n      </Box>\n    ),\n    [classes, VowelElement]\n  );\n\n  return (\n    <Box id=\"vowelQuad\" className={classes.root}>\n      <Grid container className={classes.fullHeight} wrap=\"nowrap\">\n        <Grid item>\n          <Grid container direction=\"column\" className={clsx(classes.fullHeight)}>\n            <Typography variant=\"body1\" component=\"p\">\n              &#8203;\n            </Typography>\n            <Grid item xs>\n              <Grid\n                container\n                direction=\"column\"\n                justify=\"space-between\"\n                className={clsx(classes.fullHeight, classes.vowelHeight)}\n              >\n                {VOWEL_HEIGHTS.map((height) => (\n                  <Typography key={height} variant=\"body1\" component=\"p\">\n                    {height}\n                  </Typography>\n                ))}\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item xs>\n          <Grid container direction=\"column\" className={classes.fullHeight}>\n            <Grid item>\n              <Grid container justify=\"space-between\" className={classes.vowelPos}>\n                {VOWEL_FRONTEDNESS.map((pos) => (\n                  <Typography key={pos} variant=\"body1\" component=\"p\">\n                    {pos}\n                  </Typography>\n                ))}\n              </Grid>\n            </Grid>\n            <Grid item xs>\n              {vowelChart}\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n};\n\nexport default React.memo(Vowels);\n","import React, { useCallback } from \"react\";\nimport { Clickable, borderColor, shadowBorder } from \"./common\";\n\nimport { Grid } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { DIACRITICS, FILLER } from \"../../utils/ipa\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    height: \"100%\",\n  },\n  symbol: {\n    userSelect: \"none\",\n    textAlign: \"center\",\n    cursor: \"pointer\",\n    fontSize: \"1.5rem\",\n    \"&:hover\": {\n      backgroundColor: theme.palette.action.hover,\n    },\n  },\n  description: {\n    padding: \"2px\",\n    fontSize: \"0.8rem\",\n  },\n  descriptionParent: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    flexDirection: \"column\",\n    height: \"100%\",\n  },\n  bordered: {\n    boxShadow: shadowBorder(\"1px\", borderColor(theme)),\n  },\n}));\n\nconst Diacritics = (props: Clickable) => {\n  const classes = useStyles();\n  const { onClick = () => {} } = props;\n  const preventDefault = useCallback((e) => e.preventDefault(), []);\n\n  return (\n    <Grid container spacing={0}>\n      {DIACRITICS.map(({ ipa, description, examples }) => (\n        <Grid item xs={6} sm={4} key={`diacritics-${description}`} className={classes.bordered}>\n          <Grid container>\n            <Grid\n              item\n              xs={2}\n              className={classes.symbol}\n              onClick={() => onClick(ipa)}\n            >{`${FILLER}${ipa}`}</Grid>\n            <Grid item xs>\n              <div className={classes.descriptionParent}>\n                <div className={classes.description}>{description}</div>\n              </div>\n            </Grid>\n            {/* Forgive me father, for I have sinned. I never should have used this much indentation */}\n            {examples.map((char) => {\n              const combined = `${char}${ipa}`;\n              return (\n                <Grid\n                  key={combined}\n                  item\n                  xs={2}\n                  className={classes.symbol}\n                  onClick={() => onClick(combined)}\n                  onMouseDown={preventDefault}\n                >\n                  {combined}\n                </Grid>\n              );\n            })}\n          </Grid>\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n\nexport default React.memo(Diacritics);\n","import React from \"react\";\nimport { Grid, Paper, Typography, makeStyles } from \"@material-ui/core\";\n\nimport Pulmonics from \"./Pulmonics\";\nimport { Clickable } from \"./common\";\nimport NonPulmonics from \"./NonPulmonics\";\nimport Vowels from \"./Vowels\";\nimport Diacritics from \"./Diacritics\";\nimport { CSSProperties } from \"@material-ui/core/styles/withStyles\";\n\n// import BackspaceOutlinedIcon from \"@material-ui/icons/BackspaceOutlined\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    padding: theme.spacing(1),\n    height: \"100%\",\n  },\n  childOrder: {\n    // Allow reordering the children of this element.\n    // This has the additional benefit of allowing an \"IPA\" setting\n    ...orderChildren(1, 3, 2, 4),\n    [theme.breakpoints.up(\"lg\")]: orderChildren(1, 2, 3, 4),\n  },\n}));\n\nconst orderChildren = (...children: number[]) => {\n  let styles: CSSProperties = { \"& > *\": { order: 100 } };\n  children.forEach((child, i) => {\n    styles[`& > :nth-child(${i + 1})`] = { order: child };\n  });\n  return styles;\n};\n\ninterface Props extends Clickable {}\n\n/**\n * Accepts an onClick option. This is assumed to be memoized.\n */\nconst Keyboard = (props: Props) => {\n  const classes = useStyles();\n  const { onClick } = props;\n\n  return (\n    <Grid container spacing={2} className={classes.childOrder}>\n      <Grid item xs={12}>\n        <Paper className={classes.paper}>\n          <Typography variant=\"h6\" component=\"p\" gutterBottom>\n            Consonants (Pulmonics)\n          </Typography>\n          <Pulmonics onClick={onClick} />\n          <Typography variant=\"caption\" align=\"center\" component=\"p\">\n            Symbols to the right in a cell are voiced, to the left are voiceless. Shaded areas\n            denote articulations judged impossible.\n          </Typography>\n        </Paper>\n      </Grid>\n      <Grid item xs={12} md={6}>\n        <Paper className={classes.paper}>\n          <Typography variant=\"h6\" component=\"p\" gutterBottom>\n            Consonants (Non-pulmonics)\n          </Typography>\n          <NonPulmonics onClick={onClick} />\n        </Paper>\n      </Grid>\n      <Grid item xs={12} md={6}>\n        <Paper className={classes.paper}>\n          <Vowels onClick={onClick} />\n        </Paper>\n      </Grid>\n      <Grid item xs={12} md={8}>\n        <Paper className={classes.paper}>\n          <Typography variant=\"h6\" component=\"p\" gutterBottom>\n            Diacritics\n          </Typography>\n          <Diacritics onClick={onClick} />\n        </Paper>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default React.memo(Keyboard);\n","import { RefObject, useCallback, useDebugValue, useLayoutEffect, useReducer, useRef } from \"react\";\n\ninterface Action<T> {\n  type: T;\n}\n\ninterface ValueAction<T> extends Action<T> {\n  value: string;\n}\n\nenum Op {\n  Delete,\n  Append,\n  Set,\n  Type,\n}\n\ntype Actions =\n  | Action<Op.Delete>\n  | ValueAction<Op.Append>\n  | ValueAction<Op.Set>\n  | ValueAction<Op.Type>;\n\ninterface State {\n  cursor: number;\n  value: string;\n  ref: RefObject<HTMLInputElement>;\n}\n\nfunction reducer(state: State, action: Actions): State {\n  const { value } = state;\n  // make broad assumptions about never having a large cursor selection\n  const cursor = state.ref?.current?.selectionStart || 0;\n  // console.log({ src: \"ref\", cursor: state.ref?.current?.selectionStart });\n  // console.log({ src: \"reducer\", cursor: cursor });\n  const cursorAfter = state.ref?.current?.selectionEnd || cursor;\n  switch (action.type) {\n    case Op.Delete:\n      if (cursor !== cursorAfter) {\n        return {\n          ...state,\n          cursor: cursor,\n          value: value.slice(0, cursor) + value.slice(cursorAfter, value.length),\n        };\n      } else if (cursor === 0) {\n        return state;\n      } else {\n        return {\n          ...state,\n          cursor: cursor - 1,\n          value: value.slice(0, cursor - 1) + value.slice(cursor, value.length),\n        };\n      }\n    case Op.Append:\n      return {\n        ...state,\n        cursor: cursor + action.value.length,\n        value: value.slice(0, cursor) + action.value + value.slice(cursorAfter, value.length),\n      };\n    case Op.Set:\n      return { ...state, value: action.value, cursor: action.value.length };\n    case Op.Type:\n      return { ...state, value: action.value };\n  }\n}\n\nconst useKeyboard = () => {\n  const inputRef = useRef<HTMLInputElement>(null);\n  const [{ cursor, value }, dispatch] = useReducer(reducer, {\n    cursor: 0,\n    value: \"\",\n    ref: inputRef,\n  });\n\n  const handleKeyboard = useCallback(\n    (char: string) => dispatch({ type: Op.Append, value: char }),\n    []\n  );\n  const handleType = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => dispatch({ type: Op.Type, value: e.target.value }),\n    []\n  );\n  const handleDelete = useCallback(() => dispatch({ type: Op.Delete }), []);\n  const setValue = useCallback((val: string) => dispatch({ type: Op.Set, value: val }), []);\n\n  useLayoutEffect(() => {\n    // console.log(inputRef?.current?.selectionStart);\n    // console.log(cursor);\n    // Current hypothesis is that the value can end up getting updated after the element\n    // changes. If this happens, then chrome ends up with the cursor stuck at 0 ~half the time\n    // Edit: Still broken.\n    // setTimeout(() => {\n    // I tried both ways (leaving the text focused or not) and blur was a better experience\n    // console.log(inputRef?.current?.value);\n    const oldFocus = document.activeElement as HTMLInputElement;\n    inputRef.current?.focus();\n    inputRef.current?.setSelectionRange(cursor, cursor);\n    inputRef.current?.blur();\n    oldFocus?.focus();\n    // console.log(inputRef?.current?.selectionStart);\n    // console.log(cursor);\n    // }, 0);\n  }, [cursor]);\n\n  useDebugValue({ cursor: cursor, value: value });\n\n  return { handleKeyboard, handleDelete, handleType, setValue, value, ref: inputRef };\n};\n\nexport default useKeyboard;\n","import { Box, Grid, makeStyles } from \"@material-ui/core\";\nimport React, { useCallback, useEffect, useReducer } from \"react\";\nimport IPAInput from \"./keyboard/IPAInput\";\nimport Keyboard from \"./keyboard/Keyboard\";\nimport useKeyboard from \"./keyboard/useKeyboard\";\n\nimport { Word, matchSegment } from \"../utils/parsers/task\";\n\nconst useStyles = makeStyles((theme) => ({\n  sticky: {\n    zIndex: 10,\n    position: \"sticky\",\n    top: `${theme.spacing(-1)}px`,\n  },\n  search: {\n    backgroundColor: theme.palette.background.default,\n    borderRadius: \"8px\",\n  },\n  correct: {\n    color: theme.palette.success.dark,\n  },\n}));\n\ninterface Props {\n  word: Word;\n  onSubmit: () => void;\n}\n\nenum Op {\n  Reset,\n  SoftReset,\n  SetHeader,\n  NextSegment,\n  ErrorMessage,\n  ClearError,\n}\n\ninterface State {\n  word: Word;\n  segment: number;\n  header: string;\n  errorMessage?: string;\n  error: boolean;\n}\n\ninterface Action<T> {\n  type: T;\n}\n\ninterface SetAction<T, V> extends Action<T> {\n  value: V;\n}\n\ntype Act =\n  | SetAction<Op.Reset, Word>\n  | SetAction<Op.SoftReset, Word>\n  | SetAction<Op.SetHeader, string>\n  | SetAction<Op.NextSegment, string>\n  | SetAction<Op.ErrorMessage, string | undefined>\n  | Action<Op.ClearError>;\n\nconst reset = (word: Word) => {\n  return {\n    word,\n    segment: 0,\n    header: \"\",\n    error: false,\n  };\n};\n\nconst reducer = (state: State, action: Act): State => {\n  switch (action.type) {\n    case Op.SoftReset:\n      return Object.is(action.value, state.word) ? state : reset(action.value);\n    case Op.Reset:\n      return reset(action.value);\n    case Op.SetHeader:\n      return { ...state, header: action.value };\n    case Op.NextSegment: // Inc segment and add value to header\n      return { ...state, segment: state.segment + 1, header: state.header + action.value };\n    case Op.ClearError:\n      return state.error ? { ...state, error: false, errorMessage: undefined } : state;\n    case Op.ErrorMessage:\n      return { ...state, error: true, errorMessage: action.value };\n  }\n};\n\nconst WordInput = (props: Props) => {\n  const classes = useStyles();\n\n  const { word, onSubmit: handleSubmit } = props;\n  const { handleKeyboard, handleDelete, handleType, setValue, value, ref } = useKeyboard();\n  const [state, dispatch] = useReducer(reducer, word, reset);\n\n  useEffect(() => dispatch({ type: Op.SoftReset, value: word }), [word]);\n  useEffect(() => dispatch({ type: Op.ClearError }), [value]);\n\n  // Run validation logic. If the\n  const handleCheck = useCallback(\n    (currentValue: string) => {\n      const segment = word.segments[state.segment];\n      const match = matchSegment(currentValue, segment);\n      if (match.correct) {\n        dispatch({ type: Op.NextSegment, value: currentValue });\n        setValue(\"\"); // Clear the text box\n        if (segment.final) {\n          handleSubmit();\n        }\n      } else {\n        // If not a match, set the error text\n        dispatch({ type: Op.ErrorMessage, value: match.message });\n      }\n    },\n    [word, state.segment, setValue, handleSubmit]\n  );\n\n  const { header, error, errorMessage } = state;\n\n  const headerValue = header && <span className={classes.correct}>{header}</span>;\n\n  return (\n    <div>\n      <Box paddingY={2} className={classes.sticky}>\n        <Grid container alignItems=\"center\" justify=\"center\" spacing={2}>\n          <Grid item xs md={8} className={classes.search}>\n            <IPAInput\n              placeholder={`Transcribe \"${word.display}\"`}\n              value={value}\n              onDelete={handleDelete}\n              onType={handleType}\n              inputRef={ref}\n              onCheck={handleCheck}\n              header={headerValue}\n              error={error}\n              helpText={errorMessage}\n            />\n          </Grid>\n        </Grid>\n      </Box>\n\n      <Keyboard onClick={handleKeyboard} />\n    </div>\n  );\n};\n\nexport default WordInput;\n","import React, { useCallback, useMemo, useState } from \"react\";\n\nimport { useAsync } from \"react-async-hook\";\nimport { TaskDef, parseTask } from \"../utils/parsers/task\";\nimport {\n  Button,\n  Collapse,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Typography,\n  makeStyles,\n} from \"@material-ui/core\";\nimport WordInput from \"./WordInput\";\nimport PlayCircleFilledIcon from \"@material-ui/icons/PlayCircleFilled\";\n\ninterface LoadProps {\n  taskFileUrl: string;\n}\n\ninterface TaskProps {\n  task: TaskDef;\n}\n\nconst AudioContext = window.AudioContext || (window as any).webkitAudioContext;\n\nconst useStyles = makeStyles((theme) => ({\n  playButton: {\n    color: theme.palette.background.default,\n    backgroundColor: theme.palette.info.light,\n    margin: \"4px\",\n    padding: \"4px 8px\",\n    boxSizing: \"content-box\",\n    borderRadius: \"4px\",\n  },\n}));\n\nconst fetchTask = async (taskFileUrl: string) => {\n  if (!taskFileUrl) {\n    // Absurd. klass will actually always be defined\n    console.log(\"empty task\");\n    return;\n  }\n\n  const req = await fetch(taskFileUrl);\n  const body = await req.text();\n\n  return parseTask(body);\n};\n\ninterface StatusProps {\n  msg: string;\n  error?: boolean;\n}\n\nconst Status = ({ msg, error }: StatusProps) => (\n  <Typography variant=\"h3\" component=\"h1\" gutterBottom align=\"center\">\n    {error && \"Error: \"}\n    {msg}\n  </Typography>\n);\nconst Task = React.memo((props: TaskProps) => {\n  const { task } = props;\n  const [currWord, setCurrWord] = useState(0);\n  const [showModal, setShowModal] = useState(false);\n  const [showWord, setShowWord] = useState(true);\n  const [hash, setHash] = useState(\"\");\n\n  const { title, words, instructions } = task;\n  const word = words[currWord];\n\n  const classes = useStyles();\n\n  const handleSubmit = useCallback(() => {\n    setShowModal(true);\n  }, []);\n\n  const lastWord = task.words.length - 1;\n\n  const dismissModal = useCallback(() => {\n    if (currWord === lastWord) {\n      // Display the new stuff\n      setShowWord(false);\n    } else {\n      setCurrWord((prev) => prev + 1);\n    }\n    setShowModal(false);\n  }, [currWord, lastWord]);\n\n  var audioCtx = useMemo(\n    () =>\n      new AudioContext({\n        latencyHint: \"interactive\",\n        sampleRate: 44100,\n      }),\n    []\n  );\n\n  const audioFile = useMemo(() => {\n    return word.audio ? new Audio(`/ex-lign101/${word.audio}`) : null;\n  }, [word.audio]);\n\n  const playAudio = useCallback(() => {\n    if (audioFile) {\n      audioFile.currentTime = 0;\n      audioFile.play();\n    }\n  }, [audioFile]);\n\n  /**\n   * Cases:\n   * if classTasks.result : Good\n   * while loading class && manifest: Class name\n   * while loading manifest: Loading...\n   * if (classTasks.error) : \"cannot load class X\"\n   *\n   */\n\n  const dismissText = currWord < lastWord ? \"Next word\" : \"Finish\";\n\n  return (\n    <div>\n      <Typography variant=\"h3\" component=\"h2\" gutterBottom align=\"center\">\n        {title}\n      </Typography>\n      <Typography variant=\"body1\" gutterBottom>\n        {instructions}\n      </Typography>\n      <Typography variant=\"h4\" component=\"p\" align=\"center\">\n        Transcribe \"{word.display}\"{\" \"}\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          startIcon={<PlayCircleFilledIcon />}\n          onClick={playAudio}\n        >\n          Play\n        </Button>\n      </Typography>\n\n      <Collapse in={showWord}>\n        <WordInput word={word} onSubmit={handleSubmit} />\n      </Collapse>\n      {showWord || (\n        <>\n          <Typography variant=\"h3\" component=\"h3\" gutterBottom align=\"center\">\n            You're done!\n          </Typography>\n        </>\n      )}\n\n      <Dialog\n        open={showModal}\n        onClose={dismissModal}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n        disableRestoreFocus\n      >\n        <DialogTitle id=\"alert-dialog-title\">Congrats! You got it correct</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            You did a good job of getting the word correct!\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={dismissModal} color=\"primary\">\n            {dismissText}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n});\n\n/**\n * Wrapper around the Task with loading state\n */\nconst LoadTask = (props: LoadProps) => {\n  const { taskFileUrl } = props;\n  const task = useAsync(fetchTask, [taskFileUrl]);\n\n  if (task.result) {\n    return <Task task={task.result} />;\n  } else if (task.loading) {\n    return (\n      <div>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom align=\"center\">\n          Loading...\n        </Typography>\n      </div>\n    );\n  } else if (task.error) {\n    console.log(task.error);\n    return <Status error msg=\"Cannot load task file\" />;\n  } else {\n    return <Status error msg=\"Unreachable state???\" />;\n  }\n};\n\nexport default LoadTask;\n","import React from \"react\";\nimport { Box, Grid, makeStyles } from \"@material-ui/core\";\n\nimport Keyboard from \"./keyboard/Keyboard\";\n\nimport useKeyboard from \"./keyboard/useKeyboard\";\n\nimport IPAInput from \"./keyboard/IPAInput\";\n\nconst useStyles = makeStyles((theme) => ({\n  sticky: {\n    zIndex: 10,\n    position: \"sticky\",\n    top: `${theme.spacing(-1)}px`,\n  },\n  search: {\n    backgroundColor: theme.palette.background.default,\n    borderRadius: \"8px\",\n  },\n}));\n\nconst TypeIPA = () => {\n  const { handleKeyboard, handleDelete, handleType, value, ref } = useKeyboard();\n  const classes = useStyles();\n\n  return (\n    <div>\n      <Box paddingY={2} className={classes.sticky}>\n        <Grid container alignItems=\"center\" justify=\"center\" spacing={2}>\n          <Grid item xs md={8} className={classes.search}>\n            <IPAInput value={value} inputRef={ref} onType={handleType} onDelete={handleDelete} />\n          </Grid>\n        </Grid>\n      </Box>\n      <Keyboard onClick={handleKeyboard} />\n    </div>\n  );\n};\n\nexport default TypeIPA;\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport ClassPage from \"./components/ClassPage\";\nimport Homepage from \"./components/Homepage\";\nimport Task from \"./components/Task\";\nimport TypeIPA from \"./components/TypeIPA\";\n\nconst Router = () => {\n  return (\n    <Switch>\n      <Route path=\"/type\" exact component={TypeIPA} />\n      <Route path=\"/\" exact component={Homepage} />\n      <Route path=\"/class/:klass\" component={ClassPage} />\n      <Route path=\"/ex/:file+\" render={(r) => <Task taskFileUrl={r.match.params.file} />} />\n    </Switch>\n  );\n};\n\nexport default Router;\n","import { Theme } from \"@material-ui/core\";\n\nexport const notchGutters = (theme: Theme) => ({\n  paddingLeft: `max(env(safe-area-inset-left, 0px), ${theme.spacing(2)}px)`,\n  paddingRight: `max(env(safe-area-inset-right, 0px), ${theme.spacing(2)}px)`,\n  [theme.breakpoints.up(\"sm\")]: {\n    paddingLeft: `max(env(safe-area-inset-left, 0px), ${theme.spacing(3)}px)`,\n    paddingRight: `max(env(safe-area-inset-right, 0px), ${theme.spacing(3)}px)`,\n  },\n});\n","import React, { useCallback, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  AppBar,\n  Box,\n  Divider,\n  Drawer,\n  Grid,\n  IconButton,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  ListSubheader,\n  Switch,\n  Theme,\n  Toolbar,\n  Typography,\n  withStyles,\n} from \"@material-ui/core\";\n\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport KeyboardIcon from \"@material-ui/icons/Keyboard\";\n\nimport { Link, matchPath, useLocation } from \"react-router-dom\";\n\nimport { useManifest } from \"../Manifest\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport { grey } from \"@material-ui/core/colors\";\nimport { notchGutters } from \"../utils/styles\";\n\nconst DRAWER_WIDTH = 275;\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  itemGutters: {\n    paddingLeft: `max(env(safe-area-inset-left, 0px), ${theme.spacing(2)}px)`,\n  },\n  gutters: notchGutters(theme),\n}));\n\nconst Loading = ({ error }: { error?: boolean }) => (\n  <>\n    <ListItem>\n      <ListItemText primary={error ? \"Error loading classes.\" : \"Loading classes...\"} />\n    </ListItem>\n    <LinearProgress />\n  </>\n);\n\ninterface ListLinkProps {\n  gutters: string;\n  to: string;\n  text: string;\n  exact?: boolean;\n  icon?: JSX.Element;\n}\n\nconst ListLink = (props: ListLinkProps) => {\n  const { pathname } = useLocation();\n  const { to, text, icon, exact, gutters } = props;\n\n  const selected = !!matchPath(pathname, { path: to, exact: exact });\n\n  return (\n    <ListItem button component={Link} to={to} selected={selected} classes={{ gutters: gutters }}>\n      {icon && <ListItemIcon>{icon}</ListItemIcon>}\n      <ListItemText primary={text} />\n    </ListItem>\n  );\n};\n\nconst DarkSwitch = withStyles({\n  switchBase: {\n    color: grey[100],\n    \"&$checked\": {\n      color: \"black\",\n    },\n    \"&$checked + $track\": {\n      backgroundColor: grey[500],\n    },\n  },\n  checked: {},\n  track: {},\n})(Switch);\n\ninterface Props {\n  darkMode: boolean;\n  changeDarkMode: (mode: boolean) => void;\n}\n\nconst Header = (props: Props) => {\n  const [drawer, setDrawer] = useState(false);\n  const classes = useStyles();\n\n  const { changeDarkMode } = props;\n\n  const { result, loading, error } = useManifest();\n\n  const openDrawer = useCallback(() => {\n    setDrawer(true);\n  }, []);\n  const closeDrawer = useCallback(() => {\n    setDrawer(false);\n  }, []);\n\n  const toggleDarkMode = useCallback(\n    (event) => {\n      changeDarkMode(event.target.checked);\n    },\n    [changeDarkMode]\n  );\n\n  const list = (\n    <Box width=\"100%\">\n      <List>\n        <ListLink to=\"/\" text=\"Home\" icon={<HomeIcon />} exact gutters={classes.itemGutters} />\n      </List>\n      <Divider />\n      <List>\n        <ListSubheader classes={{ gutters: classes.itemGutters }}>Classes</ListSubheader>\n        {error && <Loading error />}\n        {loading && <Loading />}\n        {result &&\n          result.classes.map(\n            ({ name, folder, hidden }, i) =>\n              !hidden && (\n                <ListLink\n                  key={`class-list-${i}`}\n                  to={`/class/${folder}`}\n                  text={name}\n                  gutters={classes.itemGutters}\n                />\n              )\n          )}\n      </List>\n      <Divider />\n      <List>\n        <ListSubheader classes={{ gutters: classes.itemGutters }}>Tools</ListSubheader>\n        <ListLink\n          to=\"/type\"\n          text=\"IPA Keyboard\"\n          icon={<KeyboardIcon />}\n          exact\n          gutters={classes.itemGutters}\n        />\n      </List>\n    </Box>\n  );\n\n  return (\n    <div>\n      <Drawer anchor=\"left\" open={drawer} onClose={closeDrawer}>\n        <Box\n          display=\"flex\"\n          flexWrap=\"wrap\"\n          width={DRAWER_WIDTH}\n          alignContent=\"space-between\"\n          alignItems=\"flex-start\"\n          height=\"100%\"\n          overflow=\"hidden\"\n          role=\"presentation\"\n        >\n          {list}\n          <Box width=\"100%\" mb={2}>\n            <Typography component=\"div\">\n              <Grid component=\"label\" container justify=\"center\" alignItems=\"center\" spacing={1}>\n                <Grid item>Light</Grid>\n                <Grid item>\n                  <DarkSwitch color=\"default\" checked={props.darkMode} onChange={toggleDarkMode} />\n                </Grid>\n                <Grid item>Dark</Grid>\n              </Grid>\n            </Typography>\n          </Box>\n        </Box>\n      </Drawer>\n\n      <AppBar position=\"static\" color=\"secondary\">\n        <Toolbar classes={{ gutters: classes.gutters }}>\n          <IconButton onClick={openDrawer} edge=\"start\" color=\"inherit\" aria-label=\"menu\">\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\">Int IPA</Typography>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport Container from \"@material-ui/core/Container\";\n\nimport Router from \"./Router\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Header from \"./components/Header\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { blue, indigo } from \"@material-ui/core/colors\";\nimport { Theme, makeStyles, useMediaQuery } from \"@material-ui/core\";\nimport { notchGutters } from \"./utils/styles\";\n\nconst lightTheme = createMuiTheme({\n  palette: {\n    type: \"light\",\n    primary: {\n      main: blue[900],\n    },\n    secondary: {\n      main: indigo[700],\n    },\n  },\n});\n\nconst darkTheme = createMuiTheme({\n  palette: {\n    type: \"dark\",\n    primary: {\n      main: blue[500],\n    },\n    secondary: {\n      main: indigo[700],\n    },\n  },\n});\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  // Modified from source\n  // https://github.com/mui-org/material-ui/blob/v4.11.0/packages/material-ui/src/Container/Container.js\n  containerRoot: {\n    width: \"100%\",\n    boxSizing: \"border-box\",\n    display: \"block\", // Fix IE 11 layout when used with main.\n    margin: theme.spacing(1, \"auto\", \"env(safe-area-inset-bottom, 0px)\"),\n    ...notchGutters(theme),\n  },\n}));\n\nconst DARK_KEY = \"useDarkMode\";\n\nexport default function App() {\n  const classes = useStyles();\n\n  const prefersDarkMode = useMediaQuery(\"(prefers-color-scheme: dark)\");\n  const [dark, setDark] = React.useState<boolean | null>(() => {\n    const value = window.localStorage.getItem(DARK_KEY);\n    return value ? value === \"true\" : null;\n  });\n\n  const changeDarkMode = React.useCallback(\n    (dark: boolean) => {\n      window.localStorage.setItem(DARK_KEY, dark.toString());\n      setDark(dark);\n    },\n    [setDark]\n  );\n\n  React.useEffect(() => {\n    if (process.env.NODE_ENV !== \"production\") {\n      document.title = `${process.env.NODE_ENV.slice(0, 3)} - ${document.title}`;\n    }\n  }, []);\n\n  const darkMode = dark === null ? prefersDarkMode : dark;\n\n  const theme = React.useMemo(() => createMuiTheme(darkMode ? darkTheme : lightTheme), [darkMode]);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Header darkMode={darkMode} changeDarkMode={changeDarkMode} />\n      <Container maxWidth=\"lg\" classes={{ root: classes.containerRoot }}>\n        <Router />\n      </Container>\n    </ThemeProvider>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n// import \"./index.css\";\nimport App from \"./App\";\n// import reportWebVitals from \"./reportWebVitals\";\nimport Manifest from \"./Manifest\";\n\nimport { HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Manifest>\n      <HashRouter>\n        <App />\n      </HashRouter>\n    </Manifest>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}