(this["webpackJsonpint-ipa"]=this["webpackJsonpint-ipa"]||[]).push([[0],{145:function(e,t,n){},146:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),r=n(15),s=n.n(r),o=n(18),i=n(44),l=n(116);const d="".concat(".","/config"),j="".concat(d,"/manifest.yaml"),p=(e,t)=>"".concat(d,"/").concat(e,"/").concat(t);class b extends Error{}const u=(e,t,n)=>{const a="string"===typeof e?e.split("\n"):e,c=t-1,r=Math.max(c-n,0),s=Math.max(c,c-n)-r;return c<0?[]:a.slice(c-n,c+n+1).map(((e,t)=>({num:r+t+1,contents:e,error:t===s})))},h=(e,t,n)=>{const a=e.split("\n"),c=a.findIndex((function(e){return this.pos+=e.length+1,t<this.pos}),{pos:0});return u(a,c+1,n)};class m extends b{constructor(e,t){super(t.message),this.dat=void 0,this.err=void 0,this.headline="File parsing error",this.dat=e,this.err=t}context(e=1){var t;const n=null===(t=this.err.linePos)||void 0===t?void 0:t.start;return n?u(this.dat,n.line,e):[]}}class x extends b{constructor(e,t,n){super(n.message),this.dat=void 0,this.doc=void 0,this.err=void 0,this.headline="File validation error",this.dat=e,this.doc=t,this.err=n}context(e=1){const t=this.doc.getIn(this.err.path,!0);return h(this.dat,t.range[0],e)}}class O extends b{constructor(e,t){super(e),this.originalMessage=void 0,this.originalMessage=t}}var g=n(10);const v=Object(g.c)({homepage:Object(g.c)({title:Object(g.g)(),body:Object(g.g)()}),classes:Object(g.a)(Object(g.c)({name:Object(g.g)(),folder:Object(g.g)(),hidden:Object(g.d)(Object(g.b)())}))});var f=n(98),y=n.n(f);const k=(e,t)=>{const n=y.a.parseDocument(e,{prettyErrors:!0});if(n.warnings.forEach((e=>console.warn(e))),n.errors.length>0)throw n.errors.forEach((e=>console.error(e))),new m(e,n.errors[0]);const a=n.toJSON(),[c,r]=Object(g.i)(a,t);if(!r){if(!c)throw new b("Bad state. Both No valid and no error!");throw new x(e,n,c)}return r};var w=n(59),C=n.n(w);const S=new Map([["\u02a7","t\u0361\u0283"],["\u02a4","d\u0361\u0292"],["\u025a","\u0259\u02de"],["\u025d","\u025c\u02de"]]),R=new RegExp(Array.from(S.keys()).join("|"),"gu");var E=e=>e.normalize("NFKD").replace(R,(e=>S.get(e)||"\u2370"));const M=Object(g.e)(Object(g.g)(),Object(g.a)(Object(g.g)())),N=Object(g.e)(Object(g.g)(),Object(g.h)([Object(g.b)(),Object(g.g)()])),D=Object(g.f)(N,"Segment",((e,t)=>{const n=t.path[t.path.length-1],a=t.branch[t.branch.length-2];if("string"===typeof n||!((e,t)=>Array.isArray(e)&&e.includes(t))(a,e))return"Segments may only occur in arrays";for(const c in e)if((c.includes("...")||c.includes("%"))&&!0===e[c])return"Correct options are not allowed to use wildcards";if(n<a.length-1){if(!0===e[""])return'You may only terminate with "" on the last segment';if(Object.values(e).reduce(((e,t)=>e&&!0!==t),!0))return"There must be at least one valid value in segment"}else if(!0===e[""])for(const c in e)if(""!==c&&!0===e[c])return"You cannot have both a termination and another valid option in the last segment";return!0})),L=Object(g.c)({display:Object(g.g)(),audio:Object(g.d)(Object(g.g)()),instructions:Object(g.d)(Object(g.g)()),segments:Object(g.a)(D)}),B=Object(g.c)({author:Object(g.g)(),title:Object(g.g)(),salt:Object(g.d)(Object(g.g)()),instructions:Object(g.d)(Object(g.g)()),macros:Object(g.d)(M),words:Object(g.a)(L)}),P="Whoops, that's not right. Try again!",T="Hmmm... Are you sure there's more sounds here?",A=new RegExp(C()(C()("...")),"g"),z=new RegExp(C()(C()("%")),"g"),I=(e,t)=>{if(!t)return{correct:!1,message:T};const n=E(e);let a;if(t.correct.includes(n))return{correct:!0};if(a=t.explanations.get(n))return{correct:!1,message:a};if(t.wildcards){const e=t.wildcards.find((({matcher:e})=>(e=>{const t=C()(e).replace(A,".*").replace(z,".");return new RegExp("^".concat(t,"$"),"u")})(e).test(n)));if(e)return{correct:!1,message:e.message}}return{correct:!1,message:0===t.correct.length?T:P}},H=(e,t,n=[])=>{if(t.hasOwnProperty(e)){const a=[...n,e];let c=[];return t[e].forEach((e=>{if(t.hasOwnProperty(e)&&!a.includes(e)){const n=H(e,t,a);c=c.concat(n)}else c.push(e)})),c}return[e]},W=(e,t)=>{let n={};return t.forEach((t=>{n[t]=e[t]})),n},U=e=>{const t=k(e,B),n=W(t,["author","title","salt","instructions"]),a=(e=>{if(e){let t={};for(const n in e)t[E(n)]=e[n].map(E);return t}return{}})(t.macros),c=t.words.map((e=>({...W(e,["display","audio","instructions"]),segments:((e,t)=>{const n=e.map(((e,n)=>{let a=[],c=[];const r=new Map;for(const s in e){const n=E(s),o=e[s];!0===o?a=a.concat(H(n,t)):n.includes("...")||n.includes("%")?c.push({matcher:n,message:o||P}):H(n,t).forEach((e=>{r.set(e,o||P)}))}return{correct:a,explanations:r,wildcards:c}})),a=n[n.length-1];return 0===a.correct.length?(a.correct.push(""),a.final=!0):a.correct.includes("")?a.final=!0:n.push({correct:[""],explanations:new Map,final:!0}),n})(e.segments,a)})));return{...n,macros:a,words:c}},V=Object(g.c)({name:Object(g.g)(),description:Object(g.g)(),file:Object(g.g)(),hidden:Object(g.d)(Object(g.b)())}),F=Object(g.c)({title:Object(g.g)(),description:Object(g.g)(),tasks:Object(g.a)(V)}),K=Object(c.createContext)(null),G=async()=>{const e=await fetch(j),t=await e.text();return k(t,v)},Y=()=>{const e=Object(c.useContext)(K);if(!e)throw new Error("Error: you must wrapped in a <Manifest> context");return e};let _=!1;var J=({children:e})=>{const t=Object(i.a)(G,[]);return t.error&&!_&&(_=!0,console.error(t.error),t.error instanceof l.a?alert("Error: Your manifest.yaml contains invalid syntax. Please check the console for more info."):t.error instanceof x?alert("Issue parsing manifest.yaml: ".concat(t.error.message)):alert("There was an error loading your manifest.yaml")),Object(a.jsx)(K.Provider,{value:t,children:e})},q=n(42),$=n(150),Q=n(115),Z=n(202),X=n(203),ee=n(182),te=n(190),ne=n(216),ae=n(197),ce=n(198),re=n(199),se=n(200),oe=n(201),ie=n(180),le=n(108),de=n.n(le);const je=(e,t,n=!1)=>{const a=Object(c.useRef)(!1),[r,s]=Object(c.useState)((()=>{const n=e&&localStorage.getItem(e);return null===n?t:JSON.parse(n)}));Object(c.useDebugValue)({[e||"<nopersist>"]:r});const o=Object(c.useCallback)((e=>{s(e)}),[]);return Object(c.useEffect)((()=>{e&&(a.current||n)?localStorage.setItem(e,JSON.stringify(r)):a.current=!0}),[e,r,n]),[r,o]},pe=Object(c.createContext)(!1),be=()=>Object(c.useContext)(pe);var ue=e=>{const[t,n]=je("debug_mode",!1);return Object(c.useEffect)((()=>{document.addEventListener("keydown",(e=>{"."===e.key&&e.metaKey&&e.shiftKey&&n((e=>!e))}))}),[n]),Object(c.useEffect)((()=>{0}),[n]),Object(a.jsx)(pe.Provider,{value:t,children:e.children})},he=n(220),me=n(217),xe=n(93),Oe=n(102),ge=n.n(Oe);const ve={prompt:"Name",debug:!1};var fe,ye=e=>{const{salt:t,debug:n,prompt:r,name:s,onSubmit:o,controls:l}={...ve,...e},[d,j]=Object(c.useState)(s||""),[p,b]=Object(c.useState)(!!s),[u,h]=Object(c.useState)(!1),m=Object(c.useRef)(),x=Object(c.useRef)(),{result:O}=Object(i.a)(xe.b,[d,t,p]),g=O||d,v=Object(c.useCallback)((()=>{if(m.current){const e=m.current;e.select(),e.setSelectionRange(0,e.value.length),document.execCommand("copy"),h(!0),window.clearTimeout(x.current),x.current=window.setTimeout((()=>h(!1)),2e3)}}),[]),f=p?Object(a.jsx)(ie.a,{variant:"contained",color:"primary",onClick:v,startIcon:Object(a.jsx)(ge.a,{}),children:"Copy"}):Object(a.jsx)(ie.a,{type:"submit",variant:"contained",color:"primary",children:"Submit"});return Object(a.jsx)("form",{onSubmit:e=>{e.preventDefault(),d.trim()&&(b(!0),o&&o(d))},children:Object(a.jsxs)(ee.a,{container:!0,spacing:2,alignItems:"center",justify:"center",children:[Object(a.jsxs)(ee.a,{item:!0,xs:12,sm:10,md:8,lg:6,children:[Object(a.jsxs)(q.a,{variant:"h6",component:"p",gutterBottom:!0,children:["Congratulations on finishing this assignment! Type your ",r," below and hit submit to receive a unique code for completion."]}),Object(a.jsx)(he.a,{PopperProps:{disablePortal:!0},open:u,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:Object(a.jsx)(q.a,{variant:"subtitle2",children:"Copied code!"}),children:Object(a.jsx)(me.a,{label:O?"Validation code":r,variant:"filled",InputProps:{readOnly:!!O},inputRef:m,fullWidth:!0,onChange:e=>j(e.target.value),value:g})})]}),Object(a.jsx)(ee.a,{item:!0,xs:12,children:Object(a.jsxs)(ee.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(a.jsx)(ee.a,{item:!0,children:f}),n&&Object(a.jsx)(ee.a,{item:!0,children:Object(a.jsx)(ie.a,{variant:"contained",color:"primary",onClick:()=>b(!1),children:"Reset"})}),l&&Object(a.jsx)(ee.a,{item:!0,children:l})]})})]})})},ke=n(188);function we(e,t){var n,a,c,r;const{value:s}=e,o=(null===(n=e.ref)||void 0===n||null===(a=n.current)||void 0===a?void 0:a.selectionStart)||0,i=(null===(c=e.ref)||void 0===c||null===(r=c.current)||void 0===r?void 0:r.selectionEnd)||o;switch(t.type){case fe.Delete:return o!==i?{...e,cursor:o,value:s.slice(0,o)+s.slice(i,s.length)}:0===o?e:{...e,cursor:o-1,value:s.slice(0,o-1)+s.slice(o,s.length)};case fe.Append:return{...e,cursor:o+t.value.length,value:s.slice(0,o)+t.value+s.slice(i,s.length)};case fe.Set:return{...e,value:t.value,cursor:t.value.length};case fe.Type:return{...e,value:t.value}}}!function(e){e[e.Delete=0]="Delete",e[e.Append=1]="Append",e[e.Set=2]="Set",e[e.Type=3]="Type"}(fe||(fe={}));var Ce=()=>{const e=Object(c.useRef)(null),[{cursor:t,value:n},a]=Object(c.useReducer)(we,{cursor:0,value:"",ref:e}),r=Object(c.useCallback)((e=>a({type:fe.Append,value:e})),[]),s=Object(c.useCallback)((e=>a({type:fe.Type,value:e.target.value})),[]),o=Object(c.useCallback)((()=>a({type:fe.Delete})),[]),i=Object(c.useCallback)((e=>a({type:fe.Set,value:e})),[]);return Object(c.useLayoutEffect)((()=>{var n,a,c;const r=document.activeElement;null===(n=e.current)||void 0===n||n.focus(),null===(a=e.current)||void 0===a||a.setSelectionRange(t,t),null===(c=e.current)||void 0===c||c.blur(),null===r||void 0===r||r.focus()}),[t]),Object(c.useDebugValue)({cursor:t,value:n}),{handleKeyboard:r,handleDelete:o,handleType:s,setValue:i,value:n,ref:e}},Se=n(21),Re=n(118),Ee=n(189),Me=n(119),Ne=n(185),De=n(223),Le=n(222),Be=n(187),Pe=n(105),Te=n.n(Pe),Ae=n(104),ze=n.n(Ae);const Ie=Object(ke.a)((e=>({label:{"&:not(.MuiInputLabel-shrink)":{[e.breakpoints.up("lg")]:{fontSize:"2rem"},fontSize:"1.5rem"}},input:{[e.breakpoints.up("lg")]:{fontSize:"2rem"},fontSize:"1.5rem","&> fieldset > legend > span":{fontSize:"0.75rem"}},noRightMargin:{marginRight:0},helpTextSize:{fontSize:"1rem",[e.breakpoints.up("lg")]:{fontSize:"1.5rem"}}})));var He=e=>{const t=Ie(),{placeholder:n="Type IPA",value:r,onType:s,onDelete:o,inputRef:i,header:l,onCheck:d,checkDescription:j,error:p,helpText:b,headerTooltip:u}=e,[h,m]=Object(c.useState)(!1),x=Object(c.useCallback)((()=>{var e;d&&d((null===(e=i.current)||void 0===e?void 0:e.value)||"")}),[d,i]),O=Object(c.useCallback)((e=>{"Enter"===e.key&&x()}),[x]),g=Object(c.useCallback)((e=>e.preventDefault()),[]),v=d&&Object(a.jsx)(he.a,{title:j||"Submit IPA Symbol or End Word",enterDelay:500,children:Object(a.jsx)($.a,{"aria-label":"check",onMouseDown:g,onClick:x,children:Object(a.jsx)(ze.a,{})})}),f=b&&Object(a.jsx)(q.a,{variant:"body2",component:"span",className:t.helpTextSize,children:b});Object(c.useEffect)((()=>{l&&u&&(m(!0),window.setTimeout((()=>m(!1)),1500))}),[l,u]);const y=l&&Object(a.jsx)(Ee.a,{disablePointerEvents:!0,disableTypography:!0,position:"start",classes:{positionStart:t.noRightMargin},children:u?Object(a.jsx)(he.a,{open:h,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,placement:"bottom-end",TransitionComponent:Me.a,TransitionProps:{timeout:400},title:Object(a.jsx)(q.a,{variant:"subtitle2",children:u}),children:Object(a.jsx)("span",{children:l})}):l});return Object(a.jsxs)(Ne.a,{fullWidth:!0,error:p,variant:"outlined",children:[Object(a.jsx)(De.a,{htmlFor:"ipa-typer",className:t.label,children:n}),Object(a.jsx)(Le.a,{id:"ipa-typer",label:n,onKeyPress:O,className:t.input,onChange:s,value:r,inputRef:i,inputProps:{spellCheck:"false",autoCorrect:"off",autoComplete:"off",style:{lineHeight:2}},endAdornment:Object(a.jsxs)(Ee.a,{position:"end",children:[Object(a.jsx)(he.a,{title:"Delete",enterDelay:500,children:Object(a.jsx)($.a,{"aria-label":"delete",onMouseDown:g,onClick:o,children:Object(a.jsx)(Te.a,{})})}),v]}),startAdornment:y}),Object(a.jsx)(te.a,{in:p,children:Object(a.jsx)(Be.a,{error:!0,variant:"outlined",children:f})})]})},We=n(4),Ue=n(14);const Ve=e=>"light"===e.palette.type?Object(Ue.e)(Object(Ue.c)(e.palette.divider,1),.88):Object(Ue.a)(Object(Ue.c)(e.palette.divider,1),.68);var Fe=n(191),Ke=n(192),Ge=n(193),Ye=n(194),_e=n(195),Je=n(196);const qe=["Bilabial","Labiodental","Dental","Alveolar","Postalveolar","Retroflex","Palatal","Velar","Uvular","Pharyngeal","Glottal"],$e=["Plosive","Nasal","Trill","Tap","Fricative","Lateral fricative","Approximant","Lateral approximant"],Qe="_",Ze="",Xe=[["p","b",Ze,Ze,Ze,Ze,"t","d",Ze,Ze,"\u0288","\u0256","c","\u025f","k","g","q","\u0262",Ze,Qe,"\u0294",Qe],[Ze,"m",Ze,"\u0271",Ze,Ze,Ze,"n",Ze,Ze,Ze,"\u0273",Ze,"\u0272",Ze,"\u014b",Ze,"\u0274",Qe,Qe,Qe,Qe],[Ze,"\u0299",Ze,Ze,Ze,Ze,Ze,"r",Ze,Ze,Ze,Ze,Ze,Ze,Qe,Qe,Ze,"\u0280",Ze,Ze,Qe,Qe],[Ze,Ze,Ze,"\u2c71",Ze,Ze,Ze,"\u027e",Ze,Ze,Ze,"\u027d",Ze,Ze,Qe,Qe,Ze,Ze,Ze,Ze,Qe,Qe],["\u0278","\u03b2","f","v","\u03b8","\xf0","s","z","\u0283","\u0292","\u0282","\u0290","\xe7","\u029d","x","\u0263","\u03c7","\u0281","\u0127","\u0295","h","\u0266"],[Qe,Qe,Qe,Qe,Ze,Ze,"\u026c","\u026e",Ze,Ze,Ze,Ze,Ze,Ze,Ze,Ze,Ze,Ze,Qe,Qe,Qe,Qe],[Ze,Ze,Ze,"\u028b",Ze,Ze,Ze,"\u0279",Ze,Ze,Ze,"\u027b",Ze,"j",Ze,"\u0270",Ze,Ze,Ze,Ze,Qe,Qe],[Qe,Qe,Qe,Qe,Ze,Ze,Ze,"l",Ze,Ze,Ze,"\u026d",Ze,"\u028e",Ze,"\u029f",Ze,Ze,Qe,Qe,Qe,Qe]],et=[["\u0298","Bilabial"],["\u01c0","Dental"],["\u01c3","(Post)alveolar"],["\u01c2","Palatoalveolar"],["\u01c1","Alveolar lateral"]],tt=[["\u0253","Bilabial"],["\u0257","Dental/alveolar"],["\u0284","Palatal"],["\u0260","Velar"],["\u029b","Uvular"]],nt=[["\u02bc","Examples:"],["p\u02bc","Bilabial"],["t\u02bc","Dental/alveolar"],["k\u02bc","Velar"],["s\u02bc","Alveolar fricative"]],at="\u25cc",ct=["Close","Close-mid","Open-mid","Open"],rt=["Front","Central","Back"],st=[[["i","y"],[0,0]],[["\u0268","\u0289"],[.5,0]],[["\u026f","u"],[1,0]],[["\u026a","\u028f"],[.2,1/6]],[["","\u028a"],[.75,1/6]],[["e","\xf8"],[0,1/3]],[["\u0258","\u0275"],[.5,1/3]],[["\u0264","o"],[1,1/3]],["\u0259",[.5,.5]],[["\u025b","\u0153"],[0,2/3]],[["\u025c","\u025e"],[.5,2/3]],[["\u028c","\u0254"],[1,2/3]],[["\xe6",""],[0,5/6]],["\u0250",[.5,5/6]],[["a","\u0276"],[0,1]],[["\u0251","\u0252"],[1,1]]],ot=[{ipa:"\u0325",description:"Voiceless",examples:["n","d"]},{ipa:"\u032c",description:"Voiced",examples:["s","t"]},{ipa:"\u02b0",description:"Aspirated",examples:["t","d"]},{ipa:"\u0339",description:"More rounded",examples:["\u0254"]},{ipa:"\u031c",description:"Less rounded",examples:["\u0254"]},{ipa:"\u031f",description:"Advanced",examples:["u"]},{ipa:"\u0320",description:"Retracted",examples:["e"]},{ipa:"\u0308",description:"Centralized",examples:["e"]},{ipa:"\u033d",description:"Mid-centralized",examples:["e"]},{ipa:"\u0329",description:"Syllabic",examples:["n"]},{ipa:"\u032f",description:"Non-syllabic",examples:["n"]},{ipa:"\u02de",description:"Rhoticity",examples:["\u0259","a"]},{ipa:"\u0324",description:"Breathy voiced",examples:["b","a"]},{ipa:"\u0330",description:"Creaky voiced",examples:["b","a"]},{ipa:"\u033c",description:"Linguolabial",examples:["t","d"]},{ipa:"\u02b7",description:"Labialized",examples:["t","d"]},{ipa:"\u02b2",description:"Palatalized",examples:["t","d"]},{ipa:"\u02e0",description:"Velarized",examples:["t","d"]},{ipa:"\u02e4",description:"Pharyngealized",examples:["t","d"]},{ipa:"\u032a",description:"Dental",examples:["t","d"]},{ipa:"\u033a",description:"Apical",examples:["t","d"]},{ipa:"\u033b",description:"Laminal",examples:["t","d"]},{ipa:"\u0303",description:"Nasalized",examples:["e"]},{ipa:"\u207f",description:"Nasal release",examples:["d"]},{ipa:"\u02e1",description:"Lateral release",examples:["d"]},{ipa:"\u031a",description:"No audible release",examples:["d"]},{ipa:"\u0334",description:"Velarized or pharyngealized",examples:["l"]},{ipa:"\u031d",description:"Raised",examples:["e"]},{ipa:"\u031e",description:"Lowered",examples:["e"]},{ipa:"\u0318",description:"Advanced tongue root",examples:["e"]},{ipa:"\u0319",description:"Retracted tongue root",examples:["e"]}],it=[{ipa:"\u0361",sym:"".concat(at,"\u0361").concat(at),description:"Tie bar",examples:["t\u0361\u0283","d\u0361\u0292"]},{ipa:"w",sym:"w",description:"Voiced labial-velar approximant"},{ipa:"\u028d",sym:"\u028d",description:"Voiceless labial-velar fricative"},{ipa:"\u0265",sym:"\u0265",description:"Voiced labial-palatal approximant"},{ipa:"\u029c",sym:"\u029c",description:"Voiceless epiglottal fricative"},{ipa:"\u02a2",sym:"\u02a2",description:"Voiced epiglottal fricative"},{ipa:"\u02a1",sym:"\u02a1",description:"Epiglottal plosive"},{ipa:"\u027a",sym:"\u027a",description:"Voiced alveolar lateral flap"},{ipa:"\u0255",sym:"\u0255",description:"Voiceless alveolo-palatal fricative"},{ipa:"\u0291",sym:"\u0291",description:"Voiced alveolo-palatal fricative"},{ipa:"\u0267",sym:"\u0267",description:"Simultaneous \u0283 and x"}],lt=[{ipa:"\u02c8",sym:"\u02c8",description:"Primary stress"},{ipa:"\u02cc",sym:"\u02cc",description:"Secondary stress"},{ipa:"\u02d0",sym:"\u02d0",description:"Long",examples:["e\u02d0"]},{ipa:"\u02d1",sym:"\u02d1",description:"Half-long",examples:["e\u02d1"]},{ipa:"\u0306",sym:"".concat(at,"\u0306"),description:"Extra-short",examples:["e\u0306"]},{ipa:"|",sym:"|",description:"Minor (foot) group"},{ipa:"\u2016",sym:"\u2016",description:"Major (intonation) group"},{ipa:".",sym:".",description:"Syllable break"},{ipa:"\u203f",sym:"\u203f",description:"Linking (absence of break)"}],dt=Object(ke.a)((e=>({voiceless:{cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover}},voiced:{cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover}},impossible:{backgroundColor:e.palette.action.disabledBackground,color:"transparent",cursor:"default","&:hover":{backgroundColor:e.palette.action.disabledBackground}},symbol:{padding:e.spacing(0,.5),userSelect:"none",fontSize:"1.5rem"},leftSideBorder:{borderLeft:"1px solid ".concat(Ve(e))},rightSideBorder:{borderRight:"1px solid ".concat(Ve(e))},caps:{padding:"6px 5.5px"},header:{minWidth:"56px",borderLeft:"1px solid ".concat(Ve(e)),borderRight:"1px solid ".concat(Ve(e))}}))),jt=e=>{const t=dt(),{onClick:n}=e,r=Object(c.useCallback)((e=>e!==Qe&&""!==e&&n&&(()=>n(e))||void 0),[n]),s=Object(c.useCallback)((e=>e.preventDefault()),[]),o=Object(c.useCallback)((({x:e,y:n})=>{var c,o;const i=null===(c=Xe[n])||void 0===c?void 0:c[2*e],l=null===(o=Xe[n])||void 0===o?void 0:o[2*e+1],d=e<2||e>4||4===n;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Fe.a,{align:"center",className:Object(We.a)(t.symbol,i&&t.voiceless,i===Qe&&t.impossible,d&&t.leftSideBorder),padding:"none",onClick:r(i),onMouseDown:s,children:i}),Object(a.jsx)(Fe.a,{align:"center",className:Object(We.a)(t.symbol,l&&t.voiced,l===Qe&&t.impossible,d&&t.rightSideBorder),padding:"none",onClick:r(l),onMouseDown:s,children:l})]})}),[t,r,s]);return Object(a.jsx)(Ke.a,{children:Object(a.jsxs)(Ge.a,{size:"small","aria-label":"Consonants (Pulmonics)",children:[Object(a.jsx)(Ye.a,{children:Object(a.jsxs)(_e.a,{children:[Object(a.jsx)(Fe.a,{}),qe.map((e=>Object(a.jsx)(Fe.a,{align:"center",className:Object(We.a)(t.header,t.caps),colSpan:2,padding:"none",children:e},"keyboard-place-".concat(e))))]})}),Object(a.jsx)(Je.a,{children:$e.map(((e,n)=>Object(a.jsxs)(_e.a,{children:[Object(a.jsx)(Fe.a,{className:t.caps,children:e}),qe.map(((t,c)=>Object(a.jsx)(o,{x:c,y:n},"keyboard-l-".concat(e,"-").concat(t))))]},"keyboard-manner-".concat(e))))})]})})};var pt=Object(c.memo)(jt);const bt=Object(ke.a)((e=>({symbol:{padding:e.spacing(.75,1),textAlign:"center",userSelect:"none",fontSize:"1.5rem",cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover},borderLeft:"1px solid ".concat(Ve(e))},descr:{fontSize:"0.8rem",verticalAlign:"middle",padding:e.spacing(0,.5),borderRight:"1px solid ".concat(Ve(e))},header:{padding:e.spacing(.75,1.5),borderLeft:"1px solid ".concat(Ve(e)),borderRight:"1px solid ".concat(Ve(e))}}))),ut=e=>{const t=bt(),{onClick:n=(()=>{})}=e,r=Object(c.useMemo)((()=>et.map(((e,t)=>[e,tt[t],nt[t]]))),[]),s=Object(c.useCallback)((e=>e.preventDefault()),[]),o=Object(c.useCallback)((({symbol:e,name:c})=>Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Fe.a,{className:t.symbol,onClick:()=>n(e),onMouseDown:s,children:e}),Object(a.jsx)(Fe.a,{className:t.descr,children:c})]})),[t,n,s]);return Object(a.jsx)(Ke.a,{children:Object(a.jsxs)(Ge.a,{size:"small","aria-label":"Consonants (Pulmonics)",children:[Object(a.jsx)("colgroup",{span:2}),Object(a.jsx)("colgroup",{span:2}),Object(a.jsx)("colgroup",{span:2}),Object(a.jsx)(Ye.a,{children:Object(a.jsxs)(_e.a,{children:[Object(a.jsx)(Fe.a,{align:"center",className:t.header,colSpan:2,children:"Clicks"}),Object(a.jsx)(Fe.a,{align:"center",className:t.header,colSpan:2,children:"Voiced implosives"}),Object(a.jsx)(Fe.a,{align:"center",className:t.header,colSpan:2,children:"Ejectives"})]})}),Object(a.jsx)(Je.a,{children:r.map(((e,t)=>Object(a.jsx)(_e.a,{children:e.map((([e,n],c)=>Object(a.jsx)(o,{symbol:e,name:n},"keyboard-nonpulmonic-".concat(t,"-").concat(c))))},"keyboard-nonpulmonic-".concat(t))))})]})})};var ht=Object(c.memo)(ut);function mt(){return(mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var xt=c.createElement("g",{strokeWidth:4,fill:"none",strokeLinecap:"butt",strokeLinejoin:"miter"},c.createElement("path",{d:"M24 17.74l950.68-.94L976 683.2l-477.16-1.23L24 17.74zM499.85 17.74l235.9 664.23M183.29 239.78l791.4-.94"}),c.createElement("path",{d:"M343.58 461.81l629.09-1.88h1V459"}));function Ot({title:e,titleId:t,...n},a){return c.createElement("svg",mt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 700",preserveAspectRatio:"none",fillRule:"evenodd",clipRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",ref:a,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,xt)}const gt=c.forwardRef(Ot);n.p;const vt=Object(ke.a)((e=>({root:{width:"100%",height:"100%"},outerQuad:{padding:e.spacing(1,3),fontSize:"1.5rem",position:"relative",height:"100%",minHeight:"275px",minWidth:"270px"},fullRel:{height:"100%",width:"100%",position:"relative"},trapezium:{position:"absolute",height:"100%",width:"100%",stroke:e.palette.text.primary},quad:{position:"absolute",height:"95%",width:"95%",left:"2.5%",top:"2.75%"},element:{userSelect:"none",cursor:"default",position:"absolute",transform:"translate(-50%, -50%)",overflow:"visible",width:"1.2em",textAlign:"center"},rounded:{position:"absolute",width:"1.2em",left:"0.75em"},unrounded:{position:"absolute",width:"1.2em",right:"0.75em"},mid:{width:"100%"},symbol:{display:"inline-block",cursor:"pointer","&:hover":{borderRadius:"3px",backgroundColor:e.palette.action.hover}},paperBack:{"&::before":{zIndex:"-1",left:"0",content:"''",borderRadius:"3px",position:"absolute",display:"inline-block",width:"1.2em",height:"100%",backgroundColor:e.palette.background.paper}},fullHeight:{height:"100%"},vowelPos:{padding:e.spacing(0,2)},vowelHeight:{padding:e.spacing(.5,0)}}))),ft=([e,t])=>{const n=.5*t;return{left:"".concat(100*(n+(1-n)*e),"%"),top:"".concat(100*t,"%")}},yt=e=>{const t=vt(),{onClick:n=(()=>{})}=e,r=Object(c.useCallback)((e=>e.preventDefault()),[]),s=Object(c.useCallback)((({vowels:e,coords:c})=>{if("string"===typeof e)return Object(a.jsx)(ne.a,{className:Object(We.a)(t.element,t.paperBack),style:ft(c),children:Object(a.jsx)("div",{className:Object(We.a)(t.mid,t.symbol),onClick:()=>n(e),onMouseDown:r,children:e})});{const s=e.join("").length<2,o=s?"\xa0":"\u2022";return Object(a.jsxs)(ne.a,{className:Object(We.a)(t.element,{[t.paperBack]:!s}),style:ft(c),children:[o,Object(a.jsx)("div",{className:Object(We.a)(t.unrounded,t.symbol,t.paperBack),onClick:()=>n(e[0]),onMouseDown:r,children:e[0]}),Object(a.jsx)("div",{className:Object(We.a)(t.rounded,t.symbol,t.paperBack),onClick:()=>n(e[1]),onMouseDown:r,children:e[1]})]})}}),[t,n,r]),o=Object(c.useMemo)((()=>Object(a.jsx)(ne.a,{className:t.outerQuad,children:Object(a.jsxs)("div",{className:t.fullRel,children:[Object(a.jsx)(gt,{className:t.trapezium}),Object(a.jsx)("div",{className:t.quad,children:st.map((([e,t])=>Object(a.jsx)(s,{vowels:e,coords:t},"vowelbox-".concat(e))))})]})})),[t,s]);return Object(a.jsx)(ne.a,{id:"vowelQuad",className:t.root,children:Object(a.jsxs)(ee.a,{container:!0,className:t.fullHeight,wrap:"nowrap",children:[Object(a.jsx)(ee.a,{item:!0,children:Object(a.jsxs)(ee.a,{container:!0,direction:"column",className:Object(We.a)(t.fullHeight),children:[Object(a.jsx)(q.a,{variant:"body1",component:"p",children:"\u200b"}),Object(a.jsx)(ee.a,{item:!0,xs:!0,children:Object(a.jsx)(ee.a,{container:!0,direction:"column",justify:"space-between",className:Object(We.a)(t.fullHeight,t.vowelHeight),children:ct.map((e=>Object(a.jsx)(q.a,{variant:"body1",component:"p",children:e},e)))})})]})}),Object(a.jsx)(ee.a,{item:!0,xs:!0,children:Object(a.jsxs)(ee.a,{container:!0,direction:"column",className:t.fullHeight,children:[Object(a.jsx)(ee.a,{item:!0,children:Object(a.jsx)(ee.a,{container:!0,justify:"space-between",className:t.vowelPos,children:rt.map((e=>Object(a.jsx)(q.a,{variant:"body1",component:"p",children:e},e)))})}),Object(a.jsx)(ee.a,{item:!0,xs:!0,children:o})]})})]})})};var kt=Object(c.memo)(yt);const wt=Object(ke.a)((e=>{return{root:{width:"100%",height:"100%"},symbol:{userSelect:"none",textAlign:"center",cursor:"pointer",fontSize:"1.5rem","&:hover":{backgroundColor:e.palette.action.hover}},description:{padding:"2px",fontSize:"0.8rem"},descriptionParent:{display:"flex",justifyContent:"center",flexDirection:"column",height:"100%"},bordered:{boxShadow:(t="1px",n=Ve(e),"".concat(t," 0 0 0 ").concat(n,", 0 ").concat(t," 0 0 ").concat(n,", ").concat(t," ").concat(t," 0 0 ").concat(n,", ").concat(t," 0 0 0 ").concat(n," inset, 0 ").concat(t," 0 0 ").concat(n," inset"))}};var t,n})),Ct=e=>{const t=wt(),{onClick:n=(()=>{}),content:r,breakpoints:s={},genSym:o=(e=>e),combine:i}=e,l=Object(c.useCallback)((e=>e.preventDefault()),[]);return Object(a.jsx)(ee.a,{container:!0,spacing:0,children:r.map((({ipa:e,sym:r,description:d,examples:j})=>Object(c.createElement)(ee.a,{item:!0,xs:12,...s,key:d,className:t.bordered},Object(a.jsxs)(ee.a,{container:!0,children:[Object(a.jsx)(ee.a,{item:!0,xs:2,className:t.symbol,onClick:()=>n(e),onMouseDown:l,children:r||o(e)}),Object(a.jsx)(ee.a,{item:!0,xs:!0,children:Object(a.jsx)("div",{className:t.descriptionParent,children:Object(a.jsx)("div",{className:t.description,children:d})})}),null===j||void 0===j?void 0:j.map((c=>{const r=i?"".concat(c).concat(e):c;return Object(a.jsx)(ee.a,{item:!0,xs:2,className:t.symbol,onClick:()=>n(r),onMouseDown:l,children:r},r)}))]}))))})};var St=Object(c.memo)(Ct);const Rt=e=>Object(a.jsx)(St,{...e,content:ot,breakpoints:{md:4,sm:6},genSym:e=>"".concat(at).concat(e),combine:!0});var Et=Object(c.memo)(Rt);const Mt=e=>Object(a.jsx)(St,{...e,content:it,breakpoints:{sm:6}});var Nt=Object(c.memo)(Mt);const Dt=e=>Object(a.jsx)(St,{...e,content:lt,breakpoints:{md:12,sm:6,xs:12}});var Lt=Object(c.memo)(Dt);const Bt=Object(ke.a)((e=>({paper:{padding:e.spacing(1),height:"100%"},childOrder:{[e.breakpoints.up("md")]:Pt(1,3,2)}}))),Pt=(...e)=>{let t={"& > *":{order:100}};return e.forEach(((e,n)=>{t["& > :nth-child(".concat(n+1,")")]={order:e}})),t},Tt=e=>{const t=Bt(),{onClick:n}=e;return Object(a.jsxs)(ee.a,{container:!0,spacing:2,className:t.childOrder,children:[Object(a.jsx)(ee.a,{item:!0,xs:12,children:Object(a.jsxs)(Re.a,{className:t.paper,children:[Object(a.jsx)(q.a,{variant:"h6",component:"p",gutterBottom:!0,children:"Consonants (Pulmonics)"}),Object(a.jsx)(pt,{onClick:n}),Object(a.jsx)(q.a,{variant:"caption",align:"center",component:"p",children:"Symbols to the right in a cell are voiced, to the left are voiceless. Shaded areas denote articulations judged impossible."})]})}),Object(a.jsx)(ee.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(Re.a,{className:t.paper,children:Object(a.jsx)(kt,{onClick:n})})}),Object(a.jsx)(ee.a,{item:!0,xs:12,md:6,children:Object(a.jsxs)(Re.a,{className:t.paper,children:[Object(a.jsx)(q.a,{variant:"h6",component:"p",gutterBottom:!0,children:"Other"}),Object(a.jsx)(Nt,{onClick:n})]})}),Object(a.jsx)(ee.a,{item:!0,xs:12,md:8,children:Object(a.jsxs)(Re.a,{className:t.paper,children:[Object(a.jsx)(q.a,{variant:"h6",component:"p",gutterBottom:!0,children:"Diacritics"}),Object(a.jsx)(Et,{onClick:n})]})}),Object(a.jsx)(ee.a,{item:!0,xs:12,md:4,children:Object(a.jsxs)(Re.a,{className:t.paper,children:[Object(a.jsx)(q.a,{variant:"h6",component:"p",gutterBottom:!0,children:"Suprasegmentals"}),Object(a.jsx)(Lt,{onClick:n})]})}),Object(a.jsx)(ee.a,{item:!0,xs:12,md:6,children:Object(a.jsxs)(Re.a,{className:t.paper,children:[Object(a.jsx)(q.a,{variant:"h6",component:"p",gutterBottom:!0,children:"Consonants (Non-pulmonics)"}),Object(a.jsx)(ht,{onClick:n})]})}),Object(a.jsx)(ee.a,{item:!0,xs:12,md:6,hidden:!0,children:Object(a.jsxs)(Re.a,{className:t.paper,children:[Object(a.jsx)(q.a,{variant:"h6",component:"p",gutterBottom:!0,children:"Common non-IPA symbols"}),Object(a.jsx)(q.a,{children:"Coming soon..."})]})})]})};var At=Object(c.memo)(Tt);const zt=Object(ke.a)((e=>({sticky:{pointerEvents:"none",zIndex:10,position:"sticky",top:"".concat(e.spacing(-1),"px"),marginBottom:"".concat(e.spacing("dark"===e.palette.type?0:1),"px")},input:{pointerEvents:"auto",backgroundColor:"dark"===e.palette.type?e.palette.background.default:e.palette.background.paper,borderRadius:"8px"}})));var It=e=>{const t=Object(Se.a)(),n=zt(),{handleKeyboard:c,...r}=e,s="dark"===t.palette.type?0:3;return Object(a.jsxs)("div",{children:[Object(a.jsx)(ne.a,{paddingY:2,className:n.sticky,children:Object(a.jsx)(ee.a,{container:!0,alignItems:"center",justify:"center",spacing:2,children:Object(a.jsx)(ee.a,{item:!0,xs:!0,md:8,component:Re.a,elevation:s,className:n.input,children:Object(a.jsx)(He,{...r})})})}),Object(a.jsx)(At,{onClick:c})]})};const Ht=Object(ke.a)((e=>({correct:{color:"dark"===e.palette.type?e.palette.success.main:e.palette.success.dark}})));var Wt;!function(e){e[e.Reset=0]="Reset",e[e.SoftReset=1]="SoftReset",e[e.SetHeader=2]="SetHeader",e[e.NextSegment=3]="NextSegment",e[e.ErrorMessage=4]="ErrorMessage",e[e.ClearError=5]="ClearError"}(Wt||(Wt={}));const Ut=e=>({word:e,segment:0,header:"",error:!1}),Vt=(e,t)=>{switch(t.type){case Wt.SoftReset:return Object.is(t.value,e.word)?e:Ut(t.value);case Wt.Reset:return Ut(t.value);case Wt.SetHeader:return{...e,header:t.value};case Wt.NextSegment:return{...e,segment:e.segment+1,header:e.header+t.value};case Wt.ClearError:return e.error?{...e,error:!1}:e;case Wt.ErrorMessage:return{...e,error:!0,errorMessage:t.value}}};var Ft=e=>{const t=Ht(),n=be(),{word:r,onSubmit:s}=e,{handleKeyboard:o,handleDelete:i,handleType:l,setValue:d,value:j,ref:p}=Ce(),[b,u]=Object(c.useReducer)(Vt,r,Ut);Object(c.useEffect)((()=>u({type:Wt.SoftReset,value:r})),[r]),Object(c.useEffect)((()=>u({type:Wt.ClearError})),[j]);const h=Object(c.useCallback)((e=>{if(n&&"winston"===e)return d(""),u({type:Wt.SetHeader,value:e}),void s();const t=r.segments[b.segment],a=I(e,t);a.correct?(u({type:Wt.NextSegment,value:e}),d(""),t.final&&s()):u({type:Wt.ErrorMessage,value:a.message})}),[r,b.segment,d,s,n]),{header:m,error:x,errorMessage:O}=b,g=Object(c.useMemo)((()=>m&&Object(a.jsx)("span",{className:t.correct,children:m})),[m,t.correct]);return Object(a.jsx)(It,{placeholder:'Transcribe "'.concat(r.display,'"'),value:j,onDelete:i,onType:l,inputRef:p,onCheck:h,header:g,error:x,helpText:O,headerTooltip:"Correct!",handleKeyboard:o})};var Kt=e=>{const{onClose:t,open:n,title:c,body:r}=e;return Object(a.jsxs)(ae.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs","aria-labelledby":"confirmation-dialog-title",open:n,children:[Object(a.jsx)(ce.a,{id:"confirmation-dialog-title",children:c}),Object(a.jsx)(re.a,{children:Object(a.jsx)(se.a,{children:r})}),Object(a.jsxs)(oe.a,{children:[Object(a.jsx)(ie.a,{autoFocus:!0,onClick:()=>{t(!1)},color:"primary",children:"Cancel"}),Object(a.jsx)(ie.a,{onClick:()=>{t(!0)},color:"primary",children:"Ok"})]})]})},Gt=n(106),Yt=n.n(Gt);const _t=e=>{const{file:t,baseUrl:n}=e,c=(()=>{if(t){const e=new URL(t,n).toString();return new Audio(e)}})(),r=!c;return Object(a.jsx)(he.a,{title:r?"No sound file to play":"",children:Object(a.jsx)("div",{children:Object(a.jsx)(ie.a,{title:"Play sound",variant:"contained",color:"secondary",startIcon:Object(a.jsx)(Yt.a,{}),onClick:()=>{if(c)try{c.currentTime=0,c.play().catch((e=>{console.error({message:"unable to play url",src:c.src,err:e})}))}catch(e){console.error({message:"unable to play url",src:c.src,err:e})}},disabled:r,children:"Play"})})})};var Jt=Object(c.memo)(_t),qt=n(107),$t=n(152),Qt=n(218),Zt=n(95);const Xt=Object(ke.a)((e=>({codeBlock:{fontSize:"1rem",padding:"".concat(e.spacing(1),"px")},inline:{padding:e.spacing(.25,.5),"pre &":{padding:0,boxShadow:"none",borderRadius:0}}}))),en=e=>{const t=Xt(),{block:n,children:c}=e,r=n?"pre":"code",s=n?t.codeBlock:t.inline;return Object(a.jsx)(Re.a,{className:s,component:r,children:c})};var tn=Object(c.memo)(en);const nn=/^(https?:)?\/\//i,an=e=>({component:q.a,props:{variant:e,component:"p",gutterBottom:!0}}),cn=e=>{const{baseUrl:t,src:n,...c}=e,r=t&&n?new URL(n,t).toString():n;return Object(a.jsx)("img",{...c,src:r})},rn=e=>{const{href:t,...n}=e;return(null===t||void 0===t?void 0:t.match(nn))?Object(a.jsx)($t.a,{href:t,...n}):Object(a.jsx)(Zt.a,{to:t||"#",...n})},sn=e=>"checkbox"===e.type?Object(a.jsx)(Qt.a,{checked:e.checked,readOnly:e.readOnly,disabled:e.readOnly}):Object(a.jsx)("input",{...e}),on=e=>{const{children:t,baseUrl:n,allowTags:c,paragraph:r="body1"}=e,s={disableParsingRawHTML:!c,forceBlock:!0,overrides:{img:{component:cn,props:{baseUrl:n}},h1:an("h1"),h2:an("h2"),h3:an("h3"),h4:an("h4"),h5:an("h5"),h6:an("h6"),p:an(r),a:{component:rn},pre:{component:tn,props:{block:!0}},code:{component:tn},input:{component:sn}}};return Object(a.jsx)(qt.a,{children:t,options:s})};var ln,dn=Object(c.memo)(on);!function(e){e[e.Reset=0]="Reset",e[e.ShowReset=1]="ShowReset",e[e.CloseReset=2]="CloseReset",e[e.DismissModal=3]="DismissModal",e[e.Submit=4]="Submit",e[e.ModalExit=5]="ModalExit"}(ln||(ln={}));const jn=(e,t)=>{const{currWord:n}=e;switch(t){case ln.DismissModal:return{...e,showModal:!1,currWord:n+1};case ln.Submit:return{...e,showModal:!0,modalWord:n+1};case ln.ModalExit:return e;case ln.ShowReset:return{...e,resetModal:!0};case ln.CloseReset:return{...e,resetModal:!1};case ln.Reset:return{modalWord:0,currWord:0,showModal:!1,resetModal:!1,inputKey:Math.random().toString(36)}}},pn=(e,t)=>Object(c.useCallback)((()=>e(t)),[t,e]),bn=e=>{const{task:t,baseUrl:n,noPersist:r}=e,{title:s,words:o,instructions:i}=t,l=r?null:"persist-".concat(n),[d,j]=je(l,{word:0,name:""}),[{currWord:p,modalWord:b,showModal:u,resetModal:h,...m},x]=Object(c.useReducer)(jn,{modalWord:d.word,currWord:d.word,showModal:!1,resetModal:!1,inputKey:"original"}),[O,g]=Object(c.useState)(null),v=be(),f=p<o.length,y=f?o[p]:o[o.length-1],k=pn(x,ln.Submit),w=pn(x,ln.DismissModal),C=pn(x,ln.ModalExit),S=Object(c.useCallback)((()=>{g(null),x(ln.ShowReset)}),[]),R=Object(c.useCallback)((e=>{x(e?ln.Reset:ln.CloseReset)}),[]);Object(c.useEffect)((()=>{window.scroll({top:0,behavior:"smooth"}),j((e=>({name:0===b?"":e.name,word:b})))}),[b,j]);const E=Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)($.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:e=>{g(e.currentTarget)},title:"More options",children:Object(a.jsx)(de.a,{})}),Object(a.jsx)(Q.a,{id:"simple-menu",anchorEl:O,keepMounted:!0,open:Boolean(O),onClose:()=>{g(null)},MenuListProps:{subheader:Object(a.jsx)(Z.a,{children:"Options"})},children:Object(a.jsx)(X.a,{onClick:S,children:"Reset assignment"})})]}),M=y.instructions&&Object(a.jsx)(ee.a,{container:!0,justify:"center",spacing:2,children:Object(a.jsx)(ee.a,{item:!0,xs:!0,md:8,children:Object(a.jsx)(dn,{children:y.instructions})})});return Object(a.jsxs)("div",{children:[Object(a.jsx)(q.a,{variant:"h3",component:"h2",gutterBottom:!0,align:"center",children:s}),Object(a.jsxs)(te.a,{in:f,children:[Object(a.jsx)(ne.a,{mb:2,children:Object(a.jsx)(dn,{children:i||"",baseUrl:n})}),Object(a.jsxs)(ee.a,{container:!0,spacing:1,justify:"center",alignItems:"center",children:[Object(a.jsx)(ee.a,{item:!0,children:Object(a.jsxs)(q.a,{variant:"h4",component:"p",align:"center",children:[Math.min(p+1,o.length),"/",o.length,': Transcribe "',y.display,'"']})}),Object(a.jsx)(ee.a,{item:!0,children:Object(a.jsx)(Jt,{file:y.audio,baseUrl:n})}),Object(a.jsx)(ee.a,{item:!0,children:E})]}),M,Object(a.jsx)(Ft,{word:y,onSubmit:k},m.inputKey)]}),Object(a.jsx)(te.a,{in:!f,mountOnEnter:!0,unmountOnExit:!0,children:Object(a.jsx)(ye,{salt:t.salt,debug:v,onSubmit:e=>j((t=>({...t,name:e}))),name:d.name,controls:E})}),Object(a.jsxs)(ae.a,{open:u,onClose:w,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",disableRestoreFocus:!v,onExited:C,children:[Object(a.jsx)(ce.a,{id:"alert-dialog-title",children:"Congrats! You got it correct"}),Object(a.jsx)(re.a,{children:Object(a.jsx)(se.a,{id:"alert-dialog-description",children:"You did a good job of getting the word correct!"})}),Object(a.jsx)(oe.a,{children:Object(a.jsx)(ie.a,{onClick:w,variant:"contained",color:"primary",disabled:!u,autoFocus:!0,disableFocusRipple:!0,children:b<o.length?"Next word":"Finish"})})]}),Object(a.jsx)(Kt,{open:h,onClose:R,title:"Reset Assignment",body:"Are you sure you want to reset all progress on this assignment?"})]})};var un=Object(c.memo)(bn),hn=n(204);const mn=Object(ke.a)((e=>({fileDump:{fontSize:e.typography.h6.fontSize,lineHeight:1.3},line:{"&::before":{content:'attr(data-line) "| "'}},errorLine:{color:e.palette.error.main}})));var xn=e=>{const t=mn(),{defaultHeader:n,error:c,context:r=2}=e;if(console.error(c),(s=c)instanceof b&&"context"in s){const e=c.context(r);return Object(a.jsxs)("div",{children:[Object(a.jsx)(q.a,{variant:"h3",component:"p",gutterBottom:!0,children:c.headline}),Object(a.jsx)(q.a,{variant:"h5",component:"p",gutterBottom:!0,children:c.message}),Object(a.jsx)(tn,{block:!0,children:c.message}),Object(a.jsx)(tn,{block:!0,children:Object(a.jsx)("code",{className:t.fileDump,children:e.map((({num:e,contents:n,error:c})=>Object(a.jsxs)("span",{className:Object(We.a)(t.line,c&&t.errorLine),"data-line":e.toString().padStart(3,"0"),children:[n,"\n"]},e)))})})]})}return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(q.a,{variant:"h3",component:"p",gutterBottom:!0,children:n}),Object(a.jsx)(q.a,{variant:"h5",component:"p",gutterBottom:!0,children:c.message})]});var s};const On=async e=>{if(!e)return void console.log("empty task");const t=await fetch(e).catch((e=>{throw e instanceof TypeError?(console.error(e),new O("Cannot fetch resource. Permissions may not be correctly configured.",e.message)):e}));if(200!==t.status)throw new O("".concat(t.statusText,": Resource cannot be retrieved"));const n=await t.text();return U(n)},gn=({children:e,error:t})=>Object(a.jsxs)(q.a,{variant:"h3",component:"p",gutterBottom:!0,align:"center",children:[t&&"Error: ",e]});var vn=e=>{const{taskFileUrl:t}=e,n=Object(i.a)(On,[t]),c=new URL(t,new URL(d,window.location.href)).toString();return n.result?Object(a.jsx)(un,{task:n.result,baseUrl:c}):n.loading?Object(a.jsx)(Me.a,{in:!0,style:{transitionDelay:"500ms"},unmountOnExit:!0,children:Object(a.jsx)(q.a,{variant:"h4",component:"h1",align:"center",children:Object(a.jsx)(hn.a,{})})}):n.error?Object(a.jsx)(xn,{error:n.error,context:3,defaultHeader:"Cannot load task file"}):Object(a.jsx)(gn,{error:!0,children:"Unreachable state???"})},fn=n(60),yn=n(28);const kn="v0.5.3",wn="https://github.com/R167/int-ipa.git",Cn="".concat(wn.replace(".git",""),"/tree/").concat(kn),Sn="ipa.wdurand.com",Rn=()=>{const e=Object(o.g)(),t=new URLSearchParams(e.search).get("config");if(t){const e=Object(fn.a)(t),n=e.includes("://")?e:"https://".concat(e);return Object(a.jsx)(vn,{taskFileUrl:n})}return Object(a.jsx)(En,{})},En=()=>{const[e,t]=Object(c.useState)(""),n=new URLSearchParams({config:Object(fn.b)(e,!0)}).toString(),r=new URL(window.location.href);r.hostname=Sn;const s="".concat(r,"?").concat(n);return Object(a.jsxs)(ee.a,{container:!0,spacing:2,alignItems:"center",justify:"center",children:[Object(a.jsxs)(ee.a,{item:!0,xs:12,sm:!0,md:8,children:[Object(a.jsx)(q.a,{variant:"h6",component:"p",gutterBottom:!0,children:"Enter the URL of a task file below."}),Object(a.jsx)(me.a,{label:"Resource",variant:"filled",fullWidth:!0,onChange:e=>t(e.target.value),value:e,InputProps:{endAdornment:Object(a.jsx)(Ee.a,{position:"end",children:Object(a.jsx)(ie.a,{color:"primary",variant:"contained",component:yn.c,to:{search:n},children:"Go!"})})}})]}),Object(a.jsx)(ee.a,{item:!0,xs:12,children:Object(a.jsx)(q.a,{variant:"body1",align:"center",children:s})})]})};var Mn=()=>{const{klass:e,assignment:t}=Object(o.h)();return Object(a.jsx)(vn,{taskFileUrl:p(e,"".concat(t,".yaml"))})};const Nn=(e,t)=>"".concat(e,"/").concat(t.replace(".yaml",""));var Dn=e=>{const{tasks:t,path:n}=e;return 0===t.length?Object(a.jsx)(q.a,{children:"No tasks to do"}):Object(a.jsx)(ee.a,{container:!0,spacing:4,children:t.map(((e,t)=>!e.hidden&&Object(a.jsx)(ee.a,{item:!0,lg:6,xs:12,children:Object(a.jsxs)(ne.a,{component:Re.a,p:2,height:"100%",display:"flex",alignContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",children:[Object(a.jsxs)(ne.a,{children:[Object(a.jsx)(q.a,{color:"primary",gutterBottom:!0,children:e.name}),Object(a.jsx)(q.a,{variant:"body2",gutterBottom:!0,children:e.description})]}),Object(a.jsx)(ne.a,{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",width:"100%",children:Object(a.jsx)(ie.a,{component:yn.c,color:"secondary",variant:"contained",to:Nn(n,e.file),children:"Work on task"})})]})},"tasklist-".concat(t))))})};const Ln=async e=>{if(!e)return void console.log("empty class");const t=p(e,"tasks.yaml"),n=await fetch(t).catch((e=>{throw e instanceof TypeError?(console.error(e),new O("Cannot fetch resource. Permissions may not be correctly configured.",e.message)):e}));if(200!==n.status)throw new O("".concat(n.statusText,": Resource cannot be retrieved"));const a=await n.text();return k(a,F)},Bn=({msg:e,error:t})=>Object(a.jsxs)(q.a,{variant:"h3",component:"h1",gutterBottom:!0,align:"center",children:[t&&"Error: ",e]});var Pn=e=>{var t,n;const c=e.match.params.klass,r=Y(),s=null===r||void 0===r||null===(t=r.result)||void 0===t||null===(n=t.classes)||void 0===n?void 0:n.find((({folder:e})=>c===e)),o=Object(i.a)(Ln,[c]);if(o.result){const{title:t,description:n,tasks:c}=o.result;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(q.a,{variant:"h3",component:"h1",gutterBottom:!0,align:"center",children:t}),Object(a.jsx)(q.a,{variant:"subtitle1",gutterBottom:!0,align:"center",children:n})]}),Object(a.jsx)(q.a,{variant:"h5",gutterBottom:!0,children:"Assignments:"}),Object(a.jsx)(Dn,{tasks:c,path:e.location.pathname})]})}return o.loading&&s?Object(a.jsx)("div",{children:Object(a.jsxs)(q.a,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:["Loading ",s.name,"..."]})}):r.loading||o.loading?Object(a.jsx)(q.a,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:"Loading..."}):o.error?Object(a.jsx)(xn,{error:o.error,context:3,defaultHeader:"No such class exists"}):Object(a.jsx)(Bn,{error:!0,msg:"Unreachable state???"})};var Tn=()=>{const{result:e,loading:t}=Y();if(e){const{title:t,body:n}=e.homepage;return Object(a.jsxs)(ne.a,{paddingY:2,children:[Object(a.jsx)(q.a,{align:"center",variant:"h3",component:"h2",gutterBottom:!0,children:t}),Object(a.jsx)(ee.a,{container:!0,justify:"center",children:Object(a.jsx)(ee.a,{item:!0,xs:!0,md:10,lg:8,children:Object(a.jsx)(dn,{children:n,paragraph:"h5"})})})]})}return Object(a.jsx)(q.a,{variant:"h3",align:"center",children:t?"Loading":"Error"})},An=n(96);var zn=()=>{const{handleKeyboard:e,handleDelete:t,handleType:n,value:c,ref:r}=Ce();return Object(a.jsx)(It,{value:c,inputRef:r,onType:n,onDelete:t,handleKeyboard:e})};const In=Object(c.lazy)((()=>n.e(3).then(n.bind(null,228))));var Hn=e=>Object(a.jsx)(c.Suspense,{fallback:null,children:Object(a.jsx)(In,{match:e.match})});var Wn=()=>Object(a.jsxs)(o.d,{children:[Object(a.jsx)(o.b,{path:"/",exact:!0,component:Tn}),Object(a.jsx)(o.b,{path:"/keyboard",exact:!0,component:zn}),Object(a.jsx)(o.b,{path:"/class/:klass",exact:!0,component:Pn}),Object(a.jsx)(o.b,{path:"/class/:klass/:assignment+",exact:!0,component:Mn}),Object(a.jsx)(o.b,{path:"/remote",exact:!0,component:Rn}),Object(a.jsx)(o.a,{from:"/type",exact:!0,to:"/keyboard"}),Object(a.jsx)(o.b,{path:"/tools",component:Hn}),Object(a.jsx)(o.b,{component:An.a})]}),Un=n(215),Vn=n(212),Fn=n(219),Kn=n(153),Gn=n(205),Yn=n(206),_n=n(207),Jn=n(7),qn=n(208),$n=n(186),Qn=n(209),Zn=n(224),Xn=n(210),ea=n(211),ta=n(112),na=n.n(ta),aa=n(109),ca=n.n(aa),ra=n(111),sa=n.n(ra),oa=n(110),ia=n.n(oa),la=n(75);const da=e=>({paddingLeft:"max(env(safe-area-inset-left, 0px), ".concat(e.spacing(2),"px)"),paddingRight:"max(env(safe-area-inset-right, 0px), ".concat(e.spacing(2),"px)"),[e.breakpoints.up("sm")]:{paddingLeft:"max(env(safe-area-inset-left, 0px), ".concat(e.spacing(3),"px)"),paddingRight:"max(env(safe-area-inset-right, 0px), ".concat(e.spacing(3),"px)")}}),ja=Object(ke.a)((e=>({itemGutters:{paddingLeft:"max(env(safe-area-inset-left, 0px), ".concat(e.spacing(2),"px)")},gutters:da(e)}))),pa=({error:e})=>Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Kn.a,{children:Object(a.jsx)(Gn.a,{primary:e?"Error loading classes.":"Loading classes..."})}),Object(a.jsx)(Yn.a,{})]}),ba=e=>{const{pathname:t}=Object(o.g)(),{to:n,text:c,icon:r,exact:s,gutters:i}=e,l=!!Object(o.f)(t,{path:n,exact:s});return Object(a.jsxs)(Kn.a,{button:!0,component:yn.c,to:n,selected:l,classes:{gutters:i},children:[r&&Object(a.jsx)(_n.a,{children:r}),Object(a.jsx)(Gn.a,{primary:c})]})},ua=Object(Jn.a)({switchBase:{color:la.a[100],"&$checked":{color:"black"},"&$checked + $track":{backgroundColor:la.a[500]}},checked:{},track:{}})(qn.a);var ha=e=>{const[t,n]=Object(c.useState)(!1),r=ja(),{changeDarkMode:s}=e,{result:o,loading:i,error:l}=Y(),d=Object(c.useCallback)((()=>{n(!0)}),[]),j=Object(c.useCallback)((()=>{n(!1)}),[]),p=Object(c.useCallback)((e=>{s(e.target.checked)}),[s]),b=Object(a.jsxs)("div",{children:[Object(a.jsx)($n.a,{children:Object(a.jsx)(ba,{to:"/",text:"Home",icon:Object(a.jsx)(ca.a,{}),exact:!0,gutters:r.itemGutters})}),Object(a.jsx)(Qn.a,{}),Object(a.jsxs)($n.a,{children:[Object(a.jsx)(Z.a,{classes:{gutters:r.itemGutters},children:"Classes"}),l&&Object(a.jsx)(pa,{error:!0}),i&&Object(a.jsx)(pa,{}),o&&o.classes.map((({name:e,folder:t,hidden:n},c)=>!n&&Object(a.jsx)(ba,{to:"/class/".concat(t),text:e,gutters:r.itemGutters},"class-list-".concat(c))))]}),Object(a.jsx)(Qn.a,{}),Object(a.jsxs)($n.a,{children:[Object(a.jsx)(Z.a,{classes:{gutters:r.itemGutters},children:"Tools"}),Object(a.jsx)(ba,{to:"/remote",text:"Hosted Task",icon:Object(a.jsx)(ia.a,{}),exact:!0,gutters:r.itemGutters}),Object(a.jsx)(ba,{to:"/keyboard",text:"IPA Keyboard",icon:Object(a.jsx)(sa.a,{}),exact:!0,gutters:r.itemGutters})]})]});return Object(a.jsxs)("div",{children:[Object(a.jsx)(Zn.a,{anchor:"left",open:t,onClose:j,children:Object(a.jsxs)(ne.a,{display:"flex",minWidth:275,flexDirection:"column",justifyContent:"space-between",height:"100%",overflow:"hidden",role:"presentation",children:[b,Object(a.jsxs)(ne.a,{mb:2,children:[Object(a.jsx)(q.a,{component:"div",children:Object(a.jsxs)(ee.a,{component:"label",container:!0,justify:"center",alignItems:"center",spacing:1,children:[Object(a.jsx)(ee.a,{item:!0,children:"Light"}),Object(a.jsx)(ee.a,{item:!0,children:Object(a.jsx)(ua,{color:"default",checked:e.darkMode,onChange:p})}),Object(a.jsx)(ee.a,{item:!0,children:"Dark"})]})}),Object(a.jsxs)(q.a,{variant:"body2",component:"div",align:"center",color:"textSecondary",children:["Int IPA \u2013"," ",Object(a.jsx)($t.a,{href:Cn,color:"inherit",children:kn})]})]})]})}),Object(a.jsx)(Xn.a,{position:"static",color:"secondary",children:Object(a.jsxs)(ea.a,{classes:{gutters:r.gutters},children:[Object(a.jsx)($.a,{onClick:d,edge:"start",color:"inherit","aria-label":"menu",children:Object(a.jsx)(na.a,{})}),Object(a.jsx)(q.a,{variant:"h6",children:"Int IPA"})]})})]})};const ma=Object(ke.a)((()=>({root:{marginTop:"1rem",marginBottom:"1rem"}})));var xa=()=>{const e=ma();return Object(a.jsx)(Vn.a,{maxWidth:"lg",component:"footer",classes:{root:e.root},children:Object(a.jsxs)(q.a,{align:"center",variant:"body2",color:"textSecondary",children:["Created and maintained by ",Object(a.jsx)($t.a,{href:"https://github.com/R167/int-ipa",color:"textPrimary",children:"Winston Durand"}),". Source code and examples released under the"," ",Object(a.jsx)($t.a,{href:"https://github.com/R167/int-ipa/blob/master/LICENSE",color:"textPrimary",children:"MIT"})," ","license. Website and documentation licensed under"," ",Object(a.jsx)($t.a,{href:"https://creativecommons.org/licenses/by/4.0/",color:"textPrimary",children:"CC BY 4.0"}),"."]})})},Oa=n(214),ga=n(114),va=n(77),fa=n(76),ya=n(213),ka=window.AudioContext||window.webkitAudioContext;const wa={palette:{type:"light",primary:{main:va.a[900]},secondary:{main:fa.a[700]}}},Ca={palette:{type:"dark",primary:{main:va.a[500]},secondary:{main:fa.a[700]}}},Sa=Object(ke.a)((e=>({containerRoot:{marginTop:"".concat(e.spacing(1),"px"),width:"100%",boxSizing:"border-box",display:"block",...da(e)},debug:{pointerEvents:"none",zIndex:1150},debugRoot:{minWidth:0,background:"rgba(240, 240, 240, 0.25)",color:e.palette.text.disabled},siteRoot:{marginBottom:"env(safe-area-inset-bottom, 0px)",display:"flex",minHeight:"100vh",flexDirection:"column"},siteContent:{flex:1}})));function Ra(){const e=Sa(),t=be(),n=Object(ya.a)("(prefers-color-scheme: dark)"),[r,s]=je("useDarkMode",null);Object(c.useEffect)((()=>{0}),[]),Object(c.useEffect)((()=>{const e=()=>{document.removeEventListener("click",e),new ka({latencyHint:"interactive"})};document.addEventListener("click",e)}),[]);const o=null===r?n:r,i=Object(c.useMemo)((()=>Object(ga.a)(o?Ca:wa)),[o]);return Object(a.jsx)("div",{className:e.siteRoot,children:Object(a.jsxs)(Oa.a,{theme:i,children:[Object(a.jsx)(Un.a,{}),Object(a.jsx)(ha,{darkMode:o,changeDarkMode:s}),Object(a.jsx)(Vn.a,{maxWidth:"lg",classes:{root:e.containerRoot},className:e.siteContent,children:Object(a.jsx)(Wn,{})}),Object(a.jsx)(xa,{}),Object(a.jsx)(Fn.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:t,message:"Debug mode",className:e.debug,ContentProps:{classes:{root:e.debugRoot},elevation:o?1:0}})]})})}var Ea=n(113),Ma=n.n(Ea);n(145);const Na=({children:e})=>Object(a.jsx)(yn.b,{children:e});s.a.render(Object(a.jsx)(c.StrictMode,{children:Object(a.jsx)(ue,{children:Object(a.jsx)(J,{children:Object(a.jsx)(Na,{children:Object(a.jsx)(Ra,{})})})})}),document.getElementById("root")),Ma.a.polyfill()},93:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var a=n(60);const c=/[^a-zA-Z0-9-]/g;const r=new Date("2020-02-02"),s="vowelsAreCool!!!",o=async(e,t,n=!0,o)=>{if("undefined"===typeof e||!n)return;const i=t||s,l=(e=>e.replace(/[\s-]+/g,"-").replace(c,""))(e),d=l.toLowerCase(),j=(o||(()=>{const e=new Date;return Math.floor((e.getTime()-r.getTime())/1e3/60).toString(36)})()).toLowerCase(),p=["".concat(d,"_").concat(j),i].join("_");return[l,((e,t)=>{const n=[t.length.toString(36)];for(let a=0;a<t.length;a++)n.push(e.charAt(a)),n.push(t.charAt(a));return n.push(e.slice(t.length,e.length)),n.join("")})((await async function(e){const t=await crypto.subtle.digest("SHA-256",e);return Object(a.c)(new Uint8Array(t))}((new TextEncoder).encode(p))).toLowerCase().replace(/[^a-z0-9]/g,"").slice(0,16),j)].join("_")},i=async(e,t)=>{var n;const a=t||s,i=e.split("_"),[l,d]=i;if(2!==i.length||d.match(c)){return{name:e,correct:!1,message:i.length<2?"Missing validation hash":"Invalid characters in string"}}const[j,p]=(e=>{const t=parseInt(e.charAt(0),36),n=e.slice(1,e.length),a=[],c=[];for(let r=0;r<2*t;r+=2)a.push(n.charAt(r)),c.push(n.charAt(r+1));return a.push(n.slice(2*t,n.length)),[a.join(""),c.join("")]})(d.toLowerCase()),b=(e=>{const t=60*parseInt(e,36)*1e3+r.getTime();return new Date(t)})(p);16!==(null===j||void 0===j?void 0:j.length)&&console.warn("sha segment differs from expected length.");const u=e.toLowerCase();return{name:l,date:b,correct:(null===(n=await o(l,a,!0,p))||void 0===n?void 0:n.toLowerCase())===u,message:e}}},95:function(e,t,n){"use strict";var a=n(2),c=n(152),r=n(28);t.a=e=>Object(a.jsx)(c.a,{component:r.c,...e})},96:function(e,t,n){"use strict";var a=n(2),c=n(42);t.a=()=>Object(a.jsx)(c.a,{variant:"h2",align:"center",children:"The page you are looking for cannot be found \ud83d\ude2b"})}},[[146,1,2]]]);
//# sourceMappingURL=main.4f7540f3.chunk.js.map